const or=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}};or();function V(){}function we(t){return t()}function Vn(){return Object.create(null)}function Nt(t){t.forEach(we)}function sr(t){return typeof t=="function"}function At(t,n){return t!=t?n==n:t!==n||t&&typeof t=="object"||typeof t=="function"}let Pt;function gn(t,n){return Pt||(Pt=document.createElement("a")),Pt.href=n,t===Pt.href}function ar(t){return Object.keys(t).length===0}function k(t,n){t.appendChild(n)}function F(t,n,e){t.insertBefore(n,e||null)}function L(t){t.parentNode.removeChild(t)}function ur(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function S(t){return document.createElement(t)}function j(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ct(t){return document.createTextNode(t)}function R(){return ct(" ")}function xe(){return ct("")}function Gt(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function p(t,n,e){e==null?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function lr(t){return Array.from(t.childNodes)}function be(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function K(t,n,e,r){e===null?t.style.removeProperty(n):t.style.setProperty(n,e,r?"important":"")}let $t;function fr(){if($t===void 0){$t=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch{$t=!0}}return $t}function cr(t,n){getComputedStyle(t).position==="static"&&(t.style.position="relative");const r=S("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=fr();let o;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=Gt(window,"message",s=>{s.source===r.contentWindow&&n()})):(r.src="about:blank",r.onload=()=>{o=Gt(r.contentWindow,"resize",n)}),k(t,r),()=>{(i||o&&r.contentWindow)&&o(),L(r)}}let Pn;function xt(t){Pn=t}const pt=[],Wt=[],Ot=[],Bn=[],hr=Promise.resolve();let mn=!1;function dr(){mn||(mn=!0,hr.then(ke))}function Ut(t){Ot.push(t)}const ln=new Set;let Rt=0;function ke(){const t=Pn;do{for(;Rt<pt.length;){const n=pt[Rt];Rt++,xt(n),gr(n.$$)}for(xt(null),pt.length=0,Rt=0;Wt.length;)Wt.pop()();for(let n=0;n<Ot.length;n+=1){const e=Ot[n];ln.has(e)||(ln.add(e),e())}Ot.length=0}while(pt.length);for(;Bn.length;)Bn.pop()();mn=!1,ln.clear(),xt(t)}function gr(t){if(t.fragment!==null){t.update(),Nt(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(Ut)}}const Dt=new Set;let mr;function Q(t,n){t&&t.i&&(Dt.delete(t),t.i(n))}function ut(t,n,e,r){if(t&&t.o){if(Dt.has(t))return;Dt.add(t),mr.c.push(()=>{Dt.delete(t),r&&(e&&t.d(1),r())}),t.o(n)}}function lt(t){t&&t.c()}function tt(t,n,e,r){const{fragment:i,on_mount:o,on_destroy:s,after_update:a}=t.$$;i&&i.m(n,e),r||Ut(()=>{const u=o.map(we).filter(sr);s?s.push(...u):Nt(u),t.$$.on_mount=[]}),a.forEach(Ut)}function nt(t,n){const e=t.$$;e.fragment!==null&&(Nt(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function pr(t,n){t.$$.dirty[0]===-1&&(pt.push(t),dr(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function St(t,n,e,r,i,o,s,a=[-1]){const u=Pn;xt(t);const l=t.$$={fragment:null,ctx:null,props:o,update:V,not_equal:i,bound:Vn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(u?u.$$.context:[])),callbacks:Vn(),dirty:a,skip_bound:!1,root:n.target||u.$$.root};s&&s(l.root);let f=!1;if(l.ctx=e?e(t,n.props||{},(c,h,...d)=>{const m=d.length?d[0]:h;return l.ctx&&i(l.ctx[c],l.ctx[c]=m)&&(!l.skip_bound&&l.bound[c]&&l.bound[c](m),f&&pr(t,c)),h}):[],l.update(),f=!0,Nt(l.before_update),l.fragment=r?r(l.ctx):!1,n.target){if(n.hydrate){const c=lr(n.target);l.fragment&&l.fragment.l(c),c.forEach(L)}else l.fragment&&l.fragment.c();n.intro&&Q(t.$$.fragment),tt(t,n.target,n.anchor,n.customElement),ke()}xt(u)}class Et{$destroy(){nt(this,1),this.$destroy=V}$on(n,e){const r=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return r.push(e),()=>{const i=r.indexOf(e);i!==-1&&r.splice(i,1)}}$set(n){this.$$set&&!ar(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}var _r="/parking-tickets-toronto/assets/parking-tickets-toronto-web.19b935b6.png",yr="/parking-tickets-toronto/assets/legend.66c8fa29.svg",vr="/parking-tickets-toronto/assets/top-logo.26ddeafd.svg";function wr(t){let n,e,r,i;return{c(){n=S("div"),e=S("a"),r=S("img"),gn(r.src,i=vr)||p(r,"src",i),p(r,"alt","School of Cities"),p(r,"class","svelte-vd8pze"),p(e,"href","https://www.schoolofcities.utoronto.ca/"),p(n,"id","bar"),p(n,"class","svelte-vd8pze")},m(o,s){F(o,n,s),k(n,e),k(e,r)},p:V,i:V,o:V,d(o){o&&L(n)}}}class xr extends Et{constructor(n){super(),St(this,n,null,wr,At,{})}}function Xt(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function br(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Me(t){let n,e,r;t.length!==2?(n=Xt,e=(a,u)=>Xt(t(a),u),r=(a,u)=>t(a)-u):(n=t===Xt||t===br?t:kr,e=t,r=t);function i(a,u,l=0,f=a.length){if(l<f){if(n(u,u)!==0)return f;do{const c=l+f>>>1;e(a[c],u)<0?l=c+1:f=c}while(l<f)}return l}function o(a,u,l=0,f=a.length){if(l<f){if(n(u,u)!==0)return f;do{const c=l+f>>>1;e(a[c],u)<=0?l=c+1:f=c}while(l<f)}return l}function s(a,u,l=0,f=a.length){const c=i(a,u,l,f-1);return c>l&&r(a[c-1],u)>-r(a[c],u)?c-1:c}return{left:i,center:s,right:o}}function kr(){return 0}function Mr(t){return t===null?NaN:+t}const Nr=Me(Xt),Ar=Nr.right;Me(Mr).center;var Sr=Ar,pn=Math.sqrt(50),_n=Math.sqrt(10),yn=Math.sqrt(2);function Er(t,n,e){var r,i=-1,o,s,a;if(n=+n,t=+t,e=+e,t===n&&e>0)return[t];if((r=n<t)&&(o=t,t=n,n=o),(a=Ne(t,n,e))===0||!isFinite(a))return[];if(a>0){let u=Math.round(t/a),l=Math.round(n/a);for(u*a<t&&++u,l*a>n&&--l,s=new Array(o=l-u+1);++i<o;)s[i]=(u+i)*a}else{a=-a;let u=Math.round(t*a),l=Math.round(n*a);for(u/a<t&&++u,l/a>n&&--l,s=new Array(o=l-u+1);++i<o;)s[i]=(u+i)/a}return r&&s.reverse(),s}function Ne(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=pn?10:o>=_n?5:o>=yn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=pn?10:o>=_n?5:o>=yn?2:1)}function Cr(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=pn?i*=10:o>=_n?i*=5:o>=yn&&(i*=2),n<t?-i:i}function Tr(t){return t}var fn=1,cn=2,vn=3,_t=4,Yn=1e-6;function qr(t){return"translate("+t+",0)"}function Lr(t){return"translate(0,"+t+")"}function Pr(t){return n=>+t(n)}function $r(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function Rr(){return!this.__axis}function Ae(t,n){var e=[],r=null,i=null,o=6,s=6,a=3,u=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,l=t===fn||t===_t?-1:1,f=t===_t||t===cn?"x":"y",c=t===fn||t===vn?qr:Lr;function h(d){var m=r==null?n.ticks?n.ticks.apply(n,e):n.domain():r,x=i==null?n.tickFormat?n.tickFormat.apply(n,e):Tr:i,_=Math.max(o,0)+a,b=n.range(),g=+b[0]+u,y=+b[b.length-1]+u,w=(n.bandwidth?$r:Pr)(n.copy(),u),M=d.selection?d.selection():d,C=M.selectAll(".domain").data([null]),N=M.selectAll(".tick").data(m,n).order(),$=N.exit(),I=N.enter().append("g").attr("class","tick"),z=N.select("line"),v=N.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),N=N.merge(I),z=z.merge(I.append("line").attr("stroke","currentColor").attr(f+"2",l*o)),v=v.merge(I.append("text").attr("fill","currentColor").attr(f,l*_).attr("dy",t===fn?"0em":t===vn?"0.71em":"0.32em")),d!==M&&(C=C.transition(d),N=N.transition(d),z=z.transition(d),v=v.transition(d),$=$.transition(d).attr("opacity",Yn).attr("transform",function(E){return isFinite(E=w(E))?c(E+u):this.getAttribute("transform")}),I.attr("opacity",Yn).attr("transform",function(E){var A=this.parentNode.__axis;return c((A&&isFinite(A=A(E))?A:w(E))+u)})),$.remove(),C.attr("d",t===_t||t===cn?s?"M"+l*s+","+g+"H"+u+"V"+y+"H"+l*s:"M"+u+","+g+"V"+y:s?"M"+g+","+l*s+"V"+u+"H"+y+"V"+l*s:"M"+g+","+u+"H"+y),N.attr("opacity",1).attr("transform",function(E){return c(w(E)+u)}),z.attr(f+"2",l*o),v.attr(f,l*_).text(x),M.filter(Rr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===cn?"start":t===_t?"end":"middle"),M.each(function(){this.__axis=w})}return h.scale=function(d){return arguments.length?(n=d,h):n},h.ticks=function(){return e=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(e=d==null?[]:Array.from(d),h):e.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(i=d,h):i},h.tickSize=function(d){return arguments.length?(o=s=+d,h):o},h.tickSizeInner=function(d){return arguments.length?(o=+d,h):o},h.tickSizeOuter=function(d){return arguments.length?(s=+d,h):s},h.tickPadding=function(d){return arguments.length?(a=+d,h):a},h.offset=function(d){return arguments.length?(u=+d,h):u},h}function Gn(t){return Ae(vn,t)}function wn(t){return Ae(_t,t)}var Fr={value:()=>{}};function Se(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Vt(e)}function Vt(t){this._=t}function Ir(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Vt.prototype=Se.prototype={constructor:Vt,on:function(t,n){var e=this._,r=Ir(t+"",e),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=zr(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<s;)if(i=(t=r[o]).type)e[i]=Wn(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Wn(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Vt(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function zr(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Wn(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Fr,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var xn="http://www.w3.org/1999/xhtml",Un={svg:"http://www.w3.org/2000/svg",xhtml:xn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function sn(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Un.hasOwnProperty(n)?{space:Un[n],local:t}:t}function Hr(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===xn&&n.documentElement.namespaceURI===xn?n.createElement(t):n.createElementNS(e,t)}}function Or(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ee(t){var n=sn(t);return(n.local?Or:Hr)(n)}function Dr(){}function $n(t){return t==null?Dr:function(){return this.querySelector(t)}}function Xr(t){typeof t!="function"&&(t=$n(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],s=o.length,a=r[i]=new Array(s),u,l,f=0;f<s;++f)(u=o[f])&&(l=t.call(u,u.__data__,f,o))&&("__data__"in u&&(l.__data__=u.__data__),a[f]=l);return new P(r,this._parents)}function Vr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Br(){return[]}function Ce(t){return t==null?Br:function(){return this.querySelectorAll(t)}}function Yr(t){return function(){return Vr(t.apply(this,arguments))}}function Gr(t){typeof t=="function"?t=Yr(t):t=Ce(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var s=n[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&(r.push(t.call(u,u.__data__,l,s)),i.push(u));return new P(r,i)}function Te(t){return function(){return this.matches(t)}}function qe(t){return function(n){return n.matches(t)}}var Wr=Array.prototype.find;function Ur(t){return function(){return Wr.call(this.children,t)}}function jr(){return this.firstElementChild}function Kr(t){return this.select(t==null?jr:Ur(typeof t=="function"?t:qe(t)))}var Zr=Array.prototype.filter;function Jr(){return Array.from(this.children)}function Qr(t){return function(){return Zr.call(this.children,t)}}function ti(t){return this.selectAll(t==null?Jr:Qr(typeof t=="function"?t:qe(t)))}function ni(t){typeof t!="function"&&(t=Te(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new P(r,this._parents)}function Le(t){return new Array(t.length)}function ei(){return new P(this._enter||this._groups.map(Le),this._parents)}function jt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}jt.prototype={constructor:jt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ri(t){return function(){return t}}function ii(t,n,e,r,i,o){for(var s=0,a,u=n.length,l=o.length;s<l;++s)(a=n[s])?(a.__data__=o[s],r[s]=a):e[s]=new jt(t,o[s]);for(;s<u;++s)(a=n[s])&&(i[s]=a)}function oi(t,n,e,r,i,o,s){var a,u,l=new Map,f=n.length,c=o.length,h=new Array(f),d;for(a=0;a<f;++a)(u=n[a])&&(h[a]=d=s.call(u,u.__data__,a,n)+"",l.has(d)?i[a]=u:l.set(d,u));for(a=0;a<c;++a)d=s.call(t,o[a],a,o)+"",(u=l.get(d))?(r[a]=u,u.__data__=o[a],l.delete(d)):e[a]=new jt(t,o[a]);for(a=0;a<f;++a)(u=n[a])&&l.get(h[a])===u&&(i[a]=u)}function si(t){return t.__data__}function ai(t,n){if(!arguments.length)return Array.from(this,si);var e=n?oi:ii,r=this._parents,i=this._groups;typeof t!="function"&&(t=ri(t));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),l=0;l<o;++l){var f=r[l],c=i[l],h=c.length,d=ui(t.call(f,f&&f.__data__,l,r)),m=d.length,x=a[l]=new Array(m),_=s[l]=new Array(m),b=u[l]=new Array(h);e(f,c,x,_,b,d,n);for(var g=0,y=0,w,M;g<m;++g)if(w=x[g]){for(g>=y&&(y=g+1);!(M=_[y])&&++y<m;);w._next=M||null}}return s=new P(s,r),s._enter=a,s._exit=u,s}function ui(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function li(){return new P(this._exit||this._groups.map(Le),this._parents)}function fi(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function ci(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var l=e[u],f=r[u],c=l.length,h=a[u]=new Array(c),d,m=0;m<c;++m)(d=l[m]||f[m])&&(h[m]=d);for(;u<i;++u)a[u]=e[u];return new P(a,this._parents)}function hi(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function di(t){t||(t=gi);function n(c,h){return c&&h?t(c.__data__,h.__data__):!c-!h}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var s=e[o],a=s.length,u=i[o]=new Array(a),l,f=0;f<a;++f)(l=s[f])&&(u[f]=l);u.sort(n)}return new P(i,this._parents).order()}function gi(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function mi(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function pi(){return Array.from(this)}function _i(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function yi(){let t=0;for(const n of this)++t;return t}function vi(){return!this.node()}function wi(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function xi(t){return function(){this.removeAttribute(t)}}function bi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ki(t,n){return function(){this.setAttribute(t,n)}}function Mi(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Ni(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Ai(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Si(t,n){var e=sn(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?bi:xi:typeof n=="function"?e.local?Ai:Ni:e.local?Mi:ki)(e,n))}function Pe(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ei(t){return function(){this.style.removeProperty(t)}}function Ci(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Ti(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function qi(t,n,e){return arguments.length>1?this.each((n==null?Ei:typeof n=="function"?Ti:Ci)(t,n,e==null?"":e)):ht(this.node(),t)}function ht(t,n){return t.style.getPropertyValue(n)||Pe(t).getComputedStyle(t,null).getPropertyValue(n)}function Li(t){return function(){delete this[t]}}function Pi(t,n){return function(){this[t]=n}}function $i(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Ri(t,n){return arguments.length>1?this.each((n==null?Li:typeof n=="function"?$i:Pi)(t,n)):this.node()[t]}function $e(t){return t.trim().split(/^|\s+/)}function Rn(t){return t.classList||new Re(t)}function Re(t){this._node=t,this._names=$e(t.getAttribute("class")||"")}Re.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Fe(t,n){for(var e=Rn(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Ie(t,n){for(var e=Rn(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Fi(t){return function(){Fe(this,t)}}function Ii(t){return function(){Ie(this,t)}}function zi(t,n){return function(){(n.apply(this,arguments)?Fe:Ie)(this,t)}}function Hi(t,n){var e=$e(t+"");if(arguments.length<2){for(var r=Rn(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?zi:n?Fi:Ii)(e,n))}function Oi(){this.textContent=""}function Di(t){return function(){this.textContent=t}}function Xi(t){return function(){var n=t.apply(this,arguments);this.textContent=n==null?"":n}}function Vi(t){return arguments.length?this.each(t==null?Oi:(typeof t=="function"?Xi:Di)(t)):this.node().textContent}function Bi(){this.innerHTML=""}function Yi(t){return function(){this.innerHTML=t}}function Gi(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n==null?"":n}}function Wi(t){return arguments.length?this.each(t==null?Bi:(typeof t=="function"?Gi:Yi)(t)):this.node().innerHTML}function Ui(){this.nextSibling&&this.parentNode.appendChild(this)}function ji(){return this.each(Ui)}function Ki(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Zi(){return this.each(Ki)}function Ji(t){var n=typeof t=="function"?t:Ee(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function Qi(){return null}function to(t,n){var e=typeof t=="function"?t:Ee(t),r=n==null?Qi:typeof n=="function"?n:$n(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function no(){var t=this.parentNode;t&&t.removeChild(this)}function eo(){return this.each(no)}function ro(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function io(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function oo(t){return this.select(t?io:ro)}function so(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ao(t){return function(n){t.call(this,n,this.__data__)}}function uo(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function lo(t){return function(){var n=this.__on;if(!!n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function fo(t,n,e){return function(){var r=this.__on,i,o=ao(n);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function co(t,n,e){var r=uo(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,f;u<l;++u)for(i=0,f=a[u];i<o;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(a=n?fo:lo,i=0;i<o;++i)this.each(a(r[i],n,e));return this}function ze(t,n,e){var r=Pe(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function ho(t,n){return function(){return ze(this,t,n)}}function go(t,n){return function(){return ze(this,t,n.apply(this,arguments))}}function mo(t,n){return this.each((typeof n=="function"?go:ho)(t,n))}function*po(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var He=[null];function P(t,n){this._groups=t,this._parents=n}function Ct(){return new P([[document.documentElement]],He)}function _o(){return this}P.prototype=Ct.prototype={constructor:P,select:Xr,selectAll:Gr,selectChild:Kr,selectChildren:ti,filter:ni,data:ai,enter:ei,exit:li,join:fi,merge:ci,selection:_o,order:hi,sort:di,call:mi,nodes:pi,node:_i,size:yi,empty:vi,each:wi,attr:Si,style:qi,property:Ri,classed:Hi,text:Vi,html:Wi,raise:ji,lower:Zi,append:Ji,insert:to,remove:eo,clone:oo,datum:so,on:co,dispatch:mo,[Symbol.iterator]:po};function Kt(t){return typeof t=="string"?new P([[document.querySelector(t)]],[document.documentElement]):new P([[t]],He)}function Fn(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Oe(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Tt(){}var bt=.7,Zt=1/bt,ft="\\s*([+-]?\\d+)\\s*",kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",B="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yo=/^#([0-9a-f]{3,8})$/,vo=new RegExp(`^rgb\\(${ft},${ft},${ft}\\)$`),wo=new RegExp(`^rgb\\(${B},${B},${B}\\)$`),xo=new RegExp(`^rgba\\(${ft},${ft},${ft},${kt}\\)$`),bo=new RegExp(`^rgba\\(${B},${B},${B},${kt}\\)$`),ko=new RegExp(`^hsl\\(${kt},${B},${B}\\)$`),Mo=new RegExp(`^hsla\\(${kt},${B},${B},${kt}\\)$`),jn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fn(Tt,rt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Kn,formatHex:Kn,formatHex8:No,formatHsl:Ao,formatRgb:Zn,toString:Zn});function Kn(){return this.rgb().formatHex()}function No(){return this.rgb().formatHex8()}function Ao(){return De(this).formatHsl()}function Zn(){return this.rgb().formatRgb()}function rt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=yo.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?Jn(n):e===3?new q(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Ft(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Ft(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=vo.exec(t))?new q(n[1],n[2],n[3],1):(n=wo.exec(t))?new q(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=xo.exec(t))?Ft(n[1],n[2],n[3],n[4]):(n=bo.exec(t))?Ft(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=ko.exec(t))?ne(n[1],n[2]/100,n[3]/100,1):(n=Mo.exec(t))?ne(n[1],n[2]/100,n[3]/100,n[4]):jn.hasOwnProperty(t)?Jn(jn[t]):t==="transparent"?new q(NaN,NaN,NaN,0):null}function Jn(t){return new q(t>>16&255,t>>8&255,t&255,1)}function Ft(t,n,e,r){return r<=0&&(t=n=e=NaN),new q(t,n,e,r)}function So(t){return t instanceof Tt||(t=rt(t)),t?(t=t.rgb(),new q(t.r,t.g,t.b,t.opacity)):new q}function bn(t,n,e,r){return arguments.length===1?So(t):new q(t,n,e,r==null?1:r)}function q(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}Fn(q,bn,Oe(Tt,{brighter(t){return t=t==null?Zt:Math.pow(Zt,t),new q(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?bt:Math.pow(bt,t),new q(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new q(et(this.r),et(this.g),et(this.b),Jt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qn,formatHex:Qn,formatHex8:Eo,formatRgb:te,toString:te}));function Qn(){return`#${J(this.r)}${J(this.g)}${J(this.b)}`}function Eo(){return`#${J(this.r)}${J(this.g)}${J(this.b)}${J((isNaN(this.opacity)?1:this.opacity)*255)}`}function te(){const t=Jt(this.opacity);return`${t===1?"rgb(":"rgba("}${et(this.r)}, ${et(this.g)}, ${et(this.b)}${t===1?")":`, ${t})`}`}function Jt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function et(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function J(t){return t=et(t),(t<16?"0":"")+t.toString(16)}function ne(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new D(t,n,e,r)}function De(t){if(t instanceof D)return new D(t.h,t.s,t.l,t.opacity);if(t instanceof Tt||(t=rt(t)),!t)return new D;if(t instanceof D)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),s=NaN,a=o-i,u=(o+i)/2;return a?(n===o?s=(e-r)/a+(e<r)*6:e===o?s=(r-n)/a+2:s=(n-e)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new D(s,a,u,t.opacity)}function Co(t,n,e,r){return arguments.length===1?De(t):new D(t,n,e,r==null?1:r)}function D(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Fn(D,Co,Oe(Tt,{brighter(t){return t=t==null?Zt:Math.pow(Zt,t),new D(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?bt:Math.pow(bt,t),new D(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new q(hn(t>=240?t-240:t+120,i,r),hn(t,i,r),hn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new D(ee(this.h),It(this.s),It(this.l),Jt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Jt(this.opacity);return`${t===1?"hsl(":"hsla("}${ee(this.h)}, ${It(this.s)*100}%, ${It(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ee(t){return t=(t||0)%360,t<0?t+360:t}function It(t){return Math.max(0,Math.min(1,t||0))}function hn(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}var In=t=>()=>t;function To(t,n){return function(e){return t+e*n}}function qo(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Lo(t){return(t=+t)==1?Xe:function(n,e){return e-n?qo(n,e,t):In(isNaN(n)?e:n)}}function Xe(t,n){var e=n-t;return e?To(t,e):In(isNaN(t)?n:t)}var Qt=function t(n){var e=Lo(n);function r(i,o){var s=e((i=bn(i)).r,(o=bn(o)).r),a=e(i.g,o.g),u=e(i.b,o.b),l=Xe(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=a(f),i.b=u(f),i.opacity=l(f),i+""}}return r.gamma=t,r}(1);function Po(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function $o(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ro(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),s;for(s=0;s<r;++s)i[s]=zn(t[s],n[s]);for(;s<e;++s)o[s]=n[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Fo(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function O(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Io(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=zn(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var kn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dn=new RegExp(kn.source,"g");function zo(t){return function(){return t}}function Ho(t){return function(n){return t(n)+""}}function Ve(t,n){var e=kn.lastIndex=dn.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(t=t+"",n=n+"";(r=kn.exec(t))&&(i=dn.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:O(r,i)})),e=dn.lastIndex;return e<n.length&&(o=n.slice(e),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?Ho(u[0].x):zo(n):(n=u.length,function(l){for(var f=0,c;f<n;++f)a[(c=u[f]).i]=c.x(l);return a.join("")})}function zn(t,n){var e=typeof n,r;return n==null||e==="boolean"?In(n):(e==="number"?O:e==="string"?(r=rt(n))?(n=r,Qt):Ve:n instanceof rt?Qt:n instanceof Date?Fo:$o(n)?Po:Array.isArray(n)?Ro:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Io:O)(t,n)}function Oo(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var re=180/Math.PI,Mn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Be(t,n,e,r,i,o){var s,a,u;return(s=Math.sqrt(t*t+n*n))&&(t/=s,n/=s),(u=t*e+n*r)&&(e-=t*u,r-=n*u),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,u/=a),t*r<n*e&&(t=-t,n=-n,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*re,skewX:Math.atan(u)*re,scaleX:s,scaleY:a}}var zt;function Do(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Mn:Be(n.a,n.b,n.c,n.d,n.e,n.f)}function Xo(t){return t==null||(zt||(zt=document.createElementNS("http://www.w3.org/2000/svg","g")),zt.setAttribute("transform",t),!(t=zt.transform.baseVal.consolidate()))?Mn:(t=t.matrix,Be(t.a,t.b,t.c,t.d,t.e,t.f))}function Ye(t,n,e,r){function i(l){return l.length?l.pop()+" ":""}function o(l,f,c,h,d,m){if(l!==c||f!==h){var x=d.push("translate(",null,n,null,e);m.push({i:x-4,x:O(l,c)},{i:x-2,x:O(f,h)})}else(c||h)&&d.push("translate("+c+n+h+e)}function s(l,f,c,h){l!==f?(l-f>180?f+=360:f-l>180&&(l+=360),h.push({i:c.push(i(c)+"rotate(",null,r)-2,x:O(l,f)})):f&&c.push(i(c)+"rotate("+f+r)}function a(l,f,c,h){l!==f?h.push({i:c.push(i(c)+"skewX(",null,r)-2,x:O(l,f)}):f&&c.push(i(c)+"skewX("+f+r)}function u(l,f,c,h,d,m){if(l!==c||f!==h){var x=d.push(i(d)+"scale(",null,",",null,")");m.push({i:x-4,x:O(l,c)},{i:x-2,x:O(f,h)})}else(c!==1||h!==1)&&d.push(i(d)+"scale("+c+","+h+")")}return function(l,f){var c=[],h=[];return l=t(l),f=t(f),o(l.translateX,l.translateY,f.translateX,f.translateY,c,h),s(l.rotate,f.rotate,c,h),a(l.skewX,f.skewX,c,h),u(l.scaleX,l.scaleY,f.scaleX,f.scaleY,c,h),l=f=null,function(d){for(var m=-1,x=h.length,_;++m<x;)c[(_=h[m]).i]=_.x(d);return c.join("")}}}var Vo=Ye(Do,"px, ","px)","deg)"),Bo=Ye(Xo,", ",")",")"),dt=0,yt=0,mt=0,Ge=1e3,tn,vt,nn=0,it=0,an=0,Mt=typeof performance=="object"&&performance.now?performance:Date,We=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Hn(){return it||(We(Yo),it=Mt.now()+an)}function Yo(){it=0}function en(){this._call=this._time=this._next=null}en.prototype=Ue.prototype={constructor:en,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Hn():+e)+(n==null?0:+n),!this._next&&vt!==this&&(vt?vt._next=this:tn=this,vt=this),this._call=t,this._time=e,Nn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Nn())}};function Ue(t,n,e){var r=new en;return r.restart(t,n,e),r}function Go(){Hn(),++dt;for(var t=tn,n;t;)(n=it-t._time)>=0&&t._call.call(void 0,n),t=t._next;--dt}function ie(){it=(nn=Mt.now())+an,dt=yt=0;try{Go()}finally{dt=0,Uo(),it=0}}function Wo(){var t=Mt.now(),n=t-nn;n>Ge&&(an-=n,nn=t)}function Uo(){for(var t,n=tn,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:tn=e);vt=t,Nn(r)}function Nn(t){if(!dt){yt&&(yt=clearTimeout(yt));var n=t-it;n>24?(t<1/0&&(yt=setTimeout(ie,t-Mt.now()-an)),mt&&(mt=clearInterval(mt))):(mt||(nn=Mt.now(),mt=setInterval(Wo,Ge)),dt=1,We(ie))}}function oe(t,n,e){var r=new en;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var jo=Se("start","end","cancel","interrupt"),Ko=[],je=0,se=1,An=2,Bt=3,ae=4,Sn=5,Yt=6;function un(t,n,e,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(e in s)return;Zo(t,e,{name:n,index:r,group:i,on:jo,tween:Ko,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:je})}function On(t,n){var e=X(t,n);if(e.state>je)throw new Error("too late; already scheduled");return e}function Y(t,n){var e=X(t,n);if(e.state>Bt)throw new Error("too late; already running");return e}function X(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Zo(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=Ue(o,0,e.time);function o(l){e.state=se,e.timer.restart(s,e.delay,e.time),e.delay<=l&&s(l-e.delay)}function s(l){var f,c,h,d;if(e.state!==se)return u();for(f in r)if(d=r[f],d.name===e.name){if(d.state===Bt)return oe(s);d.state===ae?(d.state=Yt,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[f]):+f<n&&(d.state=Yt,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[f])}if(oe(function(){e.state===Bt&&(e.state=ae,e.timer.restart(a,e.delay,e.time),a(l))}),e.state=An,e.on.call("start",t,t.__data__,e.index,e.group),e.state===An){for(e.state=Bt,i=new Array(h=e.tween.length),f=0,c=-1;f<h;++f)(d=e.tween[f].value.call(t,t.__data__,e.index,e.group))&&(i[++c]=d);i.length=c+1}}function a(l){for(var f=l<e.duration?e.ease.call(null,l/e.duration):(e.timer.restart(u),e.state=Sn,1),c=-1,h=i.length;++c<h;)i[c].call(t,f);e.state===Sn&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){e.state=Yt,e.timer.stop(),delete r[n];for(var l in r)return;delete t.__transition}}function Jo(t,n){var e=t.__transition,r,i,o=!0,s;if(!!e){n=n==null?null:n+"";for(s in e){if((r=e[s]).name!==n){o=!1;continue}i=r.state>An&&r.state<Sn,r.state=Yt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[s]}o&&delete t.__transition}}function Qo(t){return this.each(function(){Jo(this,t)})}function ts(t,n){var e,r;return function(){var i=Y(this,t),o=i.tween;if(o!==e){r=e=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===n){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function ns(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=Y(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:n,value:e},u=0,l=i.length;u<l;++u)if(i[u].name===n){i[u]=a;break}u===l&&i.push(a)}o.tween=i}}function es(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=X(this.node(),e).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((n==null?ts:ns)(e,t,n))}function Dn(t,n,e){var r=t._id;return t.each(function(){var i=Y(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return X(i,r).value[n]}}function Ke(t,n){var e;return(typeof n=="number"?O:n instanceof rt?Qt:(e=rt(n))?(n=e,Qt):Ve)(t,n)}function rs(t){return function(){this.removeAttribute(t)}}function is(t){return function(){this.removeAttributeNS(t.space,t.local)}}function os(t,n,e){var r,i=e+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=n(r=s,e)}}function ss(t,n,e){var r,i=e+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=n(r=s,e)}}function as(t,n,e){var r,i,o;return function(){var s,a=e(this),u;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=n(r=s,a)))}}function us(t,n,e){var r,i,o;return function(){var s,a=e(this),u;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=n(r=s,a)))}}function ls(t,n){var e=sn(t),r=e==="transform"?Bo:Ke;return this.attrTween(t,typeof n=="function"?(e.local?us:as)(e,r,Dn(this,"attr."+t,n)):n==null?(e.local?is:rs)(e):(e.local?ss:os)(e,r,n))}function fs(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function cs(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function hs(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&cs(t,o)),e}return i._value=n,i}function ds(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&fs(t,o)),e}return i._value=n,i}function gs(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=sn(t);return this.tween(e,(r.local?hs:ds)(r,n))}function ms(t,n){return function(){On(this,t).delay=+n.apply(this,arguments)}}function ps(t,n){return n=+n,function(){On(this,t).delay=n}}function _s(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?ms:ps)(n,t)):X(this.node(),n).delay}function ys(t,n){return function(){Y(this,t).duration=+n.apply(this,arguments)}}function vs(t,n){return n=+n,function(){Y(this,t).duration=n}}function ws(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?ys:vs)(n,t)):X(this.node(),n).duration}function xs(t,n){if(typeof n!="function")throw new Error;return function(){Y(this,t).ease=n}}function bs(t){var n=this._id;return arguments.length?this.each(xs(n,t)):X(this.node(),n).ease}function ks(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;Y(this,t).ease=e}}function Ms(t){if(typeof t!="function")throw new Error;return this.each(ks(this._id,t))}function Ns(t){typeof t!="function"&&(t=Te(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new U(r,this._parents,this._name,this._id)}function As(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u=n[a],l=e[a],f=u.length,c=s[a]=new Array(f),h,d=0;d<f;++d)(h=u[d]||l[d])&&(c[d]=h);for(;a<r;++a)s[a]=n[a];return new U(s,this._parents,this._name,this._id)}function Ss(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Es(t,n,e){var r,i,o=Ss(n)?On:Y;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(n,e),s.on=i}}function Cs(t,n){var e=this._id;return arguments.length<2?X(this.node(),e).on.on(t):this.each(Es(e,t,n))}function Ts(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function qs(){return this.on("end.remove",Ts(this._id))}function Ls(t){var n=this._name,e=this._id;typeof t!="function"&&(t=$n(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],u=a.length,l=o[s]=new Array(u),f,c,h=0;h<u;++h)(f=a[h])&&(c=t.call(f,f.__data__,h,a))&&("__data__"in f&&(c.__data__=f.__data__),l[h]=c,un(l[h],n,e,h,l,X(f,e)));return new U(o,this._parents,n,e)}function Ps(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Ce(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u=r[a],l=u.length,f,c=0;c<l;++c)if(f=u[c]){for(var h=t.call(f,f.__data__,c,u),d,m=X(f,e),x=0,_=h.length;x<_;++x)(d=h[x])&&un(d,n,e,x,h,m);o.push(h),s.push(f)}return new U(o,s,n,e)}var $s=Ct.prototype.constructor;function Rs(){return new $s(this._groups,this._parents)}function Fs(t,n){var e,r,i;return function(){var o=ht(this,t),s=(this.style.removeProperty(t),ht(this,t));return o===s?null:o===e&&s===r?i:i=n(e=o,r=s)}}function Ze(t){return function(){this.style.removeProperty(t)}}function Is(t,n,e){var r,i=e+"",o;return function(){var s=ht(this,t);return s===i?null:s===r?o:o=n(r=s,e)}}function zs(t,n,e){var r,i,o;return function(){var s=ht(this,t),a=e(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(t),ht(this,t))),s===u?null:s===r&&u===i?o:(i=u,o=n(r=s,a))}}function Hs(t,n){var e,r,i,o="style."+n,s="end."+o,a;return function(){var u=Y(this,t),l=u.on,f=u.value[o]==null?a||(a=Ze(n)):void 0;(l!==e||i!==f)&&(r=(e=l).copy()).on(s,i=f),u.on=r}}function Os(t,n,e){var r=(t+="")=="transform"?Vo:Ke;return n==null?this.styleTween(t,Fs(t,r)).on("end.style."+t,Ze(t)):typeof n=="function"?this.styleTween(t,zs(t,r,Dn(this,"style."+t,n))).each(Hs(this._id,t)):this.styleTween(t,Is(t,r,n),e).on("end.style."+t,null)}function Ds(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Xs(t,n,e){var r,i;function o(){var s=n.apply(this,arguments);return s!==i&&(r=(i=s)&&Ds(t,s,e)),r}return o._value=n,o}function Vs(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Xs(t,n,e==null?"":e))}function Bs(t){return function(){this.textContent=t}}function Ys(t){return function(){var n=t(this);this.textContent=n==null?"":n}}function Gs(t){return this.tween("text",typeof t=="function"?Ys(Dn(this,"text",t)):Bs(t==null?"":t+""))}function Ws(t){return function(n){this.textContent=t.call(this,n)}}function Us(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&Ws(i)),n}return r._value=t,r}function js(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Us(t))}function Ks(){for(var t=this._name,n=this._id,e=Je(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)if(u=s[l]){var f=X(u,n);un(u,t,e,l,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new U(r,this._parents,t,e)}function Zs(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};e.each(function(){var l=Y(this,r),f=l.on;f!==t&&(n=(t=f).copy(),n._.cancel.push(a),n._.interrupt.push(a),n._.end.push(u)),l.on=n}),i===0&&o()})}var Js=0;function U(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Je(){return++Js}var W=Ct.prototype;U.prototype={constructor:U,select:Ls,selectAll:Ps,selectChild:W.selectChild,selectChildren:W.selectChildren,filter:Ns,merge:As,selection:Rs,transition:Ks,call:W.call,nodes:W.nodes,node:W.node,size:W.size,empty:W.empty,each:W.each,on:Cs,attr:ls,attrTween:gs,style:Os,styleTween:Vs,text:Gs,textTween:js,remove:qs,tween:es,delay:_s,duration:ws,ease:bs,easeVarying:Ms,end:Zs,[Symbol.iterator]:W[Symbol.iterator]};function Qs(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ta={time:null,delay:0,duration:250,ease:Qs};function na(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function ea(t){var n,e;t instanceof U?(n=t._id,t=t._name):(n=Je(),(e=ta).time=Hn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&un(u,t,n,l,s,e||na(u,n));return new U(r,this._parents,t,n)}Ct.prototype.interrupt=Qo;Ct.prototype.transition=ea;const En=Math.PI,Cn=2*En,Z=1e-6,ra=Cn-Z;function Tn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Qe(){return new Tn}Tn.prototype=Qe.prototype={constructor:Tn,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,s=this._y1,a=e-t,u=r-n,l=o-t,f=s-n,c=l*l+f*f;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(c>Z)if(!(Math.abs(f*a-u*l)>Z)||!i)this._+="L"+(this._x1=t)+","+(this._y1=n);else{var h=e-o,d=r-s,m=a*a+u*u,x=h*h+d*d,_=Math.sqrt(m),b=Math.sqrt(c),g=i*Math.tan((En-Math.acos((m+c-x)/(2*_*b)))/2),y=g/b,w=g/_;Math.abs(y-1)>Z&&(this._+="L"+(t+y*l)+","+(n+y*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>l*d)+","+(this._x1=t+w*a)+","+(this._y1=n+w*u)}},arc:function(t,n,e,r,i,o){t=+t,n=+n,e=+e,o=!!o;var s=e*Math.cos(r),a=e*Math.sin(r),u=t+s,l=n+a,f=1^o,c=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);this._x1===null?this._+="M"+u+","+l:(Math.abs(this._x1-u)>Z||Math.abs(this._y1-l)>Z)&&(this._+="L"+u+","+l),e&&(c<0&&(c=c%Cn+Cn),c>ra?this._+="A"+e+","+e+",0,1,"+f+","+(t-s)+","+(n-a)+"A"+e+","+e+",0,1,"+f+","+(this._x1=u)+","+(this._y1=l):c>Z&&(this._+="A"+e+","+e+",0,"+ +(c>=En)+","+f+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};function ia(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function rn(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function gt(t){return t=rn(Math.abs(t)),t?t[1]:NaN}function oa(t,n){return function(e,r){for(var i=e.length,o=[],s=0,a=t[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),o.push(e.substring(i-=a,i+a)),!((u+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(n)}}function sa(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var aa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function on(t){if(!(n=aa.exec(t)))throw new Error("invalid format: "+t);var n;return new Xn({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}on.prototype=Xn.prototype;function Xn(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Xn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ua(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var tr;function la(t,n){var e=rn(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(tr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+rn(t,Math.max(0,n+o-1))[0]}function ue(t,n){var e=rn(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var le={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ia,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>ue(t*100,n),r:ue,s:la,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fe(t){return t}var ce=Array.prototype.map,he=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function fa(t){var n=t.grouping===void 0||t.thousands===void 0?fe:oa(ce.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?fe:sa(ce.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"\u2212":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(c){c=on(c);var h=c.fill,d=c.align,m=c.sign,x=c.symbol,_=c.zero,b=c.width,g=c.comma,y=c.precision,w=c.trim,M=c.type;M==="n"?(g=!0,M="g"):le[M]||(y===void 0&&(y=12),w=!0,M="g"),(_||h==="0"&&d==="=")&&(_=!0,h="0",d="=");var C=x==="$"?e:x==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",N=x==="$"?r:/[%p]/.test(M)?s:"",$=le[M],I=/[defgprs%]/.test(M);y=y===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function z(v){var E=C,A=N,H,T,ot;if(M==="c")A=$(v)+A,v="";else{v=+v;var qt=v<0||1/v<0;if(v=isNaN(v)?u:$(Math.abs(v),y),w&&(v=ua(v)),qt&&+v==0&&m!=="+"&&(qt=!1),E=(qt?m==="("?m:a:m==="-"||m==="("?"":m)+E,A=(M==="s"?he[8+tr/3]:"")+A+(qt&&m==="("?")":""),I){for(H=-1,T=v.length;++H<T;)if(ot=v.charCodeAt(H),48>ot||ot>57){A=(ot===46?i+v.slice(H+1):v.slice(H))+A,v=v.slice(0,H);break}}}g&&!_&&(v=n(v,1/0));var Lt=E.length+v.length+A.length,G=Lt<b?new Array(b-Lt+1).join(h):"";switch(g&&_&&(v=n(G+v,G.length?b-A.length:1/0),G=""),d){case"<":v=E+v+A+G;break;case"=":v=E+G+v+A;break;case"^":v=G.slice(0,Lt=G.length>>1)+E+v+A+G.slice(Lt);break;default:v=G+E+v+A;break}return o(v)}return z.toString=function(){return c+""},z}function f(c,h){var d=l((c=on(c),c.type="f",c)),m=Math.max(-8,Math.min(8,Math.floor(gt(h)/3)))*3,x=Math.pow(10,-m),_=he[8+m/3];return function(b){return d(x*b)+_}}return{format:l,formatPrefix:f}}var Ht,nr,er;ca({thousands:",",grouping:[3],currency:["$",""]});function ca(t){return Ht=fa(t),nr=Ht.format,er=Ht.formatPrefix,Ht}function ha(t){return Math.max(0,-gt(Math.abs(t)))}function da(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gt(n)/3)))*3-gt(Math.abs(t)))}function ga(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,gt(n)-gt(t))+1}function ma(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function pa(t){return function(){return t}}function _a(t){return+t}var de=[0,1];function at(t){return t}function qn(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:pa(isNaN(n)?NaN:.5)}function ya(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function va(t,n,e){var r=t[0],i=t[1],o=n[0],s=n[1];return i<r?(r=qn(i,r),o=e(s,o)):(r=qn(r,i),o=e(o,s)),function(a){return o(r(a))}}function wa(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<r;)i[s]=qn(t[s],t[s+1]),o[s]=e(n[s],n[s+1]);return function(a){var u=Sr(t,a,1,r)-1;return o[u](i[u](a))}}function xa(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ba(){var t=de,n=de,e=zn,r,i,o,s=at,a,u,l;function f(){var h=Math.min(t.length,n.length);return s!==at&&(s=ya(t[0],t[h-1])),a=h>2?wa:va,u=l=null,c}function c(h){return h==null||isNaN(h=+h)?o:(u||(u=a(t.map(r),n,e)))(r(s(h)))}return c.invert=function(h){return s(i((l||(l=a(n,t.map(r),O)))(h)))},c.domain=function(h){return arguments.length?(t=Array.from(h,_a),f()):t.slice()},c.range=function(h){return arguments.length?(n=Array.from(h),f()):n.slice()},c.rangeRound=function(h){return n=Array.from(h),e=Oo,f()},c.clamp=function(h){return arguments.length?(s=h?!0:at,f()):s!==at},c.interpolate=function(h){return arguments.length?(e=h,f()):e},c.unknown=function(h){return arguments.length?(o=h,c):o},function(h,d){return r=h,i=d,f()}}function ka(){return ba()(at,at)}function Ma(t,n,e,r){var i=Cr(t,n,e),o;switch(r=on(r==null?",f":r),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=da(i,s))&&(r.precision=o),er(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=ga(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=ha(i))&&(r.precision=o-(r.type==="%")*2);break}}return nr(r)}function Na(t){var n=t.domain;return t.ticks=function(e){var r=n();return Er(r[0],r[r.length-1],e==null?10:e)},t.tickFormat=function(e,r){var i=n();return Ma(i[0],i[i.length-1],e==null?10:e,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,s=r[i],a=r[o],u,l,f=10;for(a<s&&(l=s,s=a,a=l,l=i,i=o,o=l);f-- >0;){if(l=Ne(s,a,e),l===u)return r[i]=s,r[o]=a,n(r);if(l>0)s=Math.floor(s/l)*l,a=Math.ceil(a/l)*l;else if(l<0)s=Math.ceil(s*l)/l,a=Math.floor(a*l)/l;else break;u=l}return t},t}function Ln(){var t=ka();return t.copy=function(){return xa(t,Ln())},ma.apply(t,arguments),Na(t)}function st(t){return function(){return t}}function Aa(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function rr(t){this._context=t}rr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function Sa(t){return new rr(t)}function Ea(t){return t[0]}function Ca(t){return t[1]}function Ta(t,n){var e=st(!0),r=null,i=Sa,o=null;t=typeof t=="function"?t:t===void 0?Ea:st(t),n=typeof n=="function"?n:n===void 0?Ca:st(n);function s(a){var u,l=(a=Aa(a)).length,f,c=!1,h;for(r==null&&(o=i(h=Qe())),u=0;u<=l;++u)!(u<l&&e(f=a[u],u,a))===c&&((c=!c)?o.lineStart():o.lineEnd()),c&&o.point(+t(f,u,a),+n(f,u,a));if(h)return o=null,h+""||null}return s.x=function(a){return arguments.length?(t=typeof a=="function"?a:st(+a),s):t},s.y=function(a){return arguments.length?(n=typeof a=="function"?a:st(+a),s):n},s.defined=function(a){return arguments.length?(e=typeof a=="function"?a:st(!!a),s):e},s.curve=function(a){return arguments.length?(i=a,r!=null&&(o=i(r)),s):i},s.context=function(a){return arguments.length?(a==null?r=o=null:o=i(r=a),s):r},s}function wt(t,n,e){this.k=t,this.x=n,this.y=e}wt.prototype={constructor:wt,scale:function(t){return t===1?this:new wt(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new wt(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new wt(1,0,0);function qa(t){let n;return{c(){n=j("g"),p(n,"class","axis svelte-16yi2kn"),p(n,"transform",t[1])},m(e,r){F(e,n,r),t[8](n)},p(e,[r]){r&2&&p(n,"transform",e[1])},i:V,o:V,d(e){e&&L(n),t[8](null)}}}function La(t,n,e){let{innerHeight:r}=n,{margin:i}=n,{position:o}=n,{scale:s}=n,{width:a}=n,{variable:u}=n,l,f;console.log(u);function c(h){Wt[h?"unshift":"push"](()=>{f=h,e(0,f)})}return t.$$set=h=>{"innerHeight"in h&&e(2,r=h.innerHeight),"margin"in h&&e(3,i=h.margin),"position"in h&&e(4,o=h.position),"scale"in h&&e(5,s=h.scale),"width"in h&&e(6,a=h.width),"variable"in h&&e(7,u=h.variable)},t.$$.update=()=>{if(t.$$.dirty&253){Kt(f).selectAll("*").remove();let h;switch(o){case"bottom":Number(a)>350?(h=Gn(s).tickFormat((d,m)=>["2011","2012","2013","2014","2015","2016","2017","2018","2019","2020"][m]),e(1,l=`translate(0, ${r})`)):(h=Gn(s).tickFormat((d,m)=>["","2012","","2014","","2016","","2018","","2020"][m]),e(1,l=`translate(0, ${r})`));break;case"left":u==="count"?(h=wn(s).ticks(3).tickSizeOuter(0),e(1,l=`translate(${i}, 0)`)):(h=wn(s).ticks(3).tickSizeOuter(0).tickFormat((d,m)=>["0","$50,000,000","$100,000,000","$150,000,000"][m]),e(1,l=`translate(${i}, 0)`))}Kt(f).call(h)}},[f,l,r,i,o,s,a,u,c]}class ge extends Et{constructor(n){super(),St(this,n,La,qa,At,{innerHeight:2,margin:3,position:4,scale:5,width:6,variable:7})}}function Pa(t){let n;return{c(){n=j("g"),p(n,"class","grid svelte-4ymr8e"),p(n,"transform",t[1])},m(e,r){F(e,n,r),t[6](n)},p(e,[r]){r&2&&p(n,"transform",e[1])},i:V,o:V,d(e){e&&L(n),t[6](null)}}}function $a(t,n,e){let{margin:r}=n,{position:i}=n,{scale:o}=n,{width:s}=n,a,u;function l(f){Wt[f?"unshift":"push"](()=>{u=f,e(0,u)})}return t.$$set=f=>{"margin"in f&&e(2,r=f.margin),"position"in f&&e(3,i=f.position),"scale"in f&&e(4,o=f.scale),"width"in f&&e(5,s=f.width)},t.$$.update=()=>{if(t.$$.dirty&61){Kt(u).selectAll("*").remove();let f;switch(i){case"left":f=wn(o).ticks(4).tickSizeOuter(0).tickFormat("").tickSize(-Number(s)),e(1,a=`translate(${r}, 0)`)}Kt(u).call(f)}},[u,a,r,i,o,s,l]}class Ra extends Et{constructor(n){super(),St(this,n,$a,Pa,At,{margin:2,position:3,scale:4,width:5})}}function me(t,n,e){const r=t.slice();return r[1]=n[e],r[18]=e,r}function pe(t){let n,e,r,i,o,s;function a(...u){return t[13](t[1],...u)}return{c(){n=j("circle"),i=ct(`
				/>`),p(n,"cx",e=t[4](t[1].year)),p(n,"cy",r=t[3](t[1][t[0]])),p(n,"r","5"),p(n,"class","svelte-1hjblyg")},m(u,l){F(u,n,l),F(u,i,l),o||(s=[Gt(n,"mouseover",a),Gt(n,"mouseout",t[14])],o=!0)},p(u,l){t=u,l&18&&e!==(e=t[4](t[1].year))&&p(n,"cx",e),l&11&&r!==(r=t[3](t[1][t[0]]))&&p(n,"cy",r)},d(u){u&&L(n),u&&L(i),o=!1,Nt(s)}}}function _e(t){let n;function e(o,s){return o[0]==="count"?Ia:Fa}let r=e(t),i=r(t);return{c(){i.c(),n=xe()},m(o,s){i.m(o,s),F(o,n,s)},p(o,s){r===(r=e(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(n.parentNode,n)))},d(o){i.d(o),o&&L(n)}}}function Fa(t){let n,e,r=t[6].set_fine_amount.toLocaleString()+"",i;return{c(){n=S("div"),e=ct("$"),i=ct(r),p(n,"id","tooltip"),K(n,"left",t[7]+"px"),K(n,"top",t[8]-25+"px"),p(n,"class","svelte-1hjblyg")},m(o,s){F(o,n,s),k(n,e),k(n,i)},p(o,s){s&64&&r!==(r=o[6].set_fine_amount.toLocaleString()+"")&&be(i,r),s&128&&K(n,"left",o[7]+"px"),s&256&&K(n,"top",o[8]-25+"px")},d(o){o&&L(n)}}}function Ia(t){let n,e=t[6].count.toLocaleString()+"",r;return{c(){n=S("div"),r=ct(e),p(n,"id","tooltip"),K(n,"left",t[7]+"px"),K(n,"top",t[8]-25+"px"),p(n,"class","svelte-1hjblyg")},m(i,o){F(i,n,o),k(n,r)},p(i,o){o&64&&e!==(e=i[6].count.toLocaleString()+"")&&be(r,e),o&128&&K(n,"left",i[7]+"px"),o&256&&K(n,"top",i[8]-25+"px")},d(i){i&&L(n)}}}function za(t){let n,e,r,i,o,s,a,u,l,f,c,h,d,m;i=new ge({props:{innerHeight:t[11],margin:t[10],scale:t[4],position:"bottom",width:t[2],variable:t[0]}}),o=new ge({props:{innerHeight:t[11],margin:t[10],scale:t[3],position:"left",width:"9999",variable:t[0]}}),s=new Ra({props:{margin:t[10],scale:t[3],position:"left",width:t[5]}});let x=t[1],_=[];for(let g=0;g<x.length;g+=1)_[g]=pe(me(t,x,g));let b=t[6]!=null&&_e(t);return{c(){n=S("div"),e=j("svg"),r=j("g"),lt(i.$$.fragment),lt(o.$$.fragment),lt(s.$$.fragment),a=j("text"),u=j("path");for(let g=0;g<_.length;g+=1)_[g].c();l=j("text"),h=R(),b&&b.c(),d=xe(),p(a,"transform",`translate(${-50},${t[11]/2}) rotate(-90)`),p(a,"class","svelte-1hjblyg"),p(u,"d",t[9]),p(u,"class","svelte-1hjblyg"),p(l,"x",f=t[5]/2),p(l,"y",t[11]+35),p(l,"class","svelte-1hjblyg"),p(r,"transform",`translate(${t[10].left},${t[10].top})`),p(e,"width",t[2]),p(e,"height",ir),p(e,"class","svg-content"),p(n,"id","container"),p(n,"class","svg-container svelte-1hjblyg"),Ut(()=>t[15].call(n))},m(g,y){F(g,n,y),k(n,e),k(e,r),tt(i,r,null),tt(o,r,null),tt(s,r,null),k(r,a),k(r,u);for(let w=0;w<_.length;w+=1)_[w].m(r,null);k(r,l),c=cr(n,t[15].bind(n)),F(g,h,y),b&&b.m(g,y),F(g,d,y),m=!0},p(g,[y]){const w={};y&16&&(w.scale=g[4]),y&4&&(w.width=g[2]),y&1&&(w.variable=g[0]),i.$set(w);const M={};y&8&&(M.scale=g[3]),y&1&&(M.variable=g[0]),o.$set(M);const C={};if(y&8&&(C.scale=g[3]),y&32&&(C.width=g[5]),s.$set(C),(!m||y&512)&&p(u,"d",g[9]),y&4187){x=g[1];let N;for(N=0;N<x.length;N+=1){const $=me(g,x,N);_[N]?_[N].p($,y):(_[N]=pe($),_[N].c(),_[N].m(r,l))}for(;N<_.length;N+=1)_[N].d(1);_.length=x.length}(!m||y&32&&f!==(f=g[5]/2))&&p(l,"x",f),(!m||y&4)&&p(e,"width",g[2]),g[6]!=null?b?b.p(g,y):(b=_e(g),b.c(),b.m(d.parentNode,d)):b&&(b.d(1),b=null)},i(g){m||(Q(i.$$.fragment,g),Q(o.$$.fragment,g),Q(s.$$.fragment,g),m=!0)},o(g){ut(i.$$.fragment,g),ut(o.$$.fragment,g),ut(s.$$.fragment,g),m=!1},d(g){g&&L(n),nt(i),nt(o),nt(s),ur(_,g),c(),g&&L(h),b&&b.d(g),g&&L(d)}}}const ir=150;function Ha(t,n,e){let r,i,o,s,{data:a}=n,{variable:u}=n;const l={top:15,bottom:25,left:80,right:20};let f;const c=ir-l.top-l.bottom;var h=u==="count"?3e6:15e7;let d,m,x;const _=function(w){e(7,m=w.clientX),e(8,x=w.clientY)},b=(w,M)=>{e(6,d=w),_(M)},g=()=>{e(6,d=void 0)};function y(){f=this.offsetWidth,e(2,f)}return t.$$set=w=>{"data"in w&&e(1,a=w.data),"variable"in w&&e(0,u=w.variable)},t.$$.update=()=>{t.$$.dirty&4&&e(5,r=f-l.left-l.right),t.$$.dirty&32&&e(4,i=Ln().domain([2011,2020]).range([0,r])),t.$$.dirty&27&&e(9,s=Ta().x(w=>i(w.year)).y(w=>o(w[u]))(a))},e(3,o=Ln().domain([0,h]).range([c,0])),[u,a,f,o,i,r,d,m,x,s,l,c,_,b,g,y]}class ye extends Et{constructor(n){super(),St(this,n,Ha,za,At,{data:1,variable:0})}}var ve=[{year:2011,count:2805492,set_fine_amount:114226595},{year:2012,count:2746154,set_fine_amount:111485565},{year:2013,count:2611575,set_fine_amount:106483340},{year:2014,count:2484983,set_fine_amount:108987340},{year:2015,count:2168493,set_fine_amount:99872770},{year:2016,count:2254761,set_fine_amount:109675985},{year:2017,count:2144225,set_fine_amount:106199960},{year:2018,count:2044288,set_fine_amount:100206695},{year:2019,count:2213939,set_fine_amount:108424170},{year:2020,count:1403663,set_fine_amount:70555350}];function Oa(t){let n,e,r,i,o,s,a,u,l,f,c,h,d,m,x,_,b,g,y,w,M,C,N,$,I,z,v,E,A,H;return e=new xr({}),N=new ye({props:{data:ve,variable:"count"}}),v=new ye({props:{data:ve,variable:"set_fine_amount"}}),{c(){n=S("main"),lt(e.$$.fragment),r=R(),i=S("div"),i.innerHTML=`<br/><br/> 
		<h1 class="svelte-dfqsjm">Mapping Parking Tickets in Toronto</h1> 
		<p id="author" class="svelte-dfqsjm"><a href="https://jamaps.github.io" class="svelte-dfqsjm">Jeff Allen</a> | July 2022</p> 
		<p class="svelte-dfqsjm">Over <span id="bold" class="svelte-dfqsjm">22.8 million</span> parking tickets were issued
			in the City of Toronto in the decade spanning
			<span id="bold" class="svelte-dfqsjm">2011 to 2020</span>, representing over
			<span id="bold" class="svelte-dfqsjm">1 billion</span>
			dollars in fines. This map shows almost all
			of these parking tickets.</p>`,o=R(),s=S("div"),a=S("img"),l=R(),f=S("div"),c=S("img"),d=R(),m=S("p"),m.textContent="Number of parking tickets per 100m",x=R(),_=S("div"),b=S("p"),b.innerHTML=`Click <a href="https://raw.githubusercontent.com/schoolofcities/parking-tickets-toronto/main/map/parking-tickets-toronto.png" class="svelte-dfqsjm">here</a> for a high-resolution version of this
			map`,g=R(),y=S("p"),y.textContent=`The spatial distribution of parking tickets represents a combination
			of the supply and demand for curbside space and patterns of
			enforcement.`,w=R(),M=S("p"),M.textContent=`Interestingly, there has been an overall decline in the number of
			tickets issued per year:`,C=R(),lt(N.$$.fragment),$=R(),I=S("p"),I.textContent=`But the total revenue has remained more stable (not accounting for
			inflation), except for 2020.`,z=R(),lt(v.$$.fragment),E=R(),A=S("div"),A.innerHTML=`<p id="footnote" class="svelte-dfqsjm"><b>Methods &amp; Data:</b><br/><br/>
			Data on the locations of
			<a href="https://open.toronto.ca/dataset/parking-tickets/" class="svelte-dfqsjm">parking tickets</a>
			are from the City of Toronto. We joined them to the City&#39;s
			<a href="https://open.toronto.ca/dataset/toronto-centreline-tcl/" class="svelte-dfqsjm">Centreline</a>
			data representing streets in order to make this map. Both were available
			as open data. The data on parking tickets only indicate addresses, not
			XY coordinates. Some of the parking tickets (~5%) could not be linked
			to streets due to missing address numbers or incorrect spellings. Code
			for this linking (in Python) as well as visualization on this page (via D3, QGIS, and Inkscape) are on
			<a href="https://github.com/schoolofcities/parking-tickets-toronto" class="svelte-dfqsjm">GitHub</a>.</p>`,p(i,"class","content svelte-dfqsjm"),gn(a.src,u=_r)||p(a,"src",u),p(a,"alt","Toronto Parking Ticket Map"),p(a,"class","svelte-dfqsjm"),p(s,"id","map"),p(s,"class","svelte-dfqsjm"),gn(c.src,h=yr)||p(c,"src",h),p(c,"alt","Legend"),p(c,"class","svelte-dfqsjm"),p(m,"class","svelte-dfqsjm"),p(f,"id","legend"),p(f,"class","svelte-dfqsjm"),p(b,"class","svelte-dfqsjm"),p(y,"class","svelte-dfqsjm"),p(M,"class","svelte-dfqsjm"),p(I,"class","svelte-dfqsjm"),p(_,"class","content svelte-dfqsjm"),p(A,"class","info svelte-dfqsjm"),p(n,"class","svelte-dfqsjm")},m(T,ot){F(T,n,ot),tt(e,n,null),k(n,r),k(n,i),k(n,o),k(n,s),k(s,a),k(n,l),k(n,f),k(f,c),k(f,d),k(f,m),k(n,x),k(n,_),k(_,b),k(_,g),k(_,y),k(_,w),k(_,M),k(_,C),tt(N,_,null),k(_,$),k(_,I),k(_,z),tt(v,_,null),k(n,E),k(n,A),H=!0},p:V,i(T){H||(Q(e.$$.fragment,T),Q(N.$$.fragment,T),Q(v.$$.fragment,T),H=!0)},o(T){ut(e.$$.fragment,T),ut(N.$$.fragment,T),ut(v.$$.fragment,T),H=!1},d(T){T&&L(n),nt(e),nt(N),nt(v)}}}class Da extends Et{constructor(n){super(),St(this,n,null,Oa,At,{})}}new Da({target:document.getElementById("app")});
