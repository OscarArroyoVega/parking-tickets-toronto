const sr=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};sr();function X(){}function vn(t){return t()}function De(){return Object.create(null)}function St(t){t.forEach(vn)}function ar(t){return typeof t=="function"}function Et(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Pt;function de(t,e){return Pt||(Pt=document.createElement("a")),Pt.href=e,t===Pt.href}function ur(t){return Object.keys(t).length===0}function k(t,e){t.appendChild(e)}function I(t,e,n){t.insertBefore(e,n||null)}function L(t){t.parentNode.removeChild(t)}function lr(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function E(t){return document.createElement(t)}function Q(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Z(t){return document.createTextNode(t)}function F(){return Z(" ")}function wn(){return Z("")}function Wt(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function g(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function fr(t){return Array.from(t.childNodes)}function xn(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function j(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}let Rt;function cr(){if(Rt===void 0){Rt=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch{Rt=!0}}return Rt}function hr(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const r=E("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=cr();let o;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=Wt(window,"message",s=>{s.source===r.contentWindow&&e()})):(r.src="about:blank",r.onload=()=>{o=Wt(r.contentWindow,"resize",e)}),k(t,r),()=>{(i||o&&r.contentWindow)&&o(),L(r)}}let $e;function kt(t){$e=t}const yt=[],Gt=[],qt=[],Xe=[],dr=Promise.resolve();let pe=!1;function pr(){pe||(pe=!0,dr.then(bn))}function Ut(t){qt.push(t)}const ue=new Set;let Ft=0;function bn(){const t=$e;do{for(;Ft<yt.length;){const e=yt[Ft];Ft++,kt(e),gr(e.$$)}for(kt(null),yt.length=0,Ft=0;Gt.length;)Gt.pop()();for(let e=0;e<qt.length;e+=1){const n=qt[e];ue.has(n)||(ue.add(n),n())}qt.length=0}while(yt.length);for(;Xe.length;)Xe.pop()();pe=!1,ue.clear(),kt(t)}function gr(t){if(t.fragment!==null){t.update(),St(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ut)}}const Dt=new Set;let mr;function rt(t,e){t&&t.i&&(Dt.delete(t),t.i(e))}function ct(t,e,n,r){if(t&&t.o){if(Dt.has(t))return;Dt.add(t),mr.c.push(()=>{Dt.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function ht(t){t&&t.c()}function it(t,e,n,r){const{fragment:i,on_mount:o,on_destroy:s,after_update:a}=t.$$;i&&i.m(e,n),r||Ut(()=>{const u=o.map(vn).filter(ar);s?s.push(...u):St(u),t.$$.on_mount=[]}),a.forEach(Ut)}function ot(t,e){const n=t.$$;n.fragment!==null&&(St(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function _r(t,e){t.$$.dirty[0]===-1&&(yt.push(t),pr(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ct(t,e,n,r,i,o,s,a=[-1]){const u=$e;kt(t);const l=t.$$={fragment:null,ctx:null,props:o,update:X,not_equal:i,bound:De(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:De(),dirty:a,skip_bound:!1,root:e.target||u.$$.root};s&&s(l.root);let f=!1;if(l.ctx=n?n(t,e.props||{},(c,h,...d)=>{const m=d.length?d[0]:h;return l.ctx&&i(l.ctx[c],l.ctx[c]=m)&&(!l.skip_bound&&l.bound[c]&&l.bound[c](m),f&&_r(t,c)),h}):[],l.update(),f=!0,St(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){const c=fr(e.target);l.fragment&&l.fragment.l(c),c.forEach(L)}else l.fragment&&l.fragment.c();e.intro&&rt(t.$$.fragment),it(t,e.target,e.anchor,e.customElement),bn()}kt(u)}class Tt{$destroy(){ot(this,1),this.$destroy=X}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!ur(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var yr="/parking-tickets-toronto/assets/home-map.ff4f99be.png",vr="/parking-tickets-toronto/assets/parking-tickets-toronto.02886159.png",wr="/parking-tickets-toronto/assets/legend.66c8fa29.svg",xr="/parking-tickets-toronto/assets/top-logo.26ddeafd.svg";function br(t){let e,n,r,i;return{c(){e=E("div"),n=E("a"),r=E("img"),de(r.src,i=xr)||g(r,"src",i),g(r,"alt","School of Cities"),g(r,"class","svelte-vd8pze"),g(n,"href","https://www.schoolofcities.utoronto.ca/"),g(e,"id","bar"),g(e,"class","svelte-vd8pze")},m(o,s){I(o,e,s),k(e,n),k(n,r)},p:X,i:X,o:X,d(o){o&&L(e)}}}class kr extends Tt{constructor(e){super(),Ct(this,e,null,br,Et,{})}}function Xt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Mr(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kn(t){let e,n,r;t.length!==2?(e=Xt,n=(a,u)=>Xt(t(a),u),r=(a,u)=>t(a)-u):(e=t===Xt||t===Mr?t:Nr,n=t,r=t);function i(a,u,l=0,f=a.length){if(l<f){if(e(u,u)!==0)return f;do{const c=l+f>>>1;n(a[c],u)<0?l=c+1:f=c}while(l<f)}return l}function o(a,u,l=0,f=a.length){if(l<f){if(e(u,u)!==0)return f;do{const c=l+f>>>1;n(a[c],u)<=0?l=c+1:f=c}while(l<f)}return l}function s(a,u,l=0,f=a.length){const c=i(a,u,l,f-1);return c>l&&r(a[c-1],u)>-r(a[c],u)?c-1:c}return{left:i,center:s,right:o}}function Nr(){return 0}function Ar(t){return t===null?NaN:+t}const Sr=kn(Xt),Er=Sr.right;kn(Ar).center;var Cr=Er,ge=Math.sqrt(50),me=Math.sqrt(10),_e=Math.sqrt(2);function Tr(t,e,n){var r,i=-1,o,s,a;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),(a=Mn(t,e,n))===0||!isFinite(a))return[];if(a>0){let u=Math.round(t/a),l=Math.round(e/a);for(u*a<t&&++u,l*a>e&&--l,s=new Array(o=l-u+1);++i<o;)s[i]=(u+i)*a}else{a=-a;let u=Math.round(t*a),l=Math.round(e*a);for(u/a<t&&++u,l/a>e&&--l,s=new Array(o=l-u+1);++i<o;)s[i]=(u+i)/a}return r&&s.reverse(),s}function Mn(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=ge?10:o>=me?5:o>=_e?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=ge?10:o>=me?5:o>=_e?2:1)}function $r(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=ge?i*=10:o>=me?i*=5:o>=_e&&(i*=2),e<t?-i:i}function Lr(t){return t}var le=1,fe=2,ye=3,vt=4,Ve=1e-6;function Pr(t){return"translate("+t+",0)"}function Rr(t){return"translate(0,"+t+")"}function Fr(t){return e=>+t(e)}function Ir(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function zr(){return!this.__axis}function Nn(t,e){var n=[],r=null,i=null,o=6,s=6,a=3,u=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,l=t===le||t===vt?-1:1,f=t===vt||t===fe?"x":"y",c=t===le||t===ye?Pr:Rr;function h(d){var m=r==null?e.ticks?e.ticks.apply(e,n):e.domain():r,w=i==null?e.tickFormat?e.tickFormat.apply(e,n):Lr:i,_=Math.max(o,0)+a,x=e.range(),p=+x[0]+u,y=+x[x.length-1]+u,b=(e.bandwidth?Ir:Fr)(e.copy(),u),M=d.selection?d.selection():d,T=M.selectAll(".domain").data([null]),N=M.selectAll(".tick").data(m,e).order(),R=N.exit(),z=N.enter().append("g").attr("class","tick"),H=N.select("line"),v=N.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),N=N.merge(z),H=H.merge(z.append("line").attr("stroke","currentColor").attr(f+"2",l*o)),v=v.merge(z.append("text").attr("fill","currentColor").attr(f,l*_).attr("dy",t===le?"0em":t===ye?"0.71em":"0.32em")),d!==M&&(T=T.transition(d),N=N.transition(d),H=H.transition(d),v=v.transition(d),R=R.transition(d).attr("opacity",Ve).attr("transform",function(C){return isFinite(C=b(C))?c(C+u):this.getAttribute("transform")}),z.attr("opacity",Ve).attr("transform",function(C){var A=this.parentNode.__axis;return c((A&&isFinite(A=A(C))?A:b(C))+u)})),R.remove(),T.attr("d",t===vt||t===fe?s?"M"+l*s+","+p+"H"+u+"V"+y+"H"+l*s:"M"+u+","+p+"V"+y:s?"M"+p+","+l*s+"V"+u+"H"+y+"V"+l*s:"M"+p+","+u+"H"+y),N.attr("opacity",1).attr("transform",function(C){return c(b(C)+u)}),H.attr(f+"2",l*o),v.attr(f,l*_).text(w),M.filter(zr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===fe?"start":t===vt?"end":"middle"),M.each(function(){this.__axis=b})}return h.scale=function(d){return arguments.length?(e=d,h):e},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),h):n.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(i=d,h):i},h.tickSize=function(d){return arguments.length?(o=s=+d,h):o},h.tickSizeInner=function(d){return arguments.length?(o=+d,h):o},h.tickSizeOuter=function(d){return arguments.length?(s=+d,h):s},h.tickPadding=function(d){return arguments.length?(a=+d,h):a},h.offset=function(d){return arguments.length?(u=+d,h):u},h}function Be(t){return Nn(ye,t)}function An(t){return Nn(vt,t)}var Hr={value:()=>{}};function Sn(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Vt(n)}function Vt(t){this._=t}function Or(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Vt.prototype=Sn.prototype={constructor:Vt,on:function(t,e){var n=this._,r=Or(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=qr(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=Ye(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ye(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Vt(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function qr(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Ye(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Hr,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var ve="http://www.w3.org/1999/xhtml",We={svg:"http://www.w3.org/2000/svg",xhtml:ve,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function oe(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),We.hasOwnProperty(e)?{space:We[e],local:t}:t}function Dr(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ve&&e.documentElement.namespaceURI===ve?e.createElement(t):e.createElementNS(n,t)}}function Xr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function En(t){var e=oe(t);return(e.local?Xr:Dr)(e)}function Vr(){}function Le(t){return t==null?Vr:function(){return this.querySelector(t)}}function Br(t){typeof t!="function"&&(t=Le(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=new Array(s),u,l,f=0;f<s;++f)(u=o[f])&&(l=t.call(u,u.__data__,f,o))&&("__data__"in u&&(l.__data__=u.__data__),a[f]=l);return new P(r,this._parents)}function Yr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Wr(){return[]}function Cn(t){return t==null?Wr:function(){return this.querySelectorAll(t)}}function Gr(t){return function(){return Yr(t.apply(this,arguments))}}function Ur(t){typeof t=="function"?t=Gr(t):t=Cn(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&(r.push(t.call(u,u.__data__,l,s)),i.push(u));return new P(r,i)}function Tn(t){return function(){return this.matches(t)}}function $n(t){return function(e){return e.matches(t)}}var Kr=Array.prototype.find;function Zr(t){return function(){return Kr.call(this.children,t)}}function Jr(){return this.firstElementChild}function Qr(t){return this.select(t==null?Jr:Zr(typeof t=="function"?t:$n(t)))}var jr=Array.prototype.filter;function ti(){return Array.from(this.children)}function ei(t){return function(){return jr.call(this.children,t)}}function ni(t){return this.selectAll(t==null?ti:ei(typeof t=="function"?t:$n(t)))}function ri(t){typeof t!="function"&&(t=Tn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new P(r,this._parents)}function Ln(t){return new Array(t.length)}function ii(){return new P(this._enter||this._groups.map(Ln),this._parents)}function Kt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Kt.prototype={constructor:Kt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function oi(t){return function(){return t}}function si(t,e,n,r,i,o){for(var s=0,a,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new Kt(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function ai(t,e,n,r,i,o,s){var a,u,l=new Map,f=e.length,c=o.length,h=new Array(f),d;for(a=0;a<f;++a)(u=e[a])&&(h[a]=d=s.call(u,u.__data__,a,e)+"",l.has(d)?i[a]=u:l.set(d,u));for(a=0;a<c;++a)d=s.call(t,o[a],a,o)+"",(u=l.get(d))?(r[a]=u,u.__data__=o[a],l.delete(d)):n[a]=new Kt(t,o[a]);for(a=0;a<f;++a)(u=e[a])&&l.get(h[a])===u&&(i[a]=u)}function ui(t){return t.__data__}function li(t,e){if(!arguments.length)return Array.from(this,ui);var n=e?ai:si,r=this._parents,i=this._groups;typeof t!="function"&&(t=oi(t));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),l=0;l<o;++l){var f=r[l],c=i[l],h=c.length,d=fi(t.call(f,f&&f.__data__,l,r)),m=d.length,w=a[l]=new Array(m),_=s[l]=new Array(m),x=u[l]=new Array(h);n(f,c,w,_,x,d,e);for(var p=0,y=0,b,M;p<m;++p)if(b=w[p]){for(p>=y&&(y=p+1);!(M=_[y])&&++y<m;);b._next=M||null}}return s=new P(s,r),s._enter=a,s._exit=u,s}function fi(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ci(){return new P(this._exit||this._groups.map(Ln),this._parents)}function hi(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function di(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var l=n[u],f=r[u],c=l.length,h=a[u]=new Array(c),d,m=0;m<c;++m)(d=l[m]||f[m])&&(h[m]=d);for(;u<i;++u)a[u]=n[u];return new P(a,this._parents)}function pi(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function gi(t){t||(t=mi);function e(c,h){return c&&h?t(c.__data__,h.__data__):!c-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,u=i[o]=new Array(a),l,f=0;f<a;++f)(l=s[f])&&(u[f]=l);u.sort(e)}return new P(i,this._parents).order()}function mi(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function _i(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function yi(){return Array.from(this)}function vi(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function wi(){let t=0;for(const e of this)++t;return t}function xi(){return!this.node()}function bi(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function ki(t){return function(){this.removeAttribute(t)}}function Mi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ni(t,e){return function(){this.setAttribute(t,e)}}function Ai(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Si(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Ei(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ci(t,e){var n=oe(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Mi:ki:typeof e=="function"?n.local?Ei:Si:n.local?Ai:Ni)(n,e))}function Pn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ti(t){return function(){this.style.removeProperty(t)}}function $i(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Li(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Pi(t,e,n){return arguments.length>1?this.each((e==null?Ti:typeof e=="function"?Li:$i)(t,e,n==null?"":n)):pt(this.node(),t)}function pt(t,e){return t.style.getPropertyValue(e)||Pn(t).getComputedStyle(t,null).getPropertyValue(e)}function Ri(t){return function(){delete this[t]}}function Fi(t,e){return function(){this[t]=e}}function Ii(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function zi(t,e){return arguments.length>1?this.each((e==null?Ri:typeof e=="function"?Ii:Fi)(t,e)):this.node()[t]}function Rn(t){return t.trim().split(/^|\s+/)}function Pe(t){return t.classList||new Fn(t)}function Fn(t){this._node=t,this._names=Rn(t.getAttribute("class")||"")}Fn.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function In(t,e){for(var n=Pe(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function zn(t,e){for(var n=Pe(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Hi(t){return function(){In(this,t)}}function Oi(t){return function(){zn(this,t)}}function qi(t,e){return function(){(e.apply(this,arguments)?In:zn)(this,t)}}function Di(t,e){var n=Rn(t+"");if(arguments.length<2){for(var r=Pe(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?qi:e?Hi:Oi)(n,e))}function Xi(){this.textContent=""}function Vi(t){return function(){this.textContent=t}}function Bi(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function Yi(t){return arguments.length?this.each(t==null?Xi:(typeof t=="function"?Bi:Vi)(t)):this.node().textContent}function Wi(){this.innerHTML=""}function Gi(t){return function(){this.innerHTML=t}}function Ui(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function Ki(t){return arguments.length?this.each(t==null?Wi:(typeof t=="function"?Ui:Gi)(t)):this.node().innerHTML}function Zi(){this.nextSibling&&this.parentNode.appendChild(this)}function Ji(){return this.each(Zi)}function Qi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ji(){return this.each(Qi)}function to(t){var e=typeof t=="function"?t:En(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function eo(){return null}function no(t,e){var n=typeof t=="function"?t:En(t),r=e==null?eo:typeof e=="function"?e:Le(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ro(){var t=this.parentNode;t&&t.removeChild(this)}function io(){return this.each(ro)}function oo(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function so(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ao(t){return this.select(t?so:oo)}function uo(t){return arguments.length?this.property("__data__",t):this.node().__data__}function lo(t){return function(e){t.call(this,e,this.__data__)}}function fo(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function co(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function ho(t,e,n){return function(){var r=this.__on,i,o=lo(e);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function po(t,e,n){var r=fo(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,f;u<l;++u)for(i=0,f=a[u];i<o;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(a=e?ho:co,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function Hn(t,e,n){var r=Pn(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function go(t,e){return function(){return Hn(this,t,e)}}function mo(t,e){return function(){return Hn(this,t,e.apply(this,arguments))}}function _o(t,e){return this.each((typeof e=="function"?mo:go)(t,e))}function*yo(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var On=[null];function P(t,e){this._groups=t,this._parents=e}function $t(){return new P([[document.documentElement]],On)}function vo(){return this}P.prototype=$t.prototype={constructor:P,select:Br,selectAll:Ur,selectChild:Qr,selectChildren:ni,filter:ri,data:li,enter:ii,exit:ci,join:hi,merge:di,selection:vo,order:pi,sort:gi,call:_i,nodes:yi,node:vi,size:wi,empty:xi,each:bi,attr:Ci,style:Pi,property:zi,classed:Di,text:Yi,html:Ki,raise:Ji,lower:ji,append:to,insert:no,remove:io,clone:ao,datum:uo,on:po,dispatch:_o,[Symbol.iterator]:yo};function Zt(t){return typeof t=="string"?new P([[document.querySelector(t)]],[document.documentElement]):new P([[t]],On)}function Re(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function qn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Lt(){}var Mt=.7,Jt=1/Mt,dt="\\s*([+-]?\\d+)\\s*",Nt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",V="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wo=/^#([0-9a-f]{3,8})$/,xo=new RegExp(`^rgb\\(${dt},${dt},${dt}\\)$`),bo=new RegExp(`^rgb\\(${V},${V},${V}\\)$`),ko=new RegExp(`^rgba\\(${dt},${dt},${dt},${Nt}\\)$`),Mo=new RegExp(`^rgba\\(${V},${V},${V},${Nt}\\)$`),No=new RegExp(`^hsl\\(${Nt},${V},${V}\\)$`),Ao=new RegExp(`^hsla\\(${Nt},${V},${V},${Nt}\\)$`),Ge={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Re(Lt,at,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ue,formatHex:Ue,formatHex8:So,formatHsl:Eo,formatRgb:Ke,toString:Ke});function Ue(){return this.rgb().formatHex()}function So(){return this.rgb().formatHex8()}function Eo(){return Dn(this).formatHsl()}function Ke(){return this.rgb().formatRgb()}function at(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=wo.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ze(e):n===3?new $(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?It(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?It(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=xo.exec(t))?new $(e[1],e[2],e[3],1):(e=bo.exec(t))?new $(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ko.exec(t))?It(e[1],e[2],e[3],e[4]):(e=Mo.exec(t))?It(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=No.exec(t))?je(e[1],e[2]/100,e[3]/100,1):(e=Ao.exec(t))?je(e[1],e[2]/100,e[3]/100,e[4]):Ge.hasOwnProperty(t)?Ze(Ge[t]):t==="transparent"?new $(NaN,NaN,NaN,0):null}function Ze(t){return new $(t>>16&255,t>>8&255,t&255,1)}function It(t,e,n,r){return r<=0&&(t=e=n=NaN),new $(t,e,n,r)}function Co(t){return t instanceof Lt||(t=at(t)),t?(t=t.rgb(),new $(t.r,t.g,t.b,t.opacity)):new $}function we(t,e,n,r){return arguments.length===1?Co(t):new $(t,e,n,r==null?1:r)}function $(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Re($,we,qn(Lt,{brighter(t){return t=t==null?Jt:Math.pow(Jt,t),new $(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Mt:Math.pow(Mt,t),new $(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new $(st(this.r),st(this.g),st(this.b),Qt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Je,formatHex:Je,formatHex8:To,formatRgb:Qe,toString:Qe}));function Je(){return`#${nt(this.r)}${nt(this.g)}${nt(this.b)}`}function To(){return`#${nt(this.r)}${nt(this.g)}${nt(this.b)}${nt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qe(){const t=Qt(this.opacity);return`${t===1?"rgb(":"rgba("}${st(this.r)}, ${st(this.g)}, ${st(this.b)}${t===1?")":`, ${t})`}`}function Qt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function st(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function nt(t){return t=st(t),(t<16?"0":"")+t.toString(16)}function je(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new q(t,e,n,r)}function Dn(t){if(t instanceof q)return new q(t.h,t.s,t.l,t.opacity);if(t instanceof Lt||(t=at(t)),!t)return new q;if(t instanceof q)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new q(s,a,u,t.opacity)}function $o(t,e,n,r){return arguments.length===1?Dn(t):new q(t,e,n,r==null?1:r)}function q(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Re(q,$o,qn(Lt,{brighter(t){return t=t==null?Jt:Math.pow(Jt,t),new q(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Mt:Math.pow(Mt,t),new q(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new $(ce(t>=240?t-240:t+120,i,r),ce(t,i,r),ce(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new q(tn(this.h),zt(this.s),zt(this.l),Qt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qt(this.opacity);return`${t===1?"hsl(":"hsla("}${tn(this.h)}, ${zt(this.s)*100}%, ${zt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function tn(t){return t=(t||0)%360,t<0?t+360:t}function zt(t){return Math.max(0,Math.min(1,t||0))}function ce(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var Fe=t=>()=>t;function Lo(t,e){return function(n){return t+n*e}}function Po(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ro(t){return(t=+t)==1?Xn:function(e,n){return n-e?Po(e,n,t):Fe(isNaN(e)?n:e)}}function Xn(t,e){var n=e-t;return n?Lo(t,n):Fe(isNaN(t)?e:t)}var jt=function t(e){var n=Ro(e);function r(i,o){var s=n((i=we(i)).r,(o=we(o)).r),a=n(i.g,o.g),u=n(i.b,o.b),l=Xn(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=a(f),i.b=u(f),i.opacity=l(f),i+""}}return r.gamma=t,r}(1);function Fo(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Io(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zo(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Ie(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Ho(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function O(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Oo(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ie(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var xe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,he=new RegExp(xe.source,"g");function qo(t){return function(){return t}}function Do(t){return function(e){return t(e)+""}}function Vn(t,e){var n=xe.lastIndex=he.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(t=t+"",e=e+"";(r=xe.exec(t))&&(i=he.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:O(r,i)})),n=he.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?Do(u[0].x):qo(e):(e=u.length,function(l){for(var f=0,c;f<e;++f)a[(c=u[f]).i]=c.x(l);return a.join("")})}function Ie(t,e){var n=typeof e,r;return e==null||n==="boolean"?Fe(e):(n==="number"?O:n==="string"?(r=at(e))?(e=r,jt):Vn:e instanceof at?jt:e instanceof Date?Ho:Io(e)?Fo:Array.isArray(e)?zo:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Oo:O)(t,e)}function Xo(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var en=180/Math.PI,be={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Bn(t,e,n,r,i,o){var s,a,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),t*r<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*en,skewX:Math.atan(u)*en,scaleX:s,scaleY:a}}var Ht;function Vo(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?be:Bn(e.a,e.b,e.c,e.d,e.e,e.f)}function Bo(t){return t==null||(Ht||(Ht=document.createElementNS("http://www.w3.org/2000/svg","g")),Ht.setAttribute("transform",t),!(t=Ht.transform.baseVal.consolidate()))?be:(t=t.matrix,Bn(t.a,t.b,t.c,t.d,t.e,t.f))}function Yn(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,f,c,h,d,m){if(l!==c||f!==h){var w=d.push("translate(",null,e,null,n);m.push({i:w-4,x:O(l,c)},{i:w-2,x:O(f,h)})}else(c||h)&&d.push("translate("+c+e+h+n)}function s(l,f,c,h){l!==f?(l-f>180?f+=360:f-l>180&&(l+=360),h.push({i:c.push(i(c)+"rotate(",null,r)-2,x:O(l,f)})):f&&c.push(i(c)+"rotate("+f+r)}function a(l,f,c,h){l!==f?h.push({i:c.push(i(c)+"skewX(",null,r)-2,x:O(l,f)}):f&&c.push(i(c)+"skewX("+f+r)}function u(l,f,c,h,d,m){if(l!==c||f!==h){var w=d.push(i(d)+"scale(",null,",",null,")");m.push({i:w-4,x:O(l,c)},{i:w-2,x:O(f,h)})}else(c!==1||h!==1)&&d.push(i(d)+"scale("+c+","+h+")")}return function(l,f){var c=[],h=[];return l=t(l),f=t(f),o(l.translateX,l.translateY,f.translateX,f.translateY,c,h),s(l.rotate,f.rotate,c,h),a(l.skewX,f.skewX,c,h),u(l.scaleX,l.scaleY,f.scaleX,f.scaleY,c,h),l=f=null,function(d){for(var m=-1,w=h.length,_;++m<w;)c[(_=h[m]).i]=_.x(d);return c.join("")}}}var Yo=Yn(Vo,"px, ","px)","deg)"),Wo=Yn(Bo,", ",")",")"),gt=0,wt=0,_t=0,Wn=1e3,te,xt,ee=0,ut=0,se=0,At=typeof performance=="object"&&performance.now?performance:Date,Gn=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ze(){return ut||(Gn(Go),ut=At.now()+se)}function Go(){ut=0}function ne(){this._call=this._time=this._next=null}ne.prototype=Un.prototype={constructor:ne,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ze():+n)+(e==null?0:+e),!this._next&&xt!==this&&(xt?xt._next=this:te=this,xt=this),this._call=t,this._time=n,ke()},stop:function(){this._call&&(this._call=null,this._time=1/0,ke())}};function Un(t,e,n){var r=new ne;return r.restart(t,e,n),r}function Uo(){ze(),++gt;for(var t=te,e;t;)(e=ut-t._time)>=0&&t._call.call(void 0,e),t=t._next;--gt}function nn(){ut=(ee=At.now())+se,gt=wt=0;try{Uo()}finally{gt=0,Zo(),ut=0}}function Ko(){var t=At.now(),e=t-ee;e>Wn&&(se-=e,ee=t)}function Zo(){for(var t,e=te,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:te=n);xt=t,ke(r)}function ke(t){if(!gt){wt&&(wt=clearTimeout(wt));var e=t-ut;e>24?(t<1/0&&(wt=setTimeout(nn,t-At.now()-se)),_t&&(_t=clearInterval(_t))):(_t||(ee=At.now(),_t=setInterval(Ko,Wn)),gt=1,Gn(nn))}}function rn(t,e,n){var r=new ne;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Jo=Sn("start","end","cancel","interrupt"),Qo=[],Kn=0,on=1,Me=2,Bt=3,sn=4,Ne=5,Yt=6;function ae(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;jo(t,n,{name:e,index:r,group:i,on:Jo,tween:Qo,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Kn})}function He(t,e){var n=D(t,e);if(n.state>Kn)throw new Error("too late; already scheduled");return n}function B(t,e){var n=D(t,e);if(n.state>Bt)throw new Error("too late; already running");return n}function D(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function jo(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Un(o,0,n.time);function o(l){n.state=on,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var f,c,h,d;if(n.state!==on)return u();for(f in r)if(d=r[f],d.name===n.name){if(d.state===Bt)return rn(s);d.state===sn?(d.state=Yt,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[f]):+f<e&&(d.state=Yt,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[f])}if(rn(function(){n.state===Bt&&(n.state=sn,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=Me,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Me){for(n.state=Bt,i=new Array(h=n.tween.length),f=0,c=-1;f<h;++f)(d=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=d);i.length=c+1}}function a(l){for(var f=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=Ne,1),c=-1,h=i.length;++c<h;)i[c].call(t,f);n.state===Ne&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Yt,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function ts(t,e){var n=t.__transition,r,i,o=!0,s;if(!!n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>Me&&r.state<Ne,r.state=Yt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function es(t){return this.each(function(){ts(this,t)})}function ns(t,e){var n,r;return function(){var i=B(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function rs(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=B(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=a;break}u===l&&i.push(a)}o.tween=i}}function is(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=D(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?ns:rs)(n,t,e))}function Oe(t,e,n){var r=t._id;return t.each(function(){var i=B(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return D(i,r).value[e]}}function Zn(t,e){var n;return(typeof e=="number"?O:e instanceof at?jt:(n=at(e))?(e=n,jt):Vn)(t,e)}function os(t){return function(){this.removeAttribute(t)}}function ss(t){return function(){this.removeAttributeNS(t.space,t.local)}}function as(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function us(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function ls(t,e,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a)))}}function fs(t,e,n){var r,i,o;return function(){var s,a=n(this),u;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a)))}}function cs(t,e){var n=oe(t),r=n==="transform"?Wo:Zn;return this.attrTween(t,typeof e=="function"?(n.local?fs:ls)(n,r,Oe(this,"attr."+t,e)):e==null?(n.local?ss:os)(n):(n.local?us:as)(n,r,e))}function hs(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ds(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ps(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&ds(t,o)),n}return i._value=e,i}function gs(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&hs(t,o)),n}return i._value=e,i}function ms(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=oe(t);return this.tween(n,(r.local?ps:gs)(r,e))}function _s(t,e){return function(){He(this,t).delay=+e.apply(this,arguments)}}function ys(t,e){return e=+e,function(){He(this,t).delay=e}}function vs(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?_s:ys)(e,t)):D(this.node(),e).delay}function ws(t,e){return function(){B(this,t).duration=+e.apply(this,arguments)}}function xs(t,e){return e=+e,function(){B(this,t).duration=e}}function bs(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ws:xs)(e,t)):D(this.node(),e).duration}function ks(t,e){if(typeof e!="function")throw new Error;return function(){B(this,t).ease=e}}function Ms(t){var e=this._id;return arguments.length?this.each(ks(e,t)):D(this.node(),e).ease}function Ns(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;B(this,t).ease=n}}function As(t){if(typeof t!="function")throw new Error;return this.each(Ns(this._id,t))}function Ss(t){typeof t!="function"&&(t=Tn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new J(r,this._parents,this._name,this._id)}function Es(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u=e[a],l=n[a],f=u.length,c=s[a]=new Array(f),h,d=0;d<f;++d)(h=u[d]||l[d])&&(c[d]=h);for(;a<r;++a)s[a]=e[a];return new J(s,this._parents,this._name,this._id)}function Cs(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Ts(t,e,n){var r,i,o=Cs(e)?He:B;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}function $s(t,e){var n=this._id;return arguments.length<2?D(this.node(),n).on.on(t):this.each(Ts(n,t,e))}function Ls(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Ps(){return this.on("end.remove",Ls(this._id))}function Rs(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Le(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],u=a.length,l=o[s]=new Array(u),f,c,h=0;h<u;++h)(f=a[h])&&(c=t.call(f,f.__data__,h,a))&&("__data__"in f&&(c.__data__=f.__data__),l[h]=c,ae(l[h],e,n,h,l,D(f,n)));return new J(o,this._parents,e,n)}function Fs(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Cn(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u=r[a],l=u.length,f,c=0;c<l;++c)if(f=u[c]){for(var h=t.call(f,f.__data__,c,u),d,m=D(f,n),w=0,_=h.length;w<_;++w)(d=h[w])&&ae(d,e,n,w,h,m);o.push(h),s.push(f)}return new J(o,s,e,n)}var Is=$t.prototype.constructor;function zs(){return new Is(this._groups,this._parents)}function Hs(t,e){var n,r,i;return function(){var o=pt(this,t),s=(this.style.removeProperty(t),pt(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function Jn(t){return function(){this.style.removeProperty(t)}}function Os(t,e,n){var r,i=n+"",o;return function(){var s=pt(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function qs(t,e,n){var r,i,o;return function(){var s=pt(this,t),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(t),pt(this,t))),s===u?null:s===r&&u===i?o:(i=u,o=e(r=s,a))}}function Ds(t,e){var n,r,i,o="style."+e,s="end."+o,a;return function(){var u=B(this,t),l=u.on,f=u.value[o]==null?a||(a=Jn(e)):void 0;(l!==n||i!==f)&&(r=(n=l).copy()).on(s,i=f),u.on=r}}function Xs(t,e,n){var r=(t+="")=="transform"?Yo:Zn;return e==null?this.styleTween(t,Hs(t,r)).on("end.style."+t,Jn(t)):typeof e=="function"?this.styleTween(t,qs(t,r,Oe(this,"style."+t,e))).each(Ds(this._id,t)):this.styleTween(t,Os(t,r,e),n).on("end.style."+t,null)}function Vs(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Bs(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&Vs(t,s,n)),r}return o._value=e,o}function Ys(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Bs(t,e,n==null?"":n))}function Ws(t){return function(){this.textContent=t}}function Gs(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function Us(t){return this.tween("text",typeof t=="function"?Gs(Oe(this,"text",t)):Ws(t==null?"":t+""))}function Ks(t){return function(e){this.textContent=t.call(this,e)}}function Zs(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Ks(i)),e}return r._value=t,r}function Js(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Zs(t))}function Qs(){for(var t=this._name,e=this._id,n=Qn(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)if(u=s[l]){var f=D(u,e);ae(u,t,n,l,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new J(r,this._parents,t,n)}function js(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};n.each(function(){var l=B(this,r),f=l.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),l.on=e}),i===0&&o()})}var ta=0;function J(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Qn(){return++ta}var K=$t.prototype;J.prototype={constructor:J,select:Rs,selectAll:Fs,selectChild:K.selectChild,selectChildren:K.selectChildren,filter:Ss,merge:Es,selection:zs,transition:Qs,call:K.call,nodes:K.nodes,node:K.node,size:K.size,empty:K.empty,each:K.each,on:$s,attr:cs,attrTween:ms,style:Xs,styleTween:Ys,text:Us,textTween:Js,remove:Ps,tween:is,delay:vs,duration:bs,ease:Ms,easeVarying:As,end:js,[Symbol.iterator]:K[Symbol.iterator]};function ea(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var na={time:null,delay:0,duration:250,ease:ea};function ra(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function ia(t){var e,n;t instanceof J?(e=t._id,t=t._name):(e=Qn(),(n=na).time=ze(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&ae(u,t,e,l,s,n||ra(u,e));return new J(r,this._parents,t,e)}$t.prototype.interrupt=es;$t.prototype.transition=ia;const Ae=Math.PI,Se=2*Ae,et=1e-6,oa=Se-et;function Ee(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function jn(){return new Ee}Ee.prototype=jn.prototype={constructor:Ee,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,s=this._y1,a=n-t,u=r-e,l=o-t,f=s-e,c=l*l+f*f;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(c>et)if(!(Math.abs(f*a-u*l)>et)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var h=n-o,d=r-s,m=a*a+u*u,w=h*h+d*d,_=Math.sqrt(m),x=Math.sqrt(c),p=i*Math.tan((Ae-Math.acos((m+c-w)/(2*_*x)))/2),y=p/x,b=p/_;Math.abs(y-1)>et&&(this._+="L"+(t+y*l)+","+(e+y*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>l*d)+","+(this._x1=t+b*a)+","+(this._y1=e+b*u)}},arc:function(t,e,n,r,i,o){t=+t,e=+e,n=+n,o=!!o;var s=n*Math.cos(r),a=n*Math.sin(r),u=t+s,l=e+a,f=1^o,c=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+u+","+l:(Math.abs(this._x1-u)>et||Math.abs(this._y1-l)>et)&&(this._+="L"+u+","+l),n&&(c<0&&(c=c%Se+Se),c>oa?this._+="A"+n+","+n+",0,1,"+f+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+f+","+(this._x1=u)+","+(this._y1=l):c>et&&(this._+="A"+n+","+n+",0,"+ +(c>=Ae)+","+f+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function sa(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function re(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function mt(t){return t=re(Math.abs(t)),t?t[1]:NaN}function aa(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),o.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function ua(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var la=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ie(t){if(!(e=la.exec(t)))throw new Error("invalid format: "+t);var e;return new qe({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ie.prototype=qe.prototype;function qe(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}qe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fa(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var tr;function ca(t,e){var n=re(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(tr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+re(t,Math.max(0,e+o-1))[0]}function an(t,e){var n=re(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var un={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:sa,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>an(t*100,e),r:an,s:ca,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ln(t){return t}var fn=Array.prototype.map,cn=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function ha(t){var e=t.grouping===void 0||t.thousands===void 0?ln:aa(fn.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?ln:ua(fn.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"\u2212":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(c){c=ie(c);var h=c.fill,d=c.align,m=c.sign,w=c.symbol,_=c.zero,x=c.width,p=c.comma,y=c.precision,b=c.trim,M=c.type;M==="n"?(p=!0,M="g"):un[M]||(y===void 0&&(y=12),b=!0,M="g"),(_||h==="0"&&d==="=")&&(_=!0,h="0",d="=");var T=w==="$"?n:w==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",N=w==="$"?r:/[%p]/.test(M)?s:"",R=un[M],z=/[defgprs%]/.test(M);y=y===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function H(v){var C=T,A=N,Y,W,tt;if(M==="c")A=R(v)+A,v="";else{v=+v;var G=v<0||1/v<0;if(v=isNaN(v)?u:R(Math.abs(v),y),b&&(v=fa(v)),G&&+v==0&&m!=="+"&&(G=!1),C=(G?m==="("?m:a:m==="-"||m==="("?"":m)+C,A=(M==="s"?cn[8+tr/3]:"")+A+(G&&m==="("?")":""),z){for(Y=-1,W=v.length;++Y<W;)if(tt=v.charCodeAt(Y),48>tt||tt>57){A=(tt===46?i+v.slice(Y+1):v.slice(Y))+A,v=v.slice(0,Y);break}}}p&&!_&&(v=e(v,1/0));var U=C.length+v.length+A.length,S=U<x?new Array(x-U+1).join(h):"";switch(p&&_&&(v=e(S+v,S.length?x-A.length:1/0),S=""),d){case"<":v=C+v+A+S;break;case"=":v=C+S+v+A;break;case"^":v=S.slice(0,U=S.length>>1)+C+v+A+S.slice(U);break;default:v=S+C+v+A;break}return o(v)}return H.toString=function(){return c+""},H}function f(c,h){var d=l((c=ie(c),c.type="f",c)),m=Math.max(-8,Math.min(8,Math.floor(mt(h)/3)))*3,w=Math.pow(10,-m),_=cn[8+m/3];return function(x){return d(w*x)+_}}return{format:l,formatPrefix:f}}var Ot,er,nr;da({thousands:",",grouping:[3],currency:["$",""]});function da(t){return Ot=ha(t),er=Ot.format,nr=Ot.formatPrefix,Ot}function pa(t){return Math.max(0,-mt(Math.abs(t)))}function ga(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mt(e)/3)))*3-mt(Math.abs(t)))}function ma(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,mt(e)-mt(t))+1}function _a(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ya(t){return function(){return t}}function va(t){return+t}var hn=[0,1];function ft(t){return t}function Ce(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ya(isNaN(e)?NaN:.5)}function wa(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function xa(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=Ce(i,r),o=n(s,o)):(r=Ce(r,i),o=n(o,s)),function(a){return o(r(a))}}function ba(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Ce(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var u=Cr(t,a,1,r)-1;return o[u](i[u](a))}}function ka(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ma(){var t=hn,e=hn,n=Ie,r,i,o,s=ft,a,u,l;function f(){var h=Math.min(t.length,e.length);return s!==ft&&(s=wa(t[0],t[h-1])),a=h>2?ba:xa,u=l=null,c}function c(h){return h==null||isNaN(h=+h)?o:(u||(u=a(t.map(r),e,n)))(r(s(h)))}return c.invert=function(h){return s(i((l||(l=a(e,t.map(r),O)))(h)))},c.domain=function(h){return arguments.length?(t=Array.from(h,va),f()):t.slice()},c.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},c.rangeRound=function(h){return e=Array.from(h),n=Xo,f()},c.clamp=function(h){return arguments.length?(s=h?!0:ft,f()):s!==ft},c.interpolate=function(h){return arguments.length?(n=h,f()):n},c.unknown=function(h){return arguments.length?(o=h,c):o},function(h,d){return r=h,i=d,f()}}function Na(){return Ma()(ft,ft)}function Aa(t,e,n,r){var i=$r(t,e,n),o;switch(r=ie(r==null?",f":r),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=ga(i,s))&&(r.precision=o),nr(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=ma(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=pa(i))&&(r.precision=o-(r.type==="%")*2);break}}return er(r)}function Sa(t){var e=t.domain;return t.ticks=function(n){var r=e();return Tr(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return Aa(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],u,l,f=10;for(a<s&&(l=s,s=a,a=l,l=i,i=o,o=l);f-- >0;){if(l=Mn(s,a,n),l===u)return r[i]=s,r[o]=a,e(r);if(l>0)s=Math.floor(s/l)*l,a=Math.ceil(a/l)*l;else if(l<0)s=Math.ceil(s*l)/l,a=Math.floor(a*l)/l;else break;u=l}return t},t}function Te(){var t=Na();return t.copy=function(){return ka(t,Te())},_a.apply(t,arguments),Sa(t)}function lt(t){return function(){return t}}function Ea(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function rr(t){this._context=t}rr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ca(t){return new rr(t)}function Ta(t){return t[0]}function $a(t){return t[1]}function La(t,e){var n=lt(!0),r=null,i=Ca,o=null;t=typeof t=="function"?t:t===void 0?Ta:lt(t),e=typeof e=="function"?e:e===void 0?$a:lt(e);function s(a){var u,l=(a=Ea(a)).length,f,c=!1,h;for(r==null&&(o=i(h=jn())),u=0;u<=l;++u)!(u<l&&n(f=a[u],u,a))===c&&((c=!c)?o.lineStart():o.lineEnd()),c&&o.point(+t(f,u,a),+e(f,u,a));if(h)return o=null,h+""||null}return s.x=function(a){return arguments.length?(t=typeof a=="function"?a:lt(+a),s):t},s.y=function(a){return arguments.length?(e=typeof a=="function"?a:lt(+a),s):e},s.defined=function(a){return arguments.length?(n=typeof a=="function"?a:lt(!!a),s):n},s.curve=function(a){return arguments.length?(i=a,r!=null&&(o=i(r)),s):i},s.context=function(a){return arguments.length?(a==null?r=o=null:o=i(r=a),s):r},s}function bt(t,e,n){this.k=t,this.x=e,this.y=n}bt.prototype={constructor:bt,scale:function(t){return t===1?this:new bt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new bt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new bt(1,0,0);function Pa(t){let e;return{c(){e=Q("g"),g(e,"class","axis svelte-16yi2kn"),g(e,"transform",t[1])},m(n,r){I(n,e,r),t[7](e)},p(n,[r]){r&2&&g(e,"transform",n[1])},i:X,o:X,d(n){n&&L(e),t[7](null)}}}function Ra(t,e,n){let{innerHeight:r}=e,{margin:i}=e,{position:o}=e,{scale:s}=e,{width:a}=e,u,l;function f(c){Gt[c?"unshift":"push"](()=>{l=c,n(0,l)})}return t.$$set=c=>{"innerHeight"in c&&n(2,r=c.innerHeight),"margin"in c&&n(3,i=c.margin),"position"in c&&n(4,o=c.position),"scale"in c&&n(5,s=c.scale),"width"in c&&n(6,a=c.width)},t.$$.update=()=>{if(t.$$.dirty&125){Zt(l).selectAll("*").remove();let c;switch(o){case"bottom":Number(a)>350?(c=Be(s).tickFormat((h,d)=>["2011","2012","2013","2014","2015","2016","2017","2018","2019","2020"][d]),n(1,u=`translate(0, ${r})`)):(c=Be(s).tickFormat((h,d)=>["","2012","","2014","","2016","","2018","","2020"][d]),n(1,u=`translate(0, ${r})`));break;case"left":c=An(s).ticks(3).tickSizeOuter(0),n(1,u=`translate(${i}, 0)`)}Zt(l).call(c)}},[l,u,r,i,o,s,a,f]}class dn extends Tt{constructor(e){super(),Ct(this,e,Ra,Pa,Et,{innerHeight:2,margin:3,position:4,scale:5,width:6})}}function Fa(t){let e;return{c(){e=Q("g"),g(e,"class","grid svelte-1r9f2or"),g(e,"transform",t[1])},m(n,r){I(n,e,r),t[6](e)},p(n,[r]){r&2&&g(e,"transform",n[1])},i:X,o:X,d(n){n&&L(e),t[6](null)}}}function Ia(t,e,n){let{margin:r}=e,{position:i}=e,{scale:o}=e,{width:s}=e,a,u;function l(f){Gt[f?"unshift":"push"](()=>{u=f,n(0,u)})}return t.$$set=f=>{"margin"in f&&n(2,r=f.margin),"position"in f&&n(3,i=f.position),"scale"in f&&n(4,o=f.scale),"width"in f&&n(5,s=f.width)},t.$$.update=()=>{if(t.$$.dirty&61){Zt(u).selectAll("*").remove();let f;switch(i){case"left":f=An(o).ticks(4).tickSizeOuter(0).tickFormat("").tickSize(-Number(s)),n(1,a=`translate(${r}, 0)`)}Zt(u).call(f)}},[u,a,r,i,o,s,l]}class za extends Tt{constructor(e){super(),Ct(this,e,Ia,Fa,Et,{margin:2,position:3,scale:4,width:5})}}function pn(t,e,n){const r=t.slice();return r[1]=e[n],r[18]=n,r}function gn(t){let e,n,r,i,o,s;function a(...u){return t[13](t[1],...u)}return{c(){e=Q("circle"),i=Z(`
				/>`),g(e,"cx",n=t[4](t[1].year)),g(e,"cy",r=t[3](t[1][t[0]])),g(e,"r","5"),g(e,"class","svelte-1hjblyg")},m(u,l){I(u,e,l),I(u,i,l),o||(s=[Wt(e,"mouseover",a),Wt(e,"mouseout",t[14])],o=!0)},p(u,l){t=u,l&18&&n!==(n=t[4](t[1].year))&&g(e,"cx",n),l&11&&r!==(r=t[3](t[1][t[0]]))&&g(e,"cy",r)},d(u){u&&L(e),u&&L(i),o=!1,St(s)}}}function mn(t){let e;function n(o,s){return o[0]==="count"?Oa:Ha}let r=n(t),i=r(t);return{c(){i.c(),e=wn()},m(o,s){i.m(o,s),I(o,e,s)},p(o,s){r===(r=n(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&L(e)}}}function Ha(t){let e,n,r=t[6].set_fine_amount.toLocaleString()+"",i;return{c(){e=E("div"),n=Z("$"),i=Z(r),g(e,"id","tooltip"),j(e,"left",t[7]+"px"),j(e,"top",t[8]-25+"px"),g(e,"class","svelte-1hjblyg")},m(o,s){I(o,e,s),k(e,n),k(e,i)},p(o,s){s&64&&r!==(r=o[6].set_fine_amount.toLocaleString()+"")&&xn(i,r),s&128&&j(e,"left",o[7]+"px"),s&256&&j(e,"top",o[8]-25+"px")},d(o){o&&L(e)}}}function Oa(t){let e,n=t[6].count.toLocaleString()+"",r;return{c(){e=E("div"),r=Z(n),g(e,"id","tooltip"),j(e,"left",t[7]+"px"),j(e,"top",t[8]-25+"px"),g(e,"class","svelte-1hjblyg")},m(i,o){I(i,e,o),k(e,r)},p(i,o){o&64&&n!==(n=i[6].count.toLocaleString()+"")&&xn(r,n),o&128&&j(e,"left",i[7]+"px"),o&256&&j(e,"top",i[8]-25+"px")},d(i){i&&L(e)}}}function qa(t){let e,n,r,i,o,s,a,u,l,f,c,h,d,m;i=new dn({props:{innerHeight:t[11],margin:t[10],scale:t[4],position:"bottom",width:t[2]}}),o=new dn({props:{innerHeight:t[11],margin:t[10],scale:t[3],position:"left",width:"9999"}}),s=new za({props:{margin:t[10],scale:t[3],position:"left",width:t[5]}});let w=t[1],_=[];for(let p=0;p<w.length;p+=1)_[p]=gn(pn(t,w,p));let x=t[6]!=null&&mn(t);return{c(){e=E("div"),n=Q("svg"),r=Q("g"),ht(i.$$.fragment),ht(o.$$.fragment),ht(s.$$.fragment),a=Q("text"),u=Q("path");for(let p=0;p<_.length;p+=1)_[p].c();l=Q("text"),h=F(),x&&x.c(),d=wn(),g(a,"transform",`translate(${-50},${t[11]/2}) rotate(-90)`),g(a,"class","svelte-1hjblyg"),g(u,"d",t[9]),g(u,"class","svelte-1hjblyg"),g(l,"x",f=t[5]/2),g(l,"y",t[11]+35),g(l,"class","svelte-1hjblyg"),g(r,"transform",`translate(${t[10].left},${t[10].top})`),g(n,"width",t[2]),g(n,"height",ir),g(n,"class","svg-content"),g(e,"id","container"),g(e,"class","svg-container svelte-1hjblyg"),Ut(()=>t[15].call(e))},m(p,y){I(p,e,y),k(e,n),k(n,r),it(i,r,null),it(o,r,null),it(s,r,null),k(r,a),k(r,u);for(let b=0;b<_.length;b+=1)_[b].m(r,null);k(r,l),c=hr(e,t[15].bind(e)),I(p,h,y),x&&x.m(p,y),I(p,d,y),m=!0},p(p,[y]){const b={};y&16&&(b.scale=p[4]),y&4&&(b.width=p[2]),i.$set(b);const M={};y&8&&(M.scale=p[3]),o.$set(M);const T={};if(y&8&&(T.scale=p[3]),y&32&&(T.width=p[5]),s.$set(T),(!m||y&512)&&g(u,"d",p[9]),y&4187){w=p[1];let N;for(N=0;N<w.length;N+=1){const R=pn(p,w,N);_[N]?_[N].p(R,y):(_[N]=gn(R),_[N].c(),_[N].m(r,l))}for(;N<_.length;N+=1)_[N].d(1);_.length=w.length}(!m||y&32&&f!==(f=p[5]/2))&&g(l,"x",f),(!m||y&4)&&g(n,"width",p[2]),p[6]!=null?x?x.p(p,y):(x=mn(p),x.c(),x.m(d.parentNode,d)):x&&(x.d(1),x=null)},i(p){m||(rt(i.$$.fragment,p),rt(o.$$.fragment,p),rt(s.$$.fragment,p),m=!0)},o(p){ct(i.$$.fragment,p),ct(o.$$.fragment,p),ct(s.$$.fragment,p),m=!1},d(p){p&&L(e),ot(i),ot(o),ot(s),lr(_,p),c(),p&&L(h),x&&x.d(p),p&&L(d)}}}const ir=150;function Da(t,e,n){let r,i,o,s,{data:a}=e,{variable:u}=e;const l={top:15,bottom:25,left:75,right:20};let f;const c=ir-l.top-l.bottom;var h=u==="count"?3e6:15e7;let d,m,w;const _=function(b){n(7,m=b.clientX),n(8,w=b.clientY)},x=(b,M)=>{n(6,d=b),_(M)},p=()=>{n(6,d=void 0)};function y(){f=this.offsetWidth,n(2,f)}return t.$$set=b=>{"data"in b&&n(1,a=b.data),"variable"in b&&n(0,u=b.variable)},t.$$.update=()=>{t.$$.dirty&4&&n(5,r=f-l.left-l.right),t.$$.dirty&32&&n(4,i=Te().domain([2011,2020]).range([0,r])),t.$$.dirty&27&&n(9,s=La().x(b=>i(b.year)).y(b=>o(b[u]))(a))},n(3,o=Te().domain([0,h]).range([c,0])),[u,a,f,o,i,r,d,m,w,s,l,c,_,x,p,y]}class _n extends Tt{constructor(e){super(),Ct(this,e,Da,qa,Et,{data:1,variable:0})}}var yn=[{year:2011,count:2805492,set_fine_amount:114226595},{year:2012,count:2746154,set_fine_amount:111485565},{year:2013,count:2611575,set_fine_amount:106483340},{year:2014,count:2484983,set_fine_amount:108987340},{year:2015,count:2168493,set_fine_amount:99872770},{year:2016,count:2254761,set_fine_amount:109675985},{year:2017,count:2144225,set_fine_amount:106199960},{year:2018,count:2044288,set_fine_amount:100206695},{year:2019,count:2213939,set_fine_amount:108424170},{year:2020,count:1403663,set_fine_amount:70555350}];function Xa(t){let e,n,r,i,o,s,a,u,l,f,c,h,d,m,w,_,x,p,y,b,M,T,N,R,z,H,v,C,A,Y,W,tt,G,U;return n=new kr({}),v=new _n({props:{data:yn,variable:"count"}}),W=new _n({props:{data:yn,variable:"set_fine_amount"}}),{c(){e=E("main"),ht(n.$$.fragment),r=F(),i=E("div"),i.innerHTML=`<br/><br/> 
		<h1 class="svelte-r0e1e3">Mapping Parking Tickets in Toronto</h1> 
		<p class="svelte-r0e1e3">Over <span id="bold" class="svelte-r0e1e3">22.8 million</span> parking tickets were issued
			in the City of Toronto in the decade spanning
			<span id="bold" class="svelte-r0e1e3">2011 to 2020</span>, representing over
			<span id="bold" class="svelte-r0e1e3">1 billion</span>
			dollars in fines. This map shows almost<a href="#footnote" class="svelte-r0e1e3">*</a> all
			of these parking tickets.</p>`,o=F(),s=E("div"),a=E("img"),l=F(),f=E("div"),c=E("img"),d=F(),m=E("p"),m.textContent="Number of parking tickets per 100m",w=F(),_=E("div"),x=E("p"),p=Z("Click "),y=E("a"),b=Z("here"),M=Z(` for a high-resolution version of this
			map`),T=F(),N=E("p"),N.textContent=`The spatial distribution of parking tickets represents a combination
			of the supply and demand for curbside space and patterns of
			enforcement.`,R=F(),z=E("p"),z.textContent=`Interestingly, there has been an overall decline in the number of
			tickets issued per year:`,H=F(),ht(v.$$.fragment),C=F(),A=E("p"),A.textContent=`But the total revenue has remained more stable (not accounting for
			inflation), except for 2020.`,Y=F(),ht(W.$$.fragment),tt=F(),G=E("div"),G.innerHTML=`<p id="footnote" class="svelte-r0e1e3"><b>Methods &amp; Data:</b><br/><br/>
			Data on the locations of
			<a href="https://open.toronto.ca/dataset/parking-tickets/" class="svelte-r0e1e3">parking tickets</a>
			are from the City of Toronto. We joined them to the City&#39;s
			<a href="https://open.toronto.ca/dataset/toronto-centreline-tcl/" class="svelte-r0e1e3">Centreline</a>
			data representing streets in order to make this map. Both were available
			as open data. The data on parking tickets only indicate addresses, not
			XY coordinates. Some of the parking tickets (~5%) could not be linked
			to streets due to missing address numbers or incorrect spellings. Code
			for this linking as well as visualization on this page were created by
			<a href="https://jamaps.github.io" class="svelte-r0e1e3">Jeff Allen</a> and are on
			<a href="https://github.com/schoolofcities/parking-tickets-toronto" class="svelte-r0e1e3">GitHub</a>.</p>`,g(i,"class","content svelte-r0e1e3"),de(a.src,u=yr)||g(a,"src",u),g(a,"alt","Toronto Parking Ticket Map"),g(a,"class","svelte-r0e1e3"),g(s,"id","map"),g(s,"class","svelte-r0e1e3"),de(c.src,h=wr)||g(c,"src",h),g(c,"alt","Legend"),g(c,"class","svelte-r0e1e3"),g(m,"class","svelte-r0e1e3"),g(f,"id","legend"),g(f,"class","svelte-r0e1e3"),g(y,"href",vr),g(y,"class","svelte-r0e1e3"),g(x,"class","svelte-r0e1e3"),g(N,"class","svelte-r0e1e3"),g(z,"class","svelte-r0e1e3"),g(A,"class","svelte-r0e1e3"),g(_,"class","content svelte-r0e1e3"),g(G,"class","info svelte-r0e1e3"),g(e,"class","svelte-r0e1e3")},m(S,or){I(S,e,or),it(n,e,null),k(e,r),k(e,i),k(e,o),k(e,s),k(s,a),k(e,l),k(e,f),k(f,c),k(f,d),k(f,m),k(e,w),k(e,_),k(_,x),k(x,p),k(x,y),k(y,b),k(x,M),k(_,T),k(_,N),k(_,R),k(_,z),k(_,H),it(v,_,null),k(_,C),k(_,A),k(_,Y),it(W,_,null),k(e,tt),k(e,G),U=!0},p:X,i(S){U||(rt(n.$$.fragment,S),rt(v.$$.fragment,S),rt(W.$$.fragment,S),U=!0)},o(S){ct(n.$$.fragment,S),ct(v.$$.fragment,S),ct(W.$$.fragment,S),U=!1},d(S){S&&L(e),ot(n),ot(v),ot(W)}}}class Va extends Tt{constructor(e){super(),Ct(this,e,null,Xa,Et,{})}}new Va({target:document.getElementById("app")});
