const ir=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}};ir();function J(){}function _e(t){return t()}function On(){return Object.create(null)}function St(t){t.forEach(_e)}function or(t){return typeof t=="function"}function Qt(t,n){return t!=t?n==n:t!==n||t&&typeof t=="object"||typeof t=="function"}let Ct;function ln(t,n){return Ct||(Ct=document.createElement("a")),Ct.href=n,t===Ct.href}function sr(t){return Object.keys(t).length===0}function v(t,n){t.appendChild(n)}function O(t,n,e){t.insertBefore(n,e||null)}function P(t){t.parentNode.removeChild(t)}function ar(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function S(t){return document.createElement(t)}function nt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function W(t){return document.createTextNode(t)}function L(){return W(" ")}function ye(){return W("")}function zn(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function g(t,n,e){e==null?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function ur(t){return Array.from(t.childNodes)}function ve(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function Q(t,n,e,r){e===null?t.style.removeProperty(n):t.style.setProperty(n,e,r?"important":"")}let $n;function xt(t){$n=t}const mt=[],fn=[],It=[],Dn=[],lr=Promise.resolve();let cn=!1;function fr(){cn||(cn=!0,lr.then(we))}function hn(t){It.push(t)}const rn=new Set;let Tt=0;function we(){const t=$n;do{for(;Tt<mt.length;){const n=mt[Tt];Tt++,xt(n),cr(n.$$)}for(xt(null),mt.length=0,Tt=0;fn.length;)fn.pop()();for(let n=0;n<It.length;n+=1){const e=It[n];rn.has(e)||(rn.add(e),e())}It.length=0}while(mt.length);for(;Dn.length;)Dn.pop()();cn=!1,rn.clear(),xt(t)}function cr(t){if(t.fragment!==null){t.update(),St(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(hn)}}const Ht=new Set;let hr;function ut(t,n){t&&t.i&&(Ht.delete(t),t.i(n))}function bt(t,n,e,r){if(t&&t.o){if(Ht.has(t))return;Ht.add(t),hr.c.push(()=>{Ht.delete(t),r&&(e&&t.d(1),r())}),t.o(n)}}function kt(t){t&&t.c()}function lt(t,n,e,r){const{fragment:i,on_mount:o,on_destroy:s,after_update:a}=t.$$;i&&i.m(n,e),r||hn(()=>{const u=o.map(_e).filter(or);s?s.push(...u):St(u),t.$$.on_mount=[]}),a.forEach(hn)}function ft(t,n){const e=t.$$;e.fragment!==null&&(St(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function dr(t,n){t.$$.dirty[0]===-1&&(mt.push(t),fr(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function Jt(t,n,e,r,i,o,s,a=[-1]){const u=$n;xt(t);const l=t.$$={fragment:null,ctx:null,props:o,update:J,not_equal:i,bound:On(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(u?u.$$.context:[])),callbacks:On(),dirty:a,skip_bound:!1,root:n.target||u.$$.root};s&&s(l.root);let f=!1;if(l.ctx=e?e(t,n.props||{},(c,h,...d)=>{const p=d.length?d[0]:h;return l.ctx&&i(l.ctx[c],l.ctx[c]=p)&&(!l.skip_bound&&l.bound[c]&&l.bound[c](p),f&&dr(t,c)),h}):[],l.update(),f=!0,St(l.before_update),l.fragment=r?r(l.ctx):!1,n.target){if(n.hydrate){const c=ur(n.target);l.fragment&&l.fragment.l(c),c.forEach(P)}else l.fragment&&l.fragment.c();n.intro&&ut(t.$$.fragment),lt(t,n.target,n.anchor,n.customElement),we()}xt(u)}class jt{$destroy(){ft(this,1),this.$destroy=J}$on(n,e){const r=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return r.push(e),()=>{const i=r.indexOf(e);i!==-1&&r.splice(i,1)}}$set(n){this.$$set&&!sr(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}var pr="/parking-tickets-toronto/assets/home-map.ff4f99be.png",gr="/parking-tickets-toronto/assets/parking-tickets-toronto.02886159.png",mr="/parking-tickets-toronto/assets/legend.66c8fa29.svg",_r="/parking-tickets-toronto/assets/top-logo.26ddeafd.svg";function yr(t){let n,e,r,i;return{c(){n=S("div"),e=S("a"),r=S("img"),ln(r.src,i=_r)||g(r,"src",i),g(r,"alt","School of Cities"),g(r,"class","svelte-1ofv56d"),g(e,"href","https://www.schoolofcities.utoronto.ca/"),g(n,"id","bar"),g(n,"class","svelte-1ofv56d")},m(o,s){O(o,n,s),v(n,e),v(e,r)},p:J,i:J,o:J,d(o){o&&P(n)}}}class vr extends jt{constructor(n){super(),Jt(this,n,null,yr,Qt,{})}}function qt(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function wr(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function xe(t){let n,e,r;t.length!==2?(n=qt,e=(a,u)=>qt(t(a),u),r=(a,u)=>t(a)-u):(n=t===qt||t===wr?t:xr,e=t,r=t);function i(a,u,l=0,f=a.length){if(l<f){if(n(u,u)!==0)return f;do{const c=l+f>>>1;e(a[c],u)<0?l=c+1:f=c}while(l<f)}return l}function o(a,u,l=0,f=a.length){if(l<f){if(n(u,u)!==0)return f;do{const c=l+f>>>1;e(a[c],u)<=0?l=c+1:f=c}while(l<f)}return l}function s(a,u,l=0,f=a.length){const c=i(a,u,l,f-1);return c>l&&r(a[c-1],u)>-r(a[c],u)?c-1:c}return{left:i,center:s,right:o}}function xr(){return 0}function br(t){return t===null?NaN:+t}const kr=xe(qt),Mr=kr.right;xe(br).center;var Nr=Mr,dn=Math.sqrt(50),pn=Math.sqrt(10),gn=Math.sqrt(2);function Ar(t,n,e){var r,i=-1,o,s,a;if(n=+n,t=+t,e=+e,t===n&&e>0)return[t];if((r=n<t)&&(o=t,t=n,n=o),(a=be(t,n,e))===0||!isFinite(a))return[];if(a>0){let u=Math.round(t/a),l=Math.round(n/a);for(u*a<t&&++u,l*a>n&&--l,s=new Array(o=l-u+1);++i<o;)s[i]=(u+i)*a}else{a=-a;let u=Math.round(t*a),l=Math.round(n*a);for(u/a<t&&++u,l/a>n&&--l,s=new Array(o=l-u+1);++i<o;)s[i]=(u+i)/a}return r&&s.reverse(),s}function be(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=dn?10:o>=pn?5:o>=gn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=dn?10:o>=pn?5:o>=gn?2:1)}function Sr(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=dn?i*=10:o>=pn?i*=5:o>=gn&&(i*=2),n<t?-i:i}function Er(t){return t}var on=1,sn=2,mn=3,_t=4,Xn=1e-6;function $r(t){return"translate("+t+",0)"}function Cr(t){return"translate(0,"+t+")"}function Tr(t){return n=>+t(n)}function Lr(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function Pr(){return!this.__axis}function ke(t,n){var e=[],r=null,i=null,o=6,s=6,a=3,u=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,l=t===on||t===_t?-1:1,f=t===_t||t===sn?"x":"y",c=t===on||t===mn?$r:Cr;function h(d){var p=r==null?n.ticks?n.ticks.apply(n,e):n.domain():r,m=i==null?n.tickFormat?n.tickFormat.apply(n,e):Er:i,w=Math.max(o,0)+a,b=n.range(),_=+b[0]+u,x=+b[b.length-1]+u,E=(n.bandwidth?Lr:Tr)(n.copy(),u),k=d.selection?d.selection():d,R=k.selectAll(".domain").data([null]),$=k.selectAll(".tick").data(p,n).order(),V=$.exit(),F=$.enter().append("g").attr("class","tick"),I=$.select("line"),y=$.select("text");R=R.merge(R.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(F),I=I.merge(F.append("line").attr("stroke","currentColor").attr(f+"2",l*o)),y=y.merge(F.append("text").attr("fill","currentColor").attr(f,l*w).attr("dy",t===on?"0em":t===mn?"0.71em":"0.32em")),d!==k&&(R=R.transition(d),$=$.transition(d),I=I.transition(d),y=y.transition(d),V=V.transition(d).attr("opacity",Xn).attr("transform",function(A){return isFinite(A=E(A))?c(A+u):this.getAttribute("transform")}),F.attr("opacity",Xn).attr("transform",function(A){var M=this.parentNode.__axis;return c((M&&isFinite(M=M(A))?M:E(A))+u)})),V.remove(),R.attr("d",t===_t||t===sn?s?"M"+l*s+","+_+"H"+u+"V"+x+"H"+l*s:"M"+u+","+_+"V"+x:s?"M"+_+","+l*s+"V"+u+"H"+x+"V"+l*s:"M"+_+","+u+"H"+x),$.attr("opacity",1).attr("transform",function(A){return c(E(A)+u)}),I.attr(f+"2",l*o),y.attr(f,l*w).text(m),k.filter(Pr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===sn?"start":t===_t?"end":"middle"),k.each(function(){this.__axis=E})}return h.scale=function(d){return arguments.length?(n=d,h):n},h.ticks=function(){return e=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(e=d==null?[]:Array.from(d),h):e.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(i=d,h):i},h.tickSize=function(d){return arguments.length?(o=s=+d,h):o},h.tickSizeInner=function(d){return arguments.length?(o=+d,h):o},h.tickSizeOuter=function(d){return arguments.length?(s=+d,h):s},h.tickPadding=function(d){return arguments.length?(a=+d,h):a},h.offset=function(d){return arguments.length?(u=+d,h):u},h}function Rr(t){return ke(mn,t)}function Fr(t){return ke(_t,t)}var Ir={value:()=>{}};function Me(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Ot(e)}function Ot(t){this._=t}function Hr(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Ot.prototype=Me.prototype={constructor:Ot,on:function(t,n){var e=this._,r=Hr(t+"",e),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=qr(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<s;)if(i=(t=r[o]).type)e[i]=Vn(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Vn(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Ot(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function qr(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Vn(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Ir,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var _n="http://www.w3.org/1999/xhtml",Bn={svg:"http://www.w3.org/2000/svg",xhtml:_n,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tn(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Bn.hasOwnProperty(n)?{space:Bn[n],local:t}:t}function Or(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===_n&&n.documentElement.namespaceURI===_n?n.createElement(t):n.createElementNS(e,t)}}function zr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ne(t){var n=tn(t);return(n.local?zr:Or)(n)}function Dr(){}function Cn(t){return t==null?Dr:function(){return this.querySelector(t)}}function Xr(t){typeof t!="function"&&(t=Cn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],s=o.length,a=r[i]=new Array(s),u,l,f=0;f<s;++f)(u=o[f])&&(l=t.call(u,u.__data__,f,o))&&("__data__"in u&&(l.__data__=u.__data__),a[f]=l);return new T(r,this._parents)}function Vr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Br(){return[]}function Ae(t){return t==null?Br:function(){return this.querySelectorAll(t)}}function Yr(t){return function(){return Vr(t.apply(this,arguments))}}function Ur(t){typeof t=="function"?t=Yr(t):t=Ae(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var s=n[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&(r.push(t.call(u,u.__data__,l,s)),i.push(u));return new T(r,i)}function Se(t){return function(){return this.matches(t)}}function Ee(t){return function(n){return n.matches(t)}}var Gr=Array.prototype.find;function Kr(t){return function(){return Gr.call(this.children,t)}}function Wr(){return this.firstElementChild}function Zr(t){return this.select(t==null?Wr:Kr(typeof t=="function"?t:Ee(t)))}var Qr=Array.prototype.filter;function Jr(){return Array.from(this.children)}function jr(t){return function(){return Qr.call(this.children,t)}}function ti(t){return this.selectAll(t==null?Jr:jr(typeof t=="function"?t:Ee(t)))}function ni(t){typeof t!="function"&&(t=Se(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new T(r,this._parents)}function $e(t){return new Array(t.length)}function ei(){return new T(this._enter||this._groups.map($e),this._parents)}function Xt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Xt.prototype={constructor:Xt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ri(t){return function(){return t}}function ii(t,n,e,r,i,o){for(var s=0,a,u=n.length,l=o.length;s<l;++s)(a=n[s])?(a.__data__=o[s],r[s]=a):e[s]=new Xt(t,o[s]);for(;s<u;++s)(a=n[s])&&(i[s]=a)}function oi(t,n,e,r,i,o,s){var a,u,l=new Map,f=n.length,c=o.length,h=new Array(f),d;for(a=0;a<f;++a)(u=n[a])&&(h[a]=d=s.call(u,u.__data__,a,n)+"",l.has(d)?i[a]=u:l.set(d,u));for(a=0;a<c;++a)d=s.call(t,o[a],a,o)+"",(u=l.get(d))?(r[a]=u,u.__data__=o[a],l.delete(d)):e[a]=new Xt(t,o[a]);for(a=0;a<f;++a)(u=n[a])&&l.get(h[a])===u&&(i[a]=u)}function si(t){return t.__data__}function ai(t,n){if(!arguments.length)return Array.from(this,si);var e=n?oi:ii,r=this._parents,i=this._groups;typeof t!="function"&&(t=ri(t));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),l=0;l<o;++l){var f=r[l],c=i[l],h=c.length,d=ui(t.call(f,f&&f.__data__,l,r)),p=d.length,m=a[l]=new Array(p),w=s[l]=new Array(p),b=u[l]=new Array(h);e(f,c,m,w,b,d,n);for(var _=0,x=0,E,k;_<p;++_)if(E=m[_]){for(_>=x&&(x=_+1);!(k=w[x])&&++x<p;);E._next=k||null}}return s=new T(s,r),s._enter=a,s._exit=u,s}function ui(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function li(){return new T(this._exit||this._groups.map($e),this._parents)}function fi(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function ci(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var l=e[u],f=r[u],c=l.length,h=a[u]=new Array(c),d,p=0;p<c;++p)(d=l[p]||f[p])&&(h[p]=d);for(;u<i;++u)a[u]=e[u];return new T(a,this._parents)}function hi(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function di(t){t||(t=pi);function n(c,h){return c&&h?t(c.__data__,h.__data__):!c-!h}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var s=e[o],a=s.length,u=i[o]=new Array(a),l,f=0;f<a;++f)(l=s[f])&&(u[f]=l);u.sort(n)}return new T(i,this._parents).order()}function pi(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function gi(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function mi(){return Array.from(this)}function _i(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function yi(){let t=0;for(const n of this)++t;return t}function vi(){return!this.node()}function wi(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function xi(t){return function(){this.removeAttribute(t)}}function bi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ki(t,n){return function(){this.setAttribute(t,n)}}function Mi(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Ni(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Ai(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Si(t,n){var e=tn(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?bi:xi:typeof n=="function"?e.local?Ai:Ni:e.local?Mi:ki)(e,n))}function Ce(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ei(t){return function(){this.style.removeProperty(t)}}function $i(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Ci(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Ti(t,n,e){return arguments.length>1?this.each((n==null?Ei:typeof n=="function"?Ci:$i)(t,n,e==null?"":e)):ht(this.node(),t)}function ht(t,n){return t.style.getPropertyValue(n)||Ce(t).getComputedStyle(t,null).getPropertyValue(n)}function Li(t){return function(){delete this[t]}}function Pi(t,n){return function(){this[t]=n}}function Ri(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Fi(t,n){return arguments.length>1?this.each((n==null?Li:typeof n=="function"?Ri:Pi)(t,n)):this.node()[t]}function Te(t){return t.trim().split(/^|\s+/)}function Tn(t){return t.classList||new Le(t)}function Le(t){this._node=t,this._names=Te(t.getAttribute("class")||"")}Le.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Pe(t,n){for(var e=Tn(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Re(t,n){for(var e=Tn(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Ii(t){return function(){Pe(this,t)}}function Hi(t){return function(){Re(this,t)}}function qi(t,n){return function(){(n.apply(this,arguments)?Pe:Re)(this,t)}}function Oi(t,n){var e=Te(t+"");if(arguments.length<2){for(var r=Tn(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?qi:n?Ii:Hi)(e,n))}function zi(){this.textContent=""}function Di(t){return function(){this.textContent=t}}function Xi(t){return function(){var n=t.apply(this,arguments);this.textContent=n==null?"":n}}function Vi(t){return arguments.length?this.each(t==null?zi:(typeof t=="function"?Xi:Di)(t)):this.node().textContent}function Bi(){this.innerHTML=""}function Yi(t){return function(){this.innerHTML=t}}function Ui(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n==null?"":n}}function Gi(t){return arguments.length?this.each(t==null?Bi:(typeof t=="function"?Ui:Yi)(t)):this.node().innerHTML}function Ki(){this.nextSibling&&this.parentNode.appendChild(this)}function Wi(){return this.each(Ki)}function Zi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Qi(){return this.each(Zi)}function Ji(t){var n=typeof t=="function"?t:Ne(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function ji(){return null}function to(t,n){var e=typeof t=="function"?t:Ne(t),r=n==null?ji:typeof n=="function"?n:Cn(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function no(){var t=this.parentNode;t&&t.removeChild(this)}function eo(){return this.each(no)}function ro(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function io(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function oo(t){return this.select(t?io:ro)}function so(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ao(t){return function(n){t.call(this,n,this.__data__)}}function uo(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function lo(t){return function(){var n=this.__on;if(!!n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function fo(t,n,e){return function(){var r=this.__on,i,o=ao(n);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function co(t,n,e){var r=uo(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,f;u<l;++u)for(i=0,f=a[u];i<o;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(a=n?fo:lo,i=0;i<o;++i)this.each(a(r[i],n,e));return this}function Fe(t,n,e){var r=Ce(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function ho(t,n){return function(){return Fe(this,t,n)}}function po(t,n){return function(){return Fe(this,t,n.apply(this,arguments))}}function go(t,n){return this.each((typeof n=="function"?po:ho)(t,n))}function*mo(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var Ie=[null];function T(t,n){this._groups=t,this._parents=n}function Et(){return new T([[document.documentElement]],Ie)}function _o(){return this}T.prototype=Et.prototype={constructor:T,select:Xr,selectAll:Ur,selectChild:Zr,selectChildren:ti,filter:ni,data:ai,enter:ei,exit:li,join:fi,merge:ci,selection:_o,order:hi,sort:di,call:gi,nodes:mi,node:_i,size:yi,empty:vi,each:wi,attr:Si,style:Ti,property:Fi,classed:Oi,text:Vi,html:Gi,raise:Wi,lower:Qi,append:Ji,insert:to,remove:eo,clone:oo,datum:so,on:co,dispatch:go,[Symbol.iterator]:mo};function Yn(t){return typeof t=="string"?new T([[document.querySelector(t)]],[document.documentElement]):new T([[t]],Ie)}function Ln(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function He(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function $t(){}var Mt=.7,Vt=1/Mt,ct="\\s*([+-]?\\d+)\\s*",Nt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",D="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yo=/^#([0-9a-f]{3,8})$/,vo=new RegExp(`^rgb\\(${ct},${ct},${ct}\\)$`),wo=new RegExp(`^rgb\\(${D},${D},${D}\\)$`),xo=new RegExp(`^rgba\\(${ct},${ct},${ct},${Nt}\\)$`),bo=new RegExp(`^rgba\\(${D},${D},${D},${Nt}\\)$`),ko=new RegExp(`^hsl\\(${Nt},${D},${D}\\)$`),Mo=new RegExp(`^hsla\\(${Nt},${D},${D},${Nt}\\)$`),Un={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ln($t,it,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Gn,formatHex:Gn,formatHex8:No,formatHsl:Ao,formatRgb:Kn,toString:Kn});function Gn(){return this.rgb().formatHex()}function No(){return this.rgb().formatHex8()}function Ao(){return qe(this).formatHsl()}function Kn(){return this.rgb().formatRgb()}function it(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=yo.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?Wn(n):e===3?new C(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Lt(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Lt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=vo.exec(t))?new C(n[1],n[2],n[3],1):(n=wo.exec(t))?new C(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=xo.exec(t))?Lt(n[1],n[2],n[3],n[4]):(n=bo.exec(t))?Lt(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=ko.exec(t))?Jn(n[1],n[2]/100,n[3]/100,1):(n=Mo.exec(t))?Jn(n[1],n[2]/100,n[3]/100,n[4]):Un.hasOwnProperty(t)?Wn(Un[t]):t==="transparent"?new C(NaN,NaN,NaN,0):null}function Wn(t){return new C(t>>16&255,t>>8&255,t&255,1)}function Lt(t,n,e,r){return r<=0&&(t=n=e=NaN),new C(t,n,e,r)}function So(t){return t instanceof $t||(t=it(t)),t?(t=t.rgb(),new C(t.r,t.g,t.b,t.opacity)):new C}function yn(t,n,e,r){return arguments.length===1?So(t):new C(t,n,e,r==null?1:r)}function C(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}Ln(C,yn,He($t,{brighter(t){return t=t==null?Vt:Math.pow(Vt,t),new C(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Mt:Math.pow(Mt,t),new C(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new C(rt(this.r),rt(this.g),rt(this.b),Bt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zn,formatHex:Zn,formatHex8:Eo,formatRgb:Qn,toString:Qn}));function Zn(){return`#${et(this.r)}${et(this.g)}${et(this.b)}`}function Eo(){return`#${et(this.r)}${et(this.g)}${et(this.b)}${et((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qn(){const t=Bt(this.opacity);return`${t===1?"rgb(":"rgba("}${rt(this.r)}, ${rt(this.g)}, ${rt(this.b)}${t===1?")":`, ${t})`}`}function Bt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function et(t){return t=rt(t),(t<16?"0":"")+t.toString(16)}function Jn(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new q(t,n,e,r)}function qe(t){if(t instanceof q)return new q(t.h,t.s,t.l,t.opacity);if(t instanceof $t||(t=it(t)),!t)return new q;if(t instanceof q)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),s=NaN,a=o-i,u=(o+i)/2;return a?(n===o?s=(e-r)/a+(e<r)*6:e===o?s=(r-n)/a+2:s=(n-e)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new q(s,a,u,t.opacity)}function $o(t,n,e,r){return arguments.length===1?qe(t):new q(t,n,e,r==null?1:r)}function q(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Ln(q,$o,He($t,{brighter(t){return t=t==null?Vt:Math.pow(Vt,t),new q(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Mt:Math.pow(Mt,t),new q(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new C(an(t>=240?t-240:t+120,i,r),an(t,i,r),an(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new q(jn(this.h),Pt(this.s),Pt(this.l),Bt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Bt(this.opacity);return`${t===1?"hsl(":"hsla("}${jn(this.h)}, ${Pt(this.s)*100}%, ${Pt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function jn(t){return t=(t||0)%360,t<0?t+360:t}function Pt(t){return Math.max(0,Math.min(1,t||0))}function an(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}var Pn=t=>()=>t;function Co(t,n){return function(e){return t+e*n}}function To(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Lo(t){return(t=+t)==1?Oe:function(n,e){return e-n?To(n,e,t):Pn(isNaN(n)?e:n)}}function Oe(t,n){var e=n-t;return e?Co(t,e):Pn(isNaN(t)?n:t)}var Yt=function t(n){var e=Lo(n);function r(i,o){var s=e((i=yn(i)).r,(o=yn(o)).r),a=e(i.g,o.g),u=e(i.b,o.b),l=Oe(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=a(f),i.b=u(f),i.opacity=l(f),i+""}}return r.gamma=t,r}(1);function Po(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function Ro(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Fo(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),s;for(s=0;s<r;++s)i[s]=Rn(t[s],n[s]);for(;s<e;++s)o[s]=n[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Io(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function H(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Ho(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=Rn(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var vn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,un=new RegExp(vn.source,"g");function qo(t){return function(){return t}}function Oo(t){return function(n){return t(n)+""}}function ze(t,n){var e=vn.lastIndex=un.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(t=t+"",n=n+"";(r=vn.exec(t))&&(i=un.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:H(r,i)})),e=un.lastIndex;return e<n.length&&(o=n.slice(e),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?Oo(u[0].x):qo(n):(n=u.length,function(l){for(var f=0,c;f<n;++f)a[(c=u[f]).i]=c.x(l);return a.join("")})}function Rn(t,n){var e=typeof n,r;return n==null||e==="boolean"?Pn(n):(e==="number"?H:e==="string"?(r=it(n))?(n=r,Yt):ze:n instanceof it?Yt:n instanceof Date?Io:Ro(n)?Po:Array.isArray(n)?Fo:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Ho:H)(t,n)}function zo(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var te=180/Math.PI,wn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function De(t,n,e,r,i,o){var s,a,u;return(s=Math.sqrt(t*t+n*n))&&(t/=s,n/=s),(u=t*e+n*r)&&(e-=t*u,r-=n*u),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,u/=a),t*r<n*e&&(t=-t,n=-n,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*te,skewX:Math.atan(u)*te,scaleX:s,scaleY:a}}var Rt;function Do(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?wn:De(n.a,n.b,n.c,n.d,n.e,n.f)}function Xo(t){return t==null||(Rt||(Rt=document.createElementNS("http://www.w3.org/2000/svg","g")),Rt.setAttribute("transform",t),!(t=Rt.transform.baseVal.consolidate()))?wn:(t=t.matrix,De(t.a,t.b,t.c,t.d,t.e,t.f))}function Xe(t,n,e,r){function i(l){return l.length?l.pop()+" ":""}function o(l,f,c,h,d,p){if(l!==c||f!==h){var m=d.push("translate(",null,n,null,e);p.push({i:m-4,x:H(l,c)},{i:m-2,x:H(f,h)})}else(c||h)&&d.push("translate("+c+n+h+e)}function s(l,f,c,h){l!==f?(l-f>180?f+=360:f-l>180&&(l+=360),h.push({i:c.push(i(c)+"rotate(",null,r)-2,x:H(l,f)})):f&&c.push(i(c)+"rotate("+f+r)}function a(l,f,c,h){l!==f?h.push({i:c.push(i(c)+"skewX(",null,r)-2,x:H(l,f)}):f&&c.push(i(c)+"skewX("+f+r)}function u(l,f,c,h,d,p){if(l!==c||f!==h){var m=d.push(i(d)+"scale(",null,",",null,")");p.push({i:m-4,x:H(l,c)},{i:m-2,x:H(f,h)})}else(c!==1||h!==1)&&d.push(i(d)+"scale("+c+","+h+")")}return function(l,f){var c=[],h=[];return l=t(l),f=t(f),o(l.translateX,l.translateY,f.translateX,f.translateY,c,h),s(l.rotate,f.rotate,c,h),a(l.skewX,f.skewX,c,h),u(l.scaleX,l.scaleY,f.scaleX,f.scaleY,c,h),l=f=null,function(d){for(var p=-1,m=h.length,w;++p<m;)c[(w=h[p]).i]=w.x(d);return c.join("")}}}var Vo=Xe(Do,"px, ","px)","deg)"),Bo=Xe(Xo,", ",")",")"),dt=0,yt=0,gt=0,Ve=1e3,Ut,vt,Gt=0,ot=0,nn=0,At=typeof performance=="object"&&performance.now?performance:Date,Be=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Fn(){return ot||(Be(Yo),ot=At.now()+nn)}function Yo(){ot=0}function Kt(){this._call=this._time=this._next=null}Kt.prototype=Ye.prototype={constructor:Kt,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Fn():+e)+(n==null?0:+n),!this._next&&vt!==this&&(vt?vt._next=this:Ut=this,vt=this),this._call=t,this._time=e,xn()},stop:function(){this._call&&(this._call=null,this._time=1/0,xn())}};function Ye(t,n,e){var r=new Kt;return r.restart(t,n,e),r}function Uo(){Fn(),++dt;for(var t=Ut,n;t;)(n=ot-t._time)>=0&&t._call.call(void 0,n),t=t._next;--dt}function ne(){ot=(Gt=At.now())+nn,dt=yt=0;try{Uo()}finally{dt=0,Ko(),ot=0}}function Go(){var t=At.now(),n=t-Gt;n>Ve&&(nn-=n,Gt=t)}function Ko(){for(var t,n=Ut,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ut=e);vt=t,xn(r)}function xn(t){if(!dt){yt&&(yt=clearTimeout(yt));var n=t-ot;n>24?(t<1/0&&(yt=setTimeout(ne,t-At.now()-nn)),gt&&(gt=clearInterval(gt))):(gt||(Gt=At.now(),gt=setInterval(Go,Ve)),dt=1,Be(ne))}}function ee(t,n,e){var r=new Kt;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var Wo=Me("start","end","cancel","interrupt"),Zo=[],Ue=0,re=1,bn=2,zt=3,ie=4,kn=5,Dt=6;function en(t,n,e,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(e in s)return;Qo(t,e,{name:n,index:r,group:i,on:Wo,tween:Zo,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ue})}function In(t,n){var e=z(t,n);if(e.state>Ue)throw new Error("too late; already scheduled");return e}function X(t,n){var e=z(t,n);if(e.state>zt)throw new Error("too late; already running");return e}function z(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Qo(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=Ye(o,0,e.time);function o(l){e.state=re,e.timer.restart(s,e.delay,e.time),e.delay<=l&&s(l-e.delay)}function s(l){var f,c,h,d;if(e.state!==re)return u();for(f in r)if(d=r[f],d.name===e.name){if(d.state===zt)return ee(s);d.state===ie?(d.state=Dt,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[f]):+f<n&&(d.state=Dt,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[f])}if(ee(function(){e.state===zt&&(e.state=ie,e.timer.restart(a,e.delay,e.time),a(l))}),e.state=bn,e.on.call("start",t,t.__data__,e.index,e.group),e.state===bn){for(e.state=zt,i=new Array(h=e.tween.length),f=0,c=-1;f<h;++f)(d=e.tween[f].value.call(t,t.__data__,e.index,e.group))&&(i[++c]=d);i.length=c+1}}function a(l){for(var f=l<e.duration?e.ease.call(null,l/e.duration):(e.timer.restart(u),e.state=kn,1),c=-1,h=i.length;++c<h;)i[c].call(t,f);e.state===kn&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){e.state=Dt,e.timer.stop(),delete r[n];for(var l in r)return;delete t.__transition}}function Jo(t,n){var e=t.__transition,r,i,o=!0,s;if(!!e){n=n==null?null:n+"";for(s in e){if((r=e[s]).name!==n){o=!1;continue}i=r.state>bn&&r.state<kn,r.state=Dt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[s]}o&&delete t.__transition}}function jo(t){return this.each(function(){Jo(this,t)})}function ts(t,n){var e,r;return function(){var i=X(this,t),o=i.tween;if(o!==e){r=e=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===n){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function ns(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=X(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:n,value:e},u=0,l=i.length;u<l;++u)if(i[u].name===n){i[u]=a;break}u===l&&i.push(a)}o.tween=i}}function es(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=z(this.node(),e).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((n==null?ts:ns)(e,t,n))}function Hn(t,n,e){var r=t._id;return t.each(function(){var i=X(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return z(i,r).value[n]}}function Ge(t,n){var e;return(typeof n=="number"?H:n instanceof it?Yt:(e=it(n))?(n=e,Yt):ze)(t,n)}function rs(t){return function(){this.removeAttribute(t)}}function is(t){return function(){this.removeAttributeNS(t.space,t.local)}}function os(t,n,e){var r,i=e+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=n(r=s,e)}}function ss(t,n,e){var r,i=e+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=n(r=s,e)}}function as(t,n,e){var r,i,o;return function(){var s,a=e(this),u;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=n(r=s,a)))}}function us(t,n,e){var r,i,o;return function(){var s,a=e(this),u;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=n(r=s,a)))}}function ls(t,n){var e=tn(t),r=e==="transform"?Bo:Ge;return this.attrTween(t,typeof n=="function"?(e.local?us:as)(e,r,Hn(this,"attr."+t,n)):n==null?(e.local?is:rs)(e):(e.local?ss:os)(e,r,n))}function fs(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function cs(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function hs(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&cs(t,o)),e}return i._value=n,i}function ds(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&fs(t,o)),e}return i._value=n,i}function ps(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=tn(t);return this.tween(e,(r.local?hs:ds)(r,n))}function gs(t,n){return function(){In(this,t).delay=+n.apply(this,arguments)}}function ms(t,n){return n=+n,function(){In(this,t).delay=n}}function _s(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?gs:ms)(n,t)):z(this.node(),n).delay}function ys(t,n){return function(){X(this,t).duration=+n.apply(this,arguments)}}function vs(t,n){return n=+n,function(){X(this,t).duration=n}}function ws(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?ys:vs)(n,t)):z(this.node(),n).duration}function xs(t,n){if(typeof n!="function")throw new Error;return function(){X(this,t).ease=n}}function bs(t){var n=this._id;return arguments.length?this.each(xs(n,t)):z(this.node(),n).ease}function ks(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;X(this,t).ease=e}}function Ms(t){if(typeof t!="function")throw new Error;return this.each(ks(this._id,t))}function Ns(t){typeof t!="function"&&(t=Se(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new Z(r,this._parents,this._name,this._id)}function As(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u=n[a],l=e[a],f=u.length,c=s[a]=new Array(f),h,d=0;d<f;++d)(h=u[d]||l[d])&&(c[d]=h);for(;a<r;++a)s[a]=n[a];return new Z(s,this._parents,this._name,this._id)}function Ss(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Es(t,n,e){var r,i,o=Ss(n)?In:X;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(n,e),s.on=i}}function $s(t,n){var e=this._id;return arguments.length<2?z(this.node(),e).on.on(t):this.each(Es(e,t,n))}function Cs(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Ts(){return this.on("end.remove",Cs(this._id))}function Ls(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Cn(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],u=a.length,l=o[s]=new Array(u),f,c,h=0;h<u;++h)(f=a[h])&&(c=t.call(f,f.__data__,h,a))&&("__data__"in f&&(c.__data__=f.__data__),l[h]=c,en(l[h],n,e,h,l,z(f,e)));return new Z(o,this._parents,n,e)}function Ps(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Ae(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u=r[a],l=u.length,f,c=0;c<l;++c)if(f=u[c]){for(var h=t.call(f,f.__data__,c,u),d,p=z(f,e),m=0,w=h.length;m<w;++m)(d=h[m])&&en(d,n,e,m,h,p);o.push(h),s.push(f)}return new Z(o,s,n,e)}var Rs=Et.prototype.constructor;function Fs(){return new Rs(this._groups,this._parents)}function Is(t,n){var e,r,i;return function(){var o=ht(this,t),s=(this.style.removeProperty(t),ht(this,t));return o===s?null:o===e&&s===r?i:i=n(e=o,r=s)}}function Ke(t){return function(){this.style.removeProperty(t)}}function Hs(t,n,e){var r,i=e+"",o;return function(){var s=ht(this,t);return s===i?null:s===r?o:o=n(r=s,e)}}function qs(t,n,e){var r,i,o;return function(){var s=ht(this,t),a=e(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(t),ht(this,t))),s===u?null:s===r&&u===i?o:(i=u,o=n(r=s,a))}}function Os(t,n){var e,r,i,o="style."+n,s="end."+o,a;return function(){var u=X(this,t),l=u.on,f=u.value[o]==null?a||(a=Ke(n)):void 0;(l!==e||i!==f)&&(r=(e=l).copy()).on(s,i=f),u.on=r}}function zs(t,n,e){var r=(t+="")=="transform"?Vo:Ge;return n==null?this.styleTween(t,Is(t,r)).on("end.style."+t,Ke(t)):typeof n=="function"?this.styleTween(t,qs(t,r,Hn(this,"style."+t,n))).each(Os(this._id,t)):this.styleTween(t,Hs(t,r,n),e).on("end.style."+t,null)}function Ds(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Xs(t,n,e){var r,i;function o(){var s=n.apply(this,arguments);return s!==i&&(r=(i=s)&&Ds(t,s,e)),r}return o._value=n,o}function Vs(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Xs(t,n,e==null?"":e))}function Bs(t){return function(){this.textContent=t}}function Ys(t){return function(){var n=t(this);this.textContent=n==null?"":n}}function Us(t){return this.tween("text",typeof t=="function"?Ys(Hn(this,"text",t)):Bs(t==null?"":t+""))}function Gs(t){return function(n){this.textContent=t.call(this,n)}}function Ks(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&Gs(i)),n}return r._value=t,r}function Ws(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Ks(t))}function Zs(){for(var t=this._name,n=this._id,e=We(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)if(u=s[l]){var f=z(u,n);en(u,t,e,l,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Z(r,this._parents,t,e)}function Qs(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};e.each(function(){var l=X(this,r),f=l.on;f!==t&&(n=(t=f).copy(),n._.cancel.push(a),n._.interrupt.push(a),n._.end.push(u)),l.on=n}),i===0&&o()})}var Js=0;function Z(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function We(){return++Js}var K=Et.prototype;Z.prototype={constructor:Z,select:Ls,selectAll:Ps,selectChild:K.selectChild,selectChildren:K.selectChildren,filter:Ns,merge:As,selection:Fs,transition:Zs,call:K.call,nodes:K.nodes,node:K.node,size:K.size,empty:K.empty,each:K.each,on:$s,attr:ls,attrTween:ps,style:zs,styleTween:Vs,text:Us,textTween:Ws,remove:Ts,tween:es,delay:_s,duration:ws,ease:bs,easeVarying:Ms,end:Qs,[Symbol.iterator]:K[Symbol.iterator]};function js(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ta={time:null,delay:0,duration:250,ease:js};function na(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function ea(t){var n,e;t instanceof Z?(n=t._id,t=t._name):(n=We(),(e=ta).time=Fn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&en(u,t,n,l,s,e||na(u,n));return new Z(r,this._parents,t,n)}Et.prototype.interrupt=jo;Et.prototype.transition=ea;const Mn=Math.PI,Nn=2*Mn,tt=1e-6,ra=Nn-tt;function An(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ze(){return new An}An.prototype=Ze.prototype={constructor:An,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,s=this._y1,a=e-t,u=r-n,l=o-t,f=s-n,c=l*l+f*f;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(c>tt)if(!(Math.abs(f*a-u*l)>tt)||!i)this._+="L"+(this._x1=t)+","+(this._y1=n);else{var h=e-o,d=r-s,p=a*a+u*u,m=h*h+d*d,w=Math.sqrt(p),b=Math.sqrt(c),_=i*Math.tan((Mn-Math.acos((p+c-m)/(2*w*b)))/2),x=_/b,E=_/w;Math.abs(x-1)>tt&&(this._+="L"+(t+x*l)+","+(n+x*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>l*d)+","+(this._x1=t+E*a)+","+(this._y1=n+E*u)}},arc:function(t,n,e,r,i,o){t=+t,n=+n,e=+e,o=!!o;var s=e*Math.cos(r),a=e*Math.sin(r),u=t+s,l=n+a,f=1^o,c=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);this._x1===null?this._+="M"+u+","+l:(Math.abs(this._x1-u)>tt||Math.abs(this._y1-l)>tt)&&(this._+="L"+u+","+l),e&&(c<0&&(c=c%Nn+Nn),c>ra?this._+="A"+e+","+e+",0,1,"+f+","+(t-s)+","+(n-a)+"A"+e+","+e+",0,1,"+f+","+(this._x1=u)+","+(this._y1=l):c>tt&&(this._+="A"+e+","+e+",0,"+ +(c>=Mn)+","+f+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};function ia(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Wt(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function pt(t){return t=Wt(Math.abs(t)),t?t[1]:NaN}function oa(t,n){return function(e,r){for(var i=e.length,o=[],s=0,a=t[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),o.push(e.substring(i-=a,i+a)),!((u+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(n)}}function sa(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var aa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zt(t){if(!(n=aa.exec(t)))throw new Error("invalid format: "+t);var n;return new qn({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Zt.prototype=qn.prototype;function qn(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}qn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ua(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Qe;function la(t,n){var e=Wt(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Qe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Wt(t,Math.max(0,n+o-1))[0]}function oe(t,n){var e=Wt(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var se={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ia,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>oe(t*100,n),r:oe,s:la,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ae(t){return t}var ue=Array.prototype.map,le=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function fa(t){var n=t.grouping===void 0||t.thousands===void 0?ae:oa(ue.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?ae:sa(ue.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"\u2212":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(c){c=Zt(c);var h=c.fill,d=c.align,p=c.sign,m=c.symbol,w=c.zero,b=c.width,_=c.comma,x=c.precision,E=c.trim,k=c.type;k==="n"?(_=!0,k="g"):se[k]||(x===void 0&&(x=12),E=!0,k="g"),(w||h==="0"&&d==="=")&&(w=!0,h="0",d="=");var R=m==="$"?e:m==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",$=m==="$"?r:/[%p]/.test(k)?s:"",V=se[k],F=/[defgprs%]/.test(k);x=x===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function I(y){var A=R,M=$,B,Y,j;if(k==="c")M=V(y)+M,y="";else{y=+y;var U=y<0||1/y<0;if(y=isNaN(y)?u:V(Math.abs(y),x),E&&(y=ua(y)),U&&+y==0&&p!=="+"&&(U=!1),A=(U?p==="("?p:a:p==="-"||p==="("?"":p)+A,M=(k==="s"?le[8+Qe/3]:"")+M+(U&&p==="("?")":""),F){for(B=-1,Y=y.length;++B<Y;)if(j=y.charCodeAt(B),48>j||j>57){M=(j===46?i+y.slice(B+1):y.slice(B))+M,y=y.slice(0,B);break}}}_&&!w&&(y=n(y,1/0));var G=A.length+y.length+M.length,N=G<b?new Array(b-G+1).join(h):"";switch(_&&w&&(y=n(N+y,N.length?b-M.length:1/0),N=""),d){case"<":y=A+y+M+N;break;case"=":y=A+N+y+M;break;case"^":y=N.slice(0,G=N.length>>1)+A+y+M+N.slice(G);break;default:y=N+A+y+M;break}return o(y)}return I.toString=function(){return c+""},I}function f(c,h){var d=l((c=Zt(c),c.type="f",c)),p=Math.max(-8,Math.min(8,Math.floor(pt(h)/3)))*3,m=Math.pow(10,-p),w=le[8+p/3];return function(b){return d(m*b)+w}}return{format:l,formatPrefix:f}}var Ft,Je,je;ca({thousands:",",grouping:[3],currency:["$",""]});function ca(t){return Ft=fa(t),Je=Ft.format,je=Ft.formatPrefix,Ft}function ha(t){return Math.max(0,-pt(Math.abs(t)))}function da(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pt(n)/3)))*3-pt(Math.abs(t)))}function pa(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,pt(n)-pt(t))+1}function ga(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function ma(t){return function(){return t}}function _a(t){return+t}var fe=[0,1];function at(t){return t}function Sn(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:ma(isNaN(n)?NaN:.5)}function ya(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function va(t,n,e){var r=t[0],i=t[1],o=n[0],s=n[1];return i<r?(r=Sn(i,r),o=e(s,o)):(r=Sn(r,i),o=e(o,s)),function(a){return o(r(a))}}function wa(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<r;)i[s]=Sn(t[s],t[s+1]),o[s]=e(n[s],n[s+1]);return function(a){var u=Nr(t,a,1,r)-1;return o[u](i[u](a))}}function xa(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ba(){var t=fe,n=fe,e=Rn,r,i,o,s=at,a,u,l;function f(){var h=Math.min(t.length,n.length);return s!==at&&(s=ya(t[0],t[h-1])),a=h>2?wa:va,u=l=null,c}function c(h){return h==null||isNaN(h=+h)?o:(u||(u=a(t.map(r),n,e)))(r(s(h)))}return c.invert=function(h){return s(i((l||(l=a(n,t.map(r),H)))(h)))},c.domain=function(h){return arguments.length?(t=Array.from(h,_a),f()):t.slice()},c.range=function(h){return arguments.length?(n=Array.from(h),f()):n.slice()},c.rangeRound=function(h){return n=Array.from(h),e=zo,f()},c.clamp=function(h){return arguments.length?(s=h?!0:at,f()):s!==at},c.interpolate=function(h){return arguments.length?(e=h,f()):e},c.unknown=function(h){return arguments.length?(o=h,c):o},function(h,d){return r=h,i=d,f()}}function ka(){return ba()(at,at)}function Ma(t,n,e,r){var i=Sr(t,n,e),o;switch(r=Zt(r==null?",f":r),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=da(i,s))&&(r.precision=o),je(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=pa(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=ha(i))&&(r.precision=o-(r.type==="%")*2);break}}return Je(r)}function Na(t){var n=t.domain;return t.ticks=function(e){var r=n();return Ar(r[0],r[r.length-1],e==null?10:e)},t.tickFormat=function(e,r){var i=n();return Ma(i[0],i[i.length-1],e==null?10:e,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,s=r[i],a=r[o],u,l,f=10;for(a<s&&(l=s,s=a,a=l,l=i,i=o,o=l);f-- >0;){if(l=be(s,a,e),l===u)return r[i]=s,r[o]=a,n(r);if(l>0)s=Math.floor(s/l)*l,a=Math.ceil(a/l)*l;else if(l<0)s=Math.ceil(s*l)/l,a=Math.floor(a*l)/l;else break;u=l}return t},t}function En(){var t=ka();return t.copy=function(){return xa(t,En())},ga.apply(t,arguments),Na(t)}function st(t){return function(){return t}}function Aa(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function tr(t){this._context=t}tr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function Sa(t){return new tr(t)}function Ea(t){return t[0]}function $a(t){return t[1]}function Ca(t,n){var e=st(!0),r=null,i=Sa,o=null;t=typeof t=="function"?t:t===void 0?Ea:st(t),n=typeof n=="function"?n:n===void 0?$a:st(n);function s(a){var u,l=(a=Aa(a)).length,f,c=!1,h;for(r==null&&(o=i(h=Ze())),u=0;u<=l;++u)!(u<l&&e(f=a[u],u,a))===c&&((c=!c)?o.lineStart():o.lineEnd()),c&&o.point(+t(f,u,a),+n(f,u,a));if(h)return o=null,h+""||null}return s.x=function(a){return arguments.length?(t=typeof a=="function"?a:st(+a),s):t},s.y=function(a){return arguments.length?(n=typeof a=="function"?a:st(+a),s):n},s.defined=function(a){return arguments.length?(e=typeof a=="function"?a:st(!!a),s):e},s.curve=function(a){return arguments.length?(i=a,r!=null&&(o=i(r)),s):i},s.context=function(a){return arguments.length?(a==null?r=o=null:o=i(r=a),s):r},s}function wt(t,n,e){this.k=t,this.x=n,this.y=e}wt.prototype={constructor:wt,scale:function(t){return t===1?this:new wt(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new wt(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new wt(1,0,0);function Ta(t){let n;return{c(){n=nt("g"),g(n,"class","axis svelte-7oibd3"),g(n,"transform",t[1])},m(e,r){O(e,n,r),t[7](n)},p(e,[r]){r&2&&g(n,"transform",e[1])},i:J,o:J,d(e){e&&P(n),t[7](null)}}}function La(t,n,e){let{innerHeight:r}=n,{margin:i}=n,{position:o}=n,{scale:s}=n,{variable:a}=n,u,l;function f(c){fn[c?"unshift":"push"](()=>{l=c,e(0,l)})}return t.$$set=c=>{"innerHeight"in c&&e(2,r=c.innerHeight),"margin"in c&&e(3,i=c.margin),"position"in c&&e(4,o=c.position),"scale"in c&&e(5,s=c.scale),"variable"in c&&e(6,a=c.variable)},t.$$.update=()=>{if(t.$$.dirty&61){Yn(l).selectAll("*").remove();let c;switch(o){case"bottom":c=Rr(s).tickFormat((h,d)=>["2011","2012","2013","2014","2015","2016","2017","2018","2019","2020"][d]),e(1,u=`translate(0, ${r})`);break;case"left":c=Fr(s).ticks(3).tickSizeOuter(0),e(1,u=`translate(${i}, 0)`)}Yn(l).call(c)}},[l,u,r,i,o,s,a,f]}class ce extends jt{constructor(n){super(),Jt(this,n,La,Ta,Qt,{innerHeight:2,margin:3,position:4,scale:5,variable:6})}}function he(t,n,e){const r=t.slice();return r[1]=n[e],r[16]=e,r}function de(t){let n,e,r,i,o,s;function a(...u){return t[12](t[1],...u)}return{c(){n=nt("circle"),i=W(`
			/>`),g(n,"cx",e=t[3](t[1].year)),g(n,"cy",r=t[2](t[1][t[0]])),g(n,"r","5"),g(n,"class","svelte-6h69us")},m(u,l){O(u,n,l),O(u,i,l),o||(s=[zn(n,"mouseover",a),zn(n,"mouseout",t[13])],o=!0)},p(u,l){t=u,l&10&&e!==(e=t[3](t[1].year))&&g(n,"cx",e),l&7&&r!==(r=t[2](t[1][t[0]]))&&g(n,"cy",r)},d(u){u&&P(n),u&&P(i),o=!1,St(s)}}}function pe(t){let n;function e(o,s){return o[0]==="count"?Ra:Pa}let r=e(t),i=r(t);return{c(){i.c(),n=ye()},m(o,s){i.m(o,s),O(o,n,s)},p(o,s){r===(r=e(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(n.parentNode,n)))},d(o){i.d(o),o&&P(n)}}}function Pa(t){let n,e,r=t[4].set_fine_amount.toLocaleString()+"",i;return{c(){n=S("div"),e=W("$"),i=W(r),g(n,"id","tooltip"),Q(n,"left",t[5]+"px"),Q(n,"top",t[6]-25+"px"),g(n,"class","svelte-6h69us")},m(o,s){O(o,n,s),v(n,e),v(n,i)},p(o,s){s&16&&r!==(r=o[4].set_fine_amount.toLocaleString()+"")&&ve(i,r),s&32&&Q(n,"left",o[5]+"px"),s&64&&Q(n,"top",o[6]-25+"px")},d(o){o&&P(n)}}}function Ra(t){let n,e=t[4].count.toLocaleString()+"",r;return{c(){n=S("div"),r=W(e),g(n,"id","tooltip"),Q(n,"left",t[5]+"px"),Q(n,"top",t[6]-25+"px"),g(n,"class","svelte-6h69us")},m(i,o){O(i,n,o),v(n,r)},p(i,o){o&16&&e!==(e=i[4].count.toLocaleString()+"")&&ve(r,e),o&32&&Q(n,"left",i[5]+"px"),o&64&&Q(n,"top",i[6]-25+"px")},d(i){i&&P(n)}}}function Fa(t){let n,e,r,i,o,s,a,u,l,f;r=new ce({props:{innerHeight:t[9],margin:t[8],scale:t[3],position:"bottom",variable:t[0]}}),i=new ce({props:{innerHeight:t[9],margin:t[8],scale:t[2],position:"left",variable:t[0]}});let c=t[1],h=[];for(let p=0;p<c.length;p+=1)h[p]=de(he(t,c,p));let d=t[4]!=null&&pe(t);return{c(){n=nt("svg"),e=nt("g"),kt(r.$$.fragment),kt(i.$$.fragment),o=nt("text"),s=nt("path");for(let p=0;p<h.length;p+=1)h[p].c();a=nt("text"),u=L(),d&&d.c(),l=ye(),g(o,"transform",`translate(${-50},${t[9]/2}) rotate(-90)`),g(o,"class","svelte-6h69us"),g(s,"d",t[7]),g(s,"class","svelte-6h69us"),g(a,"x",t[10]/2),g(a,"y",t[9]+35),g(a,"class","svelte-6h69us"),g(e,"transform",`translate(${t[8].left},${t[8].top})`),g(n,"width",nr),g(n,"height",er)},m(p,m){O(p,n,m),v(n,e),lt(r,e,null),lt(i,e,null),v(e,o),v(e,s);for(let w=0;w<h.length;w+=1)h[w].m(e,null);v(e,a),O(p,u,m),d&&d.m(p,m),O(p,l,m),f=!0},p(p,[m]){const w={};m&8&&(w.scale=p[3]),m&1&&(w.variable=p[0]),r.$set(w);const b={};if(m&4&&(b.scale=p[2]),m&1&&(b.variable=p[0]),i.$set(b),(!f||m&128)&&g(s,"d",p[7]),m&2079){c=p[1];let _;for(_=0;_<c.length;_+=1){const x=he(p,c,_);h[_]?h[_].p(x,m):(h[_]=de(x),h[_].c(),h[_].m(e,a))}for(;_<h.length;_+=1)h[_].d(1);h.length=c.length}p[4]!=null?d?d.p(p,m):(d=pe(p),d.c(),d.m(l.parentNode,l)):d&&(d.d(1),d=null)},i(p){f||(ut(r.$$.fragment,p),ut(i.$$.fragment,p),f=!0)},o(p){bt(r.$$.fragment,p),bt(i.$$.fragment,p),f=!1},d(p){p&&P(n),ft(r),ft(i),ar(h,p),p&&P(u),d&&d.d(p),p&&P(l)}}}const nr=500,er=125;function Ia(t,n,e){let r,i,o,{data:s}=n,{variable:a}=n;const u={top:15,bottom:25,left:100,right:20},l=er-u.top-u.bottom,f=nr-u.left-u.right;var c=a==="count"?3e6:12e7;let h,d,p;const m=function(_){e(5,d=_.clientX),e(6,p=_.clientY)},w=(_,x)=>{e(4,h=_),m(x)},b=()=>{e(4,h=void 0)};return t.$$set=_=>{"data"in _&&e(1,s=_.data),"variable"in _&&e(0,a=_.variable)},t.$$.update=()=>{t.$$.dirty&15&&e(7,o=Ca().x(_=>r(_.year)).y(_=>i(_[a]))(s))},e(3,r=En().domain([2011,2020]).range([0,f])),e(2,i=En().domain([0,c]).range([l,0])),[a,s,i,r,h,d,p,o,u,l,f,m,w,b]}class ge extends jt{constructor(n){super(),Jt(this,n,Ia,Fa,Qt,{data:1,variable:0})}}var me=[{year:2011,count:2805492,set_fine_amount:114226595},{year:2012,count:2746154,set_fine_amount:111485565},{year:2013,count:2611575,set_fine_amount:106483340},{year:2014,count:2484983,set_fine_amount:108987340},{year:2015,count:2168493,set_fine_amount:99872770},{year:2016,count:2254761,set_fine_amount:109675985},{year:2017,count:2144225,set_fine_amount:106199960},{year:2018,count:2044288,set_fine_amount:100206695},{year:2019,count:2213939,set_fine_amount:108424170},{year:2020,count:1403663,set_fine_amount:70555350}];function Ha(t){let n,e,r,i,o,s,a,u,l,f,c,h,d,p,m,w,b,_,x,E,k,R,$,V,F,I,y,A,M,B,Y,j,U,G;return e=new vr({}),y=new ge({props:{data:me,variable:"count"}}),Y=new ge({props:{data:me,variable:"set_fine_amount"}}),{c(){n=S("main"),kt(e.$$.fragment),r=L(),i=S("div"),i.innerHTML=`<h1 class="svelte-1uo5jvp">Mapping Parking Tickets in Toronto</h1> 
		<p class="svelte-1uo5jvp">Over <span id="bold" class="svelte-1uo5jvp">22.8 million</span> parking tickets were issued in the City of Toronto in the decade spanning <span id="bold" class="svelte-1uo5jvp">2011 to 2020</span>, representing over <span id="bold" class="svelte-1uo5jvp">1 billion</span> dollars in fines. This map shows almost<a href="#footnote" class="svelte-1uo5jvp">*</a> all of these parking tickets.</p>`,o=L(),s=S("div"),a=S("img"),l=L(),f=S("div"),c=S("div"),h=S("img"),p=L(),m=S("p"),m.textContent="Number of parking tickets per 100",w=L(),b=S("p"),_=W("Click "),x=S("a"),E=W("here"),k=W(" for a high-resolution version of this map"),R=L(),$=S("p"),$.textContent="The spatial distribution of parking tickets represents a combination of the supply and demand for curbside space and patterns of enforcement.",V=L(),F=S("p"),F.textContent="Interestingly, there has been an overall decline in the number of tickets issued per year:",I=L(),kt(y.$$.fragment),A=L(),M=S("p"),M.textContent="But the total revenue has remained more stable (not accounting for inflation), except for 2020.",B=L(),kt(Y.$$.fragment),j=L(),U=S("div"),U.innerHTML=`<p id="footnote" class="svelte-1uo5jvp"><b>Methods &amp; Data:</b><br/><br/>
			Data on the locations of <a href="https://open.toronto.ca/dataset/parking-tickets/" class="svelte-1uo5jvp">parking tickets</a> are from the City of Toronto. We joined them to the City&#39;s <a href="https://open.toronto.ca/dataset/toronto-centreline-tcl/" class="svelte-1uo5jvp">Centreline</a> data representing streets in order to make this map. Both were available as open data. The data on parking tickets only indicate addresses, not XY coordinates. Some of the parking tickets (~5%) could not be linked to streets due to missing address numbers or incorrect spellings.</p>`,g(i,"class","content svelte-1uo5jvp"),ln(a.src,u=pr)||g(a,"src",u),g(a,"alt","Toronto Parking Ticket Map"),g(a,"class","svelte-1uo5jvp"),g(s,"id","map"),g(s,"class","svelte-1uo5jvp"),ln(h.src,d=mr)||g(h,"src",d),g(h,"alt","Legend"),g(h,"class","svelte-1uo5jvp"),g(m,"class","svelte-1uo5jvp"),g(c,"id","legend"),g(c,"class","svelte-1uo5jvp"),g(x,"href",gr),g(x,"class","svelte-1uo5jvp"),g(b,"class","svelte-1uo5jvp"),g($,"class","svelte-1uo5jvp"),g(F,"class","svelte-1uo5jvp"),g(M,"class","svelte-1uo5jvp"),g(f,"class","content svelte-1uo5jvp"),g(U,"class","info svelte-1uo5jvp"),g(n,"class","svelte-1uo5jvp")},m(N,rr){O(N,n,rr),lt(e,n,null),v(n,r),v(n,i),v(n,o),v(n,s),v(s,a),v(n,l),v(n,f),v(f,c),v(c,h),v(c,p),v(c,m),v(f,w),v(f,b),v(b,_),v(b,x),v(x,E),v(b,k),v(f,R),v(f,$),v(f,V),v(f,F),v(f,I),lt(y,f,null),v(f,A),v(f,M),v(f,B),lt(Y,f,null),v(n,j),v(n,U),G=!0},p:J,i(N){G||(ut(e.$$.fragment,N),ut(y.$$.fragment,N),ut(Y.$$.fragment,N),G=!0)},o(N){bt(e.$$.fragment,N),bt(y.$$.fragment,N),bt(Y.$$.fragment,N),G=!1},d(N){N&&P(n),ft(e),ft(y),ft(Y)}}}class qa extends jt{constructor(n){super(),Jt(this,n,null,Ha,Qt,{})}}new qa({target:document.getElementById("app")});
