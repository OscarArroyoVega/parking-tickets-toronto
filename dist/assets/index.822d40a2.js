const sr=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}};sr();function X(){}function we(t){return t()}function Vn(){return Object.create(null)}function St(t){t.forEach(we)}function ar(t){return typeof t=="function"}function Et(t,n){return t!=t?n==n:t!==n||t&&typeof t=="object"||typeof t=="function"}let $t;function pn(t,n){return $t||($t=document.createElement("a")),$t.href=n,t===$t.href}function ur(t){return Object.keys(t).length===0}function k(t,n){t.appendChild(n)}function I(t,n,e){t.insertBefore(n,e||null)}function P(t){t.parentNode.removeChild(t)}function lr(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function E(t){return document.createElement(t)}function Q(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Z(t){return document.createTextNode(t)}function F(){return Z(" ")}function xe(){return Z("")}function Wt(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function m(t,n,e){e==null?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function fr(t){return Array.from(t.childNodes)}function be(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function j(t,n,e,r){e===null?t.style.removeProperty(n):t.style.setProperty(n,e,r?"important":"")}let Rt;function cr(){if(Rt===void 0){Rt=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch{Rt=!0}}return Rt}function hr(t,n){getComputedStyle(t).position==="static"&&(t.style.position="relative");const r=E("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=cr();let o;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=Wt(window,"message",s=>{s.source===r.contentWindow&&n()})):(r.src="about:blank",r.onload=()=>{o=Wt(r.contentWindow,"resize",n)}),k(t,r),()=>{(i||o&&r.contentWindow)&&o(),P(r)}}let $n;function kt(t){$n=t}const yt=[],Gt=[],qt=[],Bn=[],dr=Promise.resolve();let gn=!1;function pr(){gn||(gn=!0,dr.then(ke))}function Ut(t){qt.push(t)}const ln=new Set;let Ft=0;function ke(){const t=$n;do{for(;Ft<yt.length;){const n=yt[Ft];Ft++,kt(n),gr(n.$$)}for(kt(null),yt.length=0,Ft=0;Gt.length;)Gt.pop()();for(let n=0;n<qt.length;n+=1){const e=qt[n];ln.has(e)||(ln.add(e),e())}qt.length=0}while(yt.length);for(;Bn.length;)Bn.pop()();gn=!1,ln.clear(),kt(t)}function gr(t){if(t.fragment!==null){t.update(),St(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(Ut)}}const Dt=new Set;let mr;function rt(t,n){t&&t.i&&(Dt.delete(t),t.i(n))}function ct(t,n,e,r){if(t&&t.o){if(Dt.has(t))return;Dt.add(t),mr.c.push(()=>{Dt.delete(t),r&&(e&&t.d(1),r())}),t.o(n)}}function ht(t){t&&t.c()}function it(t,n,e,r){const{fragment:i,on_mount:o,on_destroy:s,after_update:a}=t.$$;i&&i.m(n,e),r||Ut(()=>{const u=o.map(we).filter(ar);s?s.push(...u):St(u),t.$$.on_mount=[]}),a.forEach(Ut)}function ot(t,n){const e=t.$$;e.fragment!==null&&(St(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function _r(t,n){t.$$.dirty[0]===-1&&(yt.push(t),pr(),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function Ct(t,n,e,r,i,o,s,a=[-1]){const u=$n;kt(t);const l=t.$$={fragment:null,ctx:null,props:o,update:X,not_equal:i,bound:Vn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(u?u.$$.context:[])),callbacks:Vn(),dirty:a,skip_bound:!1,root:n.target||u.$$.root};s&&s(l.root);let f=!1;if(l.ctx=e?e(t,n.props||{},(c,h,...d)=>{const g=d.length?d[0]:h;return l.ctx&&i(l.ctx[c],l.ctx[c]=g)&&(!l.skip_bound&&l.bound[c]&&l.bound[c](g),f&&_r(t,c)),h}):[],l.update(),f=!0,St(l.before_update),l.fragment=r?r(l.ctx):!1,n.target){if(n.hydrate){const c=fr(n.target);l.fragment&&l.fragment.l(c),c.forEach(P)}else l.fragment&&l.fragment.c();n.intro&&rt(t.$$.fragment),it(t,n.target,n.anchor,n.customElement),ke()}kt(u)}class Tt{$destroy(){ot(this,1),this.$destroy=X}$on(n,e){const r=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return r.push(e),()=>{const i=r.indexOf(e);i!==-1&&r.splice(i,1)}}$set(n){this.$$set&&!ur(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}var yr="/parking-tickets-toronto/assets/parking-tickets-toronto-web.19b935b6.png",vr="/parking-tickets-toronto/assets/parking-tickets-toronto.fe31c4d6.png",wr="/parking-tickets-toronto/assets/legend.66c8fa29.svg",xr="/parking-tickets-toronto/assets/top-logo.26ddeafd.svg";function br(t){let n,e,r,i;return{c(){n=E("div"),e=E("a"),r=E("img"),pn(r.src,i=xr)||m(r,"src",i),m(r,"alt","School of Cities"),m(r,"class","svelte-vd8pze"),m(e,"href","https://www.schoolofcities.utoronto.ca/"),m(n,"id","bar"),m(n,"class","svelte-vd8pze")},m(o,s){I(o,n,s),k(n,e),k(e,r)},p:X,i:X,o:X,d(o){o&&P(n)}}}class kr extends Tt{constructor(n){super(),Ct(this,n,null,br,Et,{})}}function Xt(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Mr(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Me(t){let n,e,r;t.length!==2?(n=Xt,e=(a,u)=>Xt(t(a),u),r=(a,u)=>t(a)-u):(n=t===Xt||t===Mr?t:Nr,e=t,r=t);function i(a,u,l=0,f=a.length){if(l<f){if(n(u,u)!==0)return f;do{const c=l+f>>>1;e(a[c],u)<0?l=c+1:f=c}while(l<f)}return l}function o(a,u,l=0,f=a.length){if(l<f){if(n(u,u)!==0)return f;do{const c=l+f>>>1;e(a[c],u)<=0?l=c+1:f=c}while(l<f)}return l}function s(a,u,l=0,f=a.length){const c=i(a,u,l,f-1);return c>l&&r(a[c-1],u)>-r(a[c],u)?c-1:c}return{left:i,center:s,right:o}}function Nr(){return 0}function Ar(t){return t===null?NaN:+t}const Sr=Me(Xt),Er=Sr.right;Me(Ar).center;var Cr=Er,mn=Math.sqrt(50),_n=Math.sqrt(10),yn=Math.sqrt(2);function Tr(t,n,e){var r,i=-1,o,s,a;if(n=+n,t=+t,e=+e,t===n&&e>0)return[t];if((r=n<t)&&(o=t,t=n,n=o),(a=Ne(t,n,e))===0||!isFinite(a))return[];if(a>0){let u=Math.round(t/a),l=Math.round(n/a);for(u*a<t&&++u,l*a>n&&--l,s=new Array(o=l-u+1);++i<o;)s[i]=(u+i)*a}else{a=-a;let u=Math.round(t*a),l=Math.round(n*a);for(u/a<t&&++u,l/a>n&&--l,s=new Array(o=l-u+1);++i<o;)s[i]=(u+i)/a}return r&&s.reverse(),s}function Ne(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=mn?10:o>=_n?5:o>=yn?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=mn?10:o>=_n?5:o>=yn?2:1)}function Lr(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=mn?i*=10:o>=_n?i*=5:o>=yn&&(i*=2),n<t?-i:i}function Pr(t){return t}var fn=1,cn=2,vn=3,vt=4,Yn=1e-6;function $r(t){return"translate("+t+",0)"}function Rr(t){return"translate(0,"+t+")"}function Fr(t){return n=>+t(n)}function Ir(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function zr(){return!this.__axis}function Ae(t,n){var e=[],r=null,i=null,o=6,s=6,a=3,u=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,l=t===fn||t===vt?-1:1,f=t===vt||t===cn?"x":"y",c=t===fn||t===vn?$r:Rr;function h(d){var g=r==null?n.ticks?n.ticks.apply(n,e):n.domain():r,x=i==null?n.tickFormat?n.tickFormat.apply(n,e):Pr:i,_=Math.max(o,0)+a,b=n.range(),p=+b[0]+u,y=+b[b.length-1]+u,w=(n.bandwidth?Ir:Fr)(n.copy(),u),M=d.selection?d.selection():d,T=M.selectAll(".domain").data([null]),N=M.selectAll(".tick").data(g,n).order(),R=N.exit(),z=N.enter().append("g").attr("class","tick"),H=N.select("line"),v=N.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),N=N.merge(z),H=H.merge(z.append("line").attr("stroke","currentColor").attr(f+"2",l*o)),v=v.merge(z.append("text").attr("fill","currentColor").attr(f,l*_).attr("dy",t===fn?"0em":t===vn?"0.71em":"0.32em")),d!==M&&(T=T.transition(d),N=N.transition(d),H=H.transition(d),v=v.transition(d),R=R.transition(d).attr("opacity",Yn).attr("transform",function(C){return isFinite(C=w(C))?c(C+u):this.getAttribute("transform")}),z.attr("opacity",Yn).attr("transform",function(C){var A=this.parentNode.__axis;return c((A&&isFinite(A=A(C))?A:w(C))+u)})),R.remove(),T.attr("d",t===vt||t===cn?s?"M"+l*s+","+p+"H"+u+"V"+y+"H"+l*s:"M"+u+","+p+"V"+y:s?"M"+p+","+l*s+"V"+u+"H"+y+"V"+l*s:"M"+p+","+u+"H"+y),N.attr("opacity",1).attr("transform",function(C){return c(w(C)+u)}),H.attr(f+"2",l*o),v.attr(f,l*_).text(x),M.filter(zr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===cn?"start":t===vt?"end":"middle"),M.each(function(){this.__axis=w})}return h.scale=function(d){return arguments.length?(n=d,h):n},h.ticks=function(){return e=Array.from(arguments),h},h.tickArguments=function(d){return arguments.length?(e=d==null?[]:Array.from(d),h):e.slice()},h.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),h):r&&r.slice()},h.tickFormat=function(d){return arguments.length?(i=d,h):i},h.tickSize=function(d){return arguments.length?(o=s=+d,h):o},h.tickSizeInner=function(d){return arguments.length?(o=+d,h):o},h.tickSizeOuter=function(d){return arguments.length?(s=+d,h):s},h.tickPadding=function(d){return arguments.length?(a=+d,h):a},h.offset=function(d){return arguments.length?(u=+d,h):u},h}function Wn(t){return Ae(vn,t)}function wn(t){return Ae(vt,t)}var Hr={value:()=>{}};function Se(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Vt(e)}function Vt(t){this._=t}function Or(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Vt.prototype=Se.prototype={constructor:Vt,on:function(t,n){var e=this._,r=Or(t+"",e),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=qr(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<s;)if(i=(t=r[o]).type)e[i]=Gn(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Gn(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Vt(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function qr(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Gn(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Hr,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var xn="http://www.w3.org/1999/xhtml",Un={svg:"http://www.w3.org/2000/svg",xhtml:xn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function sn(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Un.hasOwnProperty(n)?{space:Un[n],local:t}:t}function Dr(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===xn&&n.documentElement.namespaceURI===xn?n.createElement(t):n.createElementNS(e,t)}}function Xr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ee(t){var n=sn(t);return(n.local?Xr:Dr)(n)}function Vr(){}function Rn(t){return t==null?Vr:function(){return this.querySelector(t)}}function Br(t){typeof t!="function"&&(t=Rn(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],s=o.length,a=r[i]=new Array(s),u,l,f=0;f<s;++f)(u=o[f])&&(l=t.call(u,u.__data__,f,o))&&("__data__"in u&&(l.__data__=u.__data__),a[f]=l);return new $(r,this._parents)}function Yr(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Wr(){return[]}function Ce(t){return t==null?Wr:function(){return this.querySelectorAll(t)}}function Gr(t){return function(){return Yr(t.apply(this,arguments))}}function Ur(t){typeof t=="function"?t=Gr(t):t=Ce(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var s=n[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&(r.push(t.call(u,u.__data__,l,s)),i.push(u));return new $(r,i)}function Te(t){return function(){return this.matches(t)}}function Le(t){return function(n){return n.matches(t)}}var Kr=Array.prototype.find;function Zr(t){return function(){return Kr.call(this.children,t)}}function Jr(){return this.firstElementChild}function Qr(t){return this.select(t==null?Jr:Zr(typeof t=="function"?t:Le(t)))}var jr=Array.prototype.filter;function ti(){return Array.from(this.children)}function ni(t){return function(){return jr.call(this.children,t)}}function ei(t){return this.selectAll(t==null?ti:ni(typeof t=="function"?t:Le(t)))}function ri(t){typeof t!="function"&&(t=Te(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new $(r,this._parents)}function Pe(t){return new Array(t.length)}function ii(){return new $(this._enter||this._groups.map(Pe),this._parents)}function Kt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Kt.prototype={constructor:Kt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function oi(t){return function(){return t}}function si(t,n,e,r,i,o){for(var s=0,a,u=n.length,l=o.length;s<l;++s)(a=n[s])?(a.__data__=o[s],r[s]=a):e[s]=new Kt(t,o[s]);for(;s<u;++s)(a=n[s])&&(i[s]=a)}function ai(t,n,e,r,i,o,s){var a,u,l=new Map,f=n.length,c=o.length,h=new Array(f),d;for(a=0;a<f;++a)(u=n[a])&&(h[a]=d=s.call(u,u.__data__,a,n)+"",l.has(d)?i[a]=u:l.set(d,u));for(a=0;a<c;++a)d=s.call(t,o[a],a,o)+"",(u=l.get(d))?(r[a]=u,u.__data__=o[a],l.delete(d)):e[a]=new Kt(t,o[a]);for(a=0;a<f;++a)(u=n[a])&&l.get(h[a])===u&&(i[a]=u)}function ui(t){return t.__data__}function li(t,n){if(!arguments.length)return Array.from(this,ui);var e=n?ai:si,r=this._parents,i=this._groups;typeof t!="function"&&(t=oi(t));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),l=0;l<o;++l){var f=r[l],c=i[l],h=c.length,d=fi(t.call(f,f&&f.__data__,l,r)),g=d.length,x=a[l]=new Array(g),_=s[l]=new Array(g),b=u[l]=new Array(h);e(f,c,x,_,b,d,n);for(var p=0,y=0,w,M;p<g;++p)if(w=x[p]){for(p>=y&&(y=p+1);!(M=_[y])&&++y<g;);w._next=M||null}}return s=new $(s,r),s._enter=a,s._exit=u,s}function fi(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ci(){return new $(this._exit||this._groups.map(Pe),this._parents)}function hi(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function di(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var l=e[u],f=r[u],c=l.length,h=a[u]=new Array(c),d,g=0;g<c;++g)(d=l[g]||f[g])&&(h[g]=d);for(;u<i;++u)a[u]=e[u];return new $(a,this._parents)}function pi(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function gi(t){t||(t=mi);function n(c,h){return c&&h?t(c.__data__,h.__data__):!c-!h}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var s=e[o],a=s.length,u=i[o]=new Array(a),l,f=0;f<a;++f)(l=s[f])&&(u[f]=l);u.sort(n)}return new $(i,this._parents).order()}function mi(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function _i(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function yi(){return Array.from(this)}function vi(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function wi(){let t=0;for(const n of this)++t;return t}function xi(){return!this.node()}function bi(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function ki(t){return function(){this.removeAttribute(t)}}function Mi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ni(t,n){return function(){this.setAttribute(t,n)}}function Ai(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Si(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Ei(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Ci(t,n){var e=sn(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Mi:ki:typeof n=="function"?e.local?Ei:Si:e.local?Ai:Ni)(e,n))}function $e(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ti(t){return function(){this.style.removeProperty(t)}}function Li(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Pi(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function $i(t,n,e){return arguments.length>1?this.each((n==null?Ti:typeof n=="function"?Pi:Li)(t,n,e==null?"":e)):pt(this.node(),t)}function pt(t,n){return t.style.getPropertyValue(n)||$e(t).getComputedStyle(t,null).getPropertyValue(n)}function Ri(t){return function(){delete this[t]}}function Fi(t,n){return function(){this[t]=n}}function Ii(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function zi(t,n){return arguments.length>1?this.each((n==null?Ri:typeof n=="function"?Ii:Fi)(t,n)):this.node()[t]}function Re(t){return t.trim().split(/^|\s+/)}function Fn(t){return t.classList||new Fe(t)}function Fe(t){this._node=t,this._names=Re(t.getAttribute("class")||"")}Fe.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ie(t,n){for(var e=Fn(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function ze(t,n){for(var e=Fn(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Hi(t){return function(){Ie(this,t)}}function Oi(t){return function(){ze(this,t)}}function qi(t,n){return function(){(n.apply(this,arguments)?Ie:ze)(this,t)}}function Di(t,n){var e=Re(t+"");if(arguments.length<2){for(var r=Fn(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?qi:n?Hi:Oi)(e,n))}function Xi(){this.textContent=""}function Vi(t){return function(){this.textContent=t}}function Bi(t){return function(){var n=t.apply(this,arguments);this.textContent=n==null?"":n}}function Yi(t){return arguments.length?this.each(t==null?Xi:(typeof t=="function"?Bi:Vi)(t)):this.node().textContent}function Wi(){this.innerHTML=""}function Gi(t){return function(){this.innerHTML=t}}function Ui(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n==null?"":n}}function Ki(t){return arguments.length?this.each(t==null?Wi:(typeof t=="function"?Ui:Gi)(t)):this.node().innerHTML}function Zi(){this.nextSibling&&this.parentNode.appendChild(this)}function Ji(){return this.each(Zi)}function Qi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ji(){return this.each(Qi)}function to(t){var n=typeof t=="function"?t:Ee(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function no(){return null}function eo(t,n){var e=typeof t=="function"?t:Ee(t),r=n==null?no:typeof n=="function"?n:Rn(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function ro(){var t=this.parentNode;t&&t.removeChild(this)}function io(){return this.each(ro)}function oo(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function so(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ao(t){return this.select(t?so:oo)}function uo(t){return arguments.length?this.property("__data__",t):this.node().__data__}function lo(t){return function(n){t.call(this,n,this.__data__)}}function fo(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function co(t){return function(){var n=this.__on;if(!!n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function ho(t,n,e){return function(){var r=this.__on,i,o=lo(n);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function po(t,n,e){var r=fo(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,f;u<l;++u)for(i=0,f=a[u];i<o;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(a=n?ho:co,i=0;i<o;++i)this.each(a(r[i],n,e));return this}function He(t,n,e){var r=$e(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function go(t,n){return function(){return He(this,t,n)}}function mo(t,n){return function(){return He(this,t,n.apply(this,arguments))}}function _o(t,n){return this.each((typeof n=="function"?mo:go)(t,n))}function*yo(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var Oe=[null];function $(t,n){this._groups=t,this._parents=n}function Lt(){return new $([[document.documentElement]],Oe)}function vo(){return this}$.prototype=Lt.prototype={constructor:$,select:Br,selectAll:Ur,selectChild:Qr,selectChildren:ei,filter:ri,data:li,enter:ii,exit:ci,join:hi,merge:di,selection:vo,order:pi,sort:gi,call:_i,nodes:yi,node:vi,size:wi,empty:xi,each:bi,attr:Ci,style:$i,property:zi,classed:Di,text:Yi,html:Ki,raise:Ji,lower:ji,append:to,insert:eo,remove:io,clone:ao,datum:uo,on:po,dispatch:_o,[Symbol.iterator]:yo};function Zt(t){return typeof t=="string"?new $([[document.querySelector(t)]],[document.documentElement]):new $([[t]],Oe)}function In(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function qe(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Pt(){}var Mt=.7,Jt=1/Mt,dt="\\s*([+-]?\\d+)\\s*",Nt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",V="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wo=/^#([0-9a-f]{3,8})$/,xo=new RegExp(`^rgb\\(${dt},${dt},${dt}\\)$`),bo=new RegExp(`^rgb\\(${V},${V},${V}\\)$`),ko=new RegExp(`^rgba\\(${dt},${dt},${dt},${Nt}\\)$`),Mo=new RegExp(`^rgba\\(${V},${V},${V},${Nt}\\)$`),No=new RegExp(`^hsl\\(${Nt},${V},${V}\\)$`),Ao=new RegExp(`^hsla\\(${Nt},${V},${V},${Nt}\\)$`),Kn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};In(Pt,at,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Zn,formatHex:Zn,formatHex8:So,formatHsl:Eo,formatRgb:Jn,toString:Jn});function Zn(){return this.rgb().formatHex()}function So(){return this.rgb().formatHex8()}function Eo(){return De(this).formatHsl()}function Jn(){return this.rgb().formatRgb()}function at(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=wo.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?Qn(n):e===3?new L(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?It(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?It(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=xo.exec(t))?new L(n[1],n[2],n[3],1):(n=bo.exec(t))?new L(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=ko.exec(t))?It(n[1],n[2],n[3],n[4]):(n=Mo.exec(t))?It(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=No.exec(t))?ne(n[1],n[2]/100,n[3]/100,1):(n=Ao.exec(t))?ne(n[1],n[2]/100,n[3]/100,n[4]):Kn.hasOwnProperty(t)?Qn(Kn[t]):t==="transparent"?new L(NaN,NaN,NaN,0):null}function Qn(t){return new L(t>>16&255,t>>8&255,t&255,1)}function It(t,n,e,r){return r<=0&&(t=n=e=NaN),new L(t,n,e,r)}function Co(t){return t instanceof Pt||(t=at(t)),t?(t=t.rgb(),new L(t.r,t.g,t.b,t.opacity)):new L}function bn(t,n,e,r){return arguments.length===1?Co(t):new L(t,n,e,r==null?1:r)}function L(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}In(L,bn,qe(Pt,{brighter(t){return t=t==null?Jt:Math.pow(Jt,t),new L(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Mt:Math.pow(Mt,t),new L(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new L(st(this.r),st(this.g),st(this.b),Qt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jn,formatHex:jn,formatHex8:To,formatRgb:te,toString:te}));function jn(){return`#${et(this.r)}${et(this.g)}${et(this.b)}`}function To(){return`#${et(this.r)}${et(this.g)}${et(this.b)}${et((isNaN(this.opacity)?1:this.opacity)*255)}`}function te(){const t=Qt(this.opacity);return`${t===1?"rgb(":"rgba("}${st(this.r)}, ${st(this.g)}, ${st(this.b)}${t===1?")":`, ${t})`}`}function Qt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function st(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function et(t){return t=st(t),(t<16?"0":"")+t.toString(16)}function ne(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new q(t,n,e,r)}function De(t){if(t instanceof q)return new q(t.h,t.s,t.l,t.opacity);if(t instanceof Pt||(t=at(t)),!t)return new q;if(t instanceof q)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),s=NaN,a=o-i,u=(o+i)/2;return a?(n===o?s=(e-r)/a+(e<r)*6:e===o?s=(r-n)/a+2:s=(n-e)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new q(s,a,u,t.opacity)}function Lo(t,n,e,r){return arguments.length===1?De(t):new q(t,n,e,r==null?1:r)}function q(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}In(q,Lo,qe(Pt,{brighter(t){return t=t==null?Jt:Math.pow(Jt,t),new q(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Mt:Math.pow(Mt,t),new q(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new L(hn(t>=240?t-240:t+120,i,r),hn(t,i,r),hn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new q(ee(this.h),zt(this.s),zt(this.l),Qt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qt(this.opacity);return`${t===1?"hsl(":"hsla("}${ee(this.h)}, ${zt(this.s)*100}%, ${zt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ee(t){return t=(t||0)%360,t<0?t+360:t}function zt(t){return Math.max(0,Math.min(1,t||0))}function hn(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}var zn=t=>()=>t;function Po(t,n){return function(e){return t+e*n}}function $o(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Ro(t){return(t=+t)==1?Xe:function(n,e){return e-n?$o(n,e,t):zn(isNaN(n)?e:n)}}function Xe(t,n){var e=n-t;return e?Po(t,e):zn(isNaN(t)?n:t)}var jt=function t(n){var e=Ro(n);function r(i,o){var s=e((i=bn(i)).r,(o=bn(o)).r),a=e(i.g,o.g),u=e(i.b,o.b),l=Xe(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=a(f),i.b=u(f),i.opacity=l(f),i+""}}return r.gamma=t,r}(1);function Fo(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function Io(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zo(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),s;for(s=0;s<r;++s)i[s]=Hn(t[s],n[s]);for(;s<e;++s)o[s]=n[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Ho(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function O(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Oo(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=Hn(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var kn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dn=new RegExp(kn.source,"g");function qo(t){return function(){return t}}function Do(t){return function(n){return t(n)+""}}function Ve(t,n){var e=kn.lastIndex=dn.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(t=t+"",n=n+"";(r=kn.exec(t))&&(i=dn.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:O(r,i)})),e=dn.lastIndex;return e<n.length&&(o=n.slice(e),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?Do(u[0].x):qo(n):(n=u.length,function(l){for(var f=0,c;f<n;++f)a[(c=u[f]).i]=c.x(l);return a.join("")})}function Hn(t,n){var e=typeof n,r;return n==null||e==="boolean"?zn(n):(e==="number"?O:e==="string"?(r=at(n))?(n=r,jt):Ve:n instanceof at?jt:n instanceof Date?Ho:Io(n)?Fo:Array.isArray(n)?zo:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Oo:O)(t,n)}function Xo(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var re=180/Math.PI,Mn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Be(t,n,e,r,i,o){var s,a,u;return(s=Math.sqrt(t*t+n*n))&&(t/=s,n/=s),(u=t*e+n*r)&&(e-=t*u,r-=n*u),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,u/=a),t*r<n*e&&(t=-t,n=-n,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*re,skewX:Math.atan(u)*re,scaleX:s,scaleY:a}}var Ht;function Vo(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Mn:Be(n.a,n.b,n.c,n.d,n.e,n.f)}function Bo(t){return t==null||(Ht||(Ht=document.createElementNS("http://www.w3.org/2000/svg","g")),Ht.setAttribute("transform",t),!(t=Ht.transform.baseVal.consolidate()))?Mn:(t=t.matrix,Be(t.a,t.b,t.c,t.d,t.e,t.f))}function Ye(t,n,e,r){function i(l){return l.length?l.pop()+" ":""}function o(l,f,c,h,d,g){if(l!==c||f!==h){var x=d.push("translate(",null,n,null,e);g.push({i:x-4,x:O(l,c)},{i:x-2,x:O(f,h)})}else(c||h)&&d.push("translate("+c+n+h+e)}function s(l,f,c,h){l!==f?(l-f>180?f+=360:f-l>180&&(l+=360),h.push({i:c.push(i(c)+"rotate(",null,r)-2,x:O(l,f)})):f&&c.push(i(c)+"rotate("+f+r)}function a(l,f,c,h){l!==f?h.push({i:c.push(i(c)+"skewX(",null,r)-2,x:O(l,f)}):f&&c.push(i(c)+"skewX("+f+r)}function u(l,f,c,h,d,g){if(l!==c||f!==h){var x=d.push(i(d)+"scale(",null,",",null,")");g.push({i:x-4,x:O(l,c)},{i:x-2,x:O(f,h)})}else(c!==1||h!==1)&&d.push(i(d)+"scale("+c+","+h+")")}return function(l,f){var c=[],h=[];return l=t(l),f=t(f),o(l.translateX,l.translateY,f.translateX,f.translateY,c,h),s(l.rotate,f.rotate,c,h),a(l.skewX,f.skewX,c,h),u(l.scaleX,l.scaleY,f.scaleX,f.scaleY,c,h),l=f=null,function(d){for(var g=-1,x=h.length,_;++g<x;)c[(_=h[g]).i]=_.x(d);return c.join("")}}}var Yo=Ye(Vo,"px, ","px)","deg)"),Wo=Ye(Bo,", ",")",")"),gt=0,wt=0,_t=0,We=1e3,tn,xt,nn=0,ut=0,an=0,At=typeof performance=="object"&&performance.now?performance:Date,Ge=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function On(){return ut||(Ge(Go),ut=At.now()+an)}function Go(){ut=0}function en(){this._call=this._time=this._next=null}en.prototype=Ue.prototype={constructor:en,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?On():+e)+(n==null?0:+n),!this._next&&xt!==this&&(xt?xt._next=this:tn=this,xt=this),this._call=t,this._time=e,Nn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Nn())}};function Ue(t,n,e){var r=new en;return r.restart(t,n,e),r}function Uo(){On(),++gt;for(var t=tn,n;t;)(n=ut-t._time)>=0&&t._call.call(void 0,n),t=t._next;--gt}function ie(){ut=(nn=At.now())+an,gt=wt=0;try{Uo()}finally{gt=0,Zo(),ut=0}}function Ko(){var t=At.now(),n=t-nn;n>We&&(an-=n,nn=t)}function Zo(){for(var t,n=tn,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:tn=e);xt=t,Nn(r)}function Nn(t){if(!gt){wt&&(wt=clearTimeout(wt));var n=t-ut;n>24?(t<1/0&&(wt=setTimeout(ie,t-At.now()-an)),_t&&(_t=clearInterval(_t))):(_t||(nn=At.now(),_t=setInterval(Ko,We)),gt=1,Ge(ie))}}function oe(t,n,e){var r=new en;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var Jo=Se("start","end","cancel","interrupt"),Qo=[],Ke=0,se=1,An=2,Bt=3,ae=4,Sn=5,Yt=6;function un(t,n,e,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(e in s)return;jo(t,e,{name:n,index:r,group:i,on:Jo,tween:Qo,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ke})}function qn(t,n){var e=D(t,n);if(e.state>Ke)throw new Error("too late; already scheduled");return e}function B(t,n){var e=D(t,n);if(e.state>Bt)throw new Error("too late; already running");return e}function D(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function jo(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=Ue(o,0,e.time);function o(l){e.state=se,e.timer.restart(s,e.delay,e.time),e.delay<=l&&s(l-e.delay)}function s(l){var f,c,h,d;if(e.state!==se)return u();for(f in r)if(d=r[f],d.name===e.name){if(d.state===Bt)return oe(s);d.state===ae?(d.state=Yt,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[f]):+f<n&&(d.state=Yt,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[f])}if(oe(function(){e.state===Bt&&(e.state=ae,e.timer.restart(a,e.delay,e.time),a(l))}),e.state=An,e.on.call("start",t,t.__data__,e.index,e.group),e.state===An){for(e.state=Bt,i=new Array(h=e.tween.length),f=0,c=-1;f<h;++f)(d=e.tween[f].value.call(t,t.__data__,e.index,e.group))&&(i[++c]=d);i.length=c+1}}function a(l){for(var f=l<e.duration?e.ease.call(null,l/e.duration):(e.timer.restart(u),e.state=Sn,1),c=-1,h=i.length;++c<h;)i[c].call(t,f);e.state===Sn&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){e.state=Yt,e.timer.stop(),delete r[n];for(var l in r)return;delete t.__transition}}function ts(t,n){var e=t.__transition,r,i,o=!0,s;if(!!e){n=n==null?null:n+"";for(s in e){if((r=e[s]).name!==n){o=!1;continue}i=r.state>An&&r.state<Sn,r.state=Yt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[s]}o&&delete t.__transition}}function ns(t){return this.each(function(){ts(this,t)})}function es(t,n){var e,r;return function(){var i=B(this,t),o=i.tween;if(o!==e){r=e=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===n){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function rs(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=B(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:n,value:e},u=0,l=i.length;u<l;++u)if(i[u].name===n){i[u]=a;break}u===l&&i.push(a)}o.tween=i}}function is(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=D(this.node(),e).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((n==null?es:rs)(e,t,n))}function Dn(t,n,e){var r=t._id;return t.each(function(){var i=B(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return D(i,r).value[n]}}function Ze(t,n){var e;return(typeof n=="number"?O:n instanceof at?jt:(e=at(n))?(n=e,jt):Ve)(t,n)}function os(t){return function(){this.removeAttribute(t)}}function ss(t){return function(){this.removeAttributeNS(t.space,t.local)}}function as(t,n,e){var r,i=e+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=n(r=s,e)}}function us(t,n,e){var r,i=e+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=n(r=s,e)}}function ls(t,n,e){var r,i,o;return function(){var s,a=e(this),u;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=n(r=s,a)))}}function fs(t,n,e){var r,i,o;return function(){var s,a=e(this),u;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=n(r=s,a)))}}function cs(t,n){var e=sn(t),r=e==="transform"?Wo:Ze;return this.attrTween(t,typeof n=="function"?(e.local?fs:ls)(e,r,Dn(this,"attr."+t,n)):n==null?(e.local?ss:os)(e):(e.local?us:as)(e,r,n))}function hs(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function ds(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function ps(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&ds(t,o)),e}return i._value=n,i}function gs(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&hs(t,o)),e}return i._value=n,i}function ms(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=sn(t);return this.tween(e,(r.local?ps:gs)(r,n))}function _s(t,n){return function(){qn(this,t).delay=+n.apply(this,arguments)}}function ys(t,n){return n=+n,function(){qn(this,t).delay=n}}function vs(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?_s:ys)(n,t)):D(this.node(),n).delay}function ws(t,n){return function(){B(this,t).duration=+n.apply(this,arguments)}}function xs(t,n){return n=+n,function(){B(this,t).duration=n}}function bs(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?ws:xs)(n,t)):D(this.node(),n).duration}function ks(t,n){if(typeof n!="function")throw new Error;return function(){B(this,t).ease=n}}function Ms(t){var n=this._id;return arguments.length?this.each(ks(n,t)):D(this.node(),n).ease}function Ns(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;B(this,t).ease=e}}function As(t){if(typeof t!="function")throw new Error;return this.each(Ns(this._id,t))}function Ss(t){typeof t!="function"&&(t=Te(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],s=o.length,a=r[i]=[],u,l=0;l<s;++l)(u=o[l])&&t.call(u,u.__data__,l,o)&&a.push(u);return new J(r,this._parents,this._name,this._id)}function Es(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u=n[a],l=e[a],f=u.length,c=s[a]=new Array(f),h,d=0;d<f;++d)(h=u[d]||l[d])&&(c[d]=h);for(;a<r;++a)s[a]=n[a];return new J(s,this._parents,this._name,this._id)}function Cs(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Ts(t,n,e){var r,i,o=Cs(n)?qn:B;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(n,e),s.on=i}}function Ls(t,n){var e=this._id;return arguments.length<2?D(this.node(),e).on.on(t):this.each(Ts(e,t,n))}function Ps(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function $s(){return this.on("end.remove",Ps(this._id))}function Rs(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Rn(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],u=a.length,l=o[s]=new Array(u),f,c,h=0;h<u;++h)(f=a[h])&&(c=t.call(f,f.__data__,h,a))&&("__data__"in f&&(c.__data__=f.__data__),l[h]=c,un(l[h],n,e,h,l,D(f,e)));return new J(o,this._parents,n,e)}function Fs(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Ce(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u=r[a],l=u.length,f,c=0;c<l;++c)if(f=u[c]){for(var h=t.call(f,f.__data__,c,u),d,g=D(f,e),x=0,_=h.length;x<_;++x)(d=h[x])&&un(d,n,e,x,h,g);o.push(h),s.push(f)}return new J(o,s,n,e)}var Is=Lt.prototype.constructor;function zs(){return new Is(this._groups,this._parents)}function Hs(t,n){var e,r,i;return function(){var o=pt(this,t),s=(this.style.removeProperty(t),pt(this,t));return o===s?null:o===e&&s===r?i:i=n(e=o,r=s)}}function Je(t){return function(){this.style.removeProperty(t)}}function Os(t,n,e){var r,i=e+"",o;return function(){var s=pt(this,t);return s===i?null:s===r?o:o=n(r=s,e)}}function qs(t,n,e){var r,i,o;return function(){var s=pt(this,t),a=e(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(t),pt(this,t))),s===u?null:s===r&&u===i?o:(i=u,o=n(r=s,a))}}function Ds(t,n){var e,r,i,o="style."+n,s="end."+o,a;return function(){var u=B(this,t),l=u.on,f=u.value[o]==null?a||(a=Je(n)):void 0;(l!==e||i!==f)&&(r=(e=l).copy()).on(s,i=f),u.on=r}}function Xs(t,n,e){var r=(t+="")=="transform"?Yo:Ze;return n==null?this.styleTween(t,Hs(t,r)).on("end.style."+t,Je(t)):typeof n=="function"?this.styleTween(t,qs(t,r,Dn(this,"style."+t,n))).each(Ds(this._id,t)):this.styleTween(t,Os(t,r,n),e).on("end.style."+t,null)}function Vs(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Bs(t,n,e){var r,i;function o(){var s=n.apply(this,arguments);return s!==i&&(r=(i=s)&&Vs(t,s,e)),r}return o._value=n,o}function Ys(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Bs(t,n,e==null?"":e))}function Ws(t){return function(){this.textContent=t}}function Gs(t){return function(){var n=t(this);this.textContent=n==null?"":n}}function Us(t){return this.tween("text",typeof t=="function"?Gs(Dn(this,"text",t)):Ws(t==null?"":t+""))}function Ks(t){return function(n){this.textContent=t.call(this,n)}}function Zs(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&Ks(i)),n}return r._value=t,r}function Js(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Zs(t))}function Qs(){for(var t=this._name,n=this._id,e=Qe(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)if(u=s[l]){var f=D(u,n);un(u,t,e,l,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new J(r,this._parents,t,e)}function js(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};e.each(function(){var l=B(this,r),f=l.on;f!==t&&(n=(t=f).copy(),n._.cancel.push(a),n._.interrupt.push(a),n._.end.push(u)),l.on=n}),i===0&&o()})}var ta=0;function J(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Qe(){return++ta}var K=Lt.prototype;J.prototype={constructor:J,select:Rs,selectAll:Fs,selectChild:K.selectChild,selectChildren:K.selectChildren,filter:Ss,merge:Es,selection:zs,transition:Qs,call:K.call,nodes:K.nodes,node:K.node,size:K.size,empty:K.empty,each:K.each,on:Ls,attr:cs,attrTween:ms,style:Xs,styleTween:Ys,text:Us,textTween:Js,remove:$s,tween:is,delay:vs,duration:bs,ease:Ms,easeVarying:As,end:js,[Symbol.iterator]:K[Symbol.iterator]};function na(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ea={time:null,delay:0,duration:250,ease:na};function ra(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function ia(t){var n,e;t instanceof J?(n=t._id,t=t._name):(n=Qe(),(e=ea).time=On(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,l=0;l<a;++l)(u=s[l])&&un(u,t,n,l,s,e||ra(u,n));return new J(r,this._parents,t,n)}Lt.prototype.interrupt=ns;Lt.prototype.transition=ia;const En=Math.PI,Cn=2*En,nt=1e-6,oa=Cn-nt;function Tn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function je(){return new Tn}Tn.prototype=je.prototype={constructor:Tn,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,s=this._y1,a=e-t,u=r-n,l=o-t,f=s-n,c=l*l+f*f;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(c>nt)if(!(Math.abs(f*a-u*l)>nt)||!i)this._+="L"+(this._x1=t)+","+(this._y1=n);else{var h=e-o,d=r-s,g=a*a+u*u,x=h*h+d*d,_=Math.sqrt(g),b=Math.sqrt(c),p=i*Math.tan((En-Math.acos((g+c-x)/(2*_*b)))/2),y=p/b,w=p/_;Math.abs(y-1)>nt&&(this._+="L"+(t+y*l)+","+(n+y*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>l*d)+","+(this._x1=t+w*a)+","+(this._y1=n+w*u)}},arc:function(t,n,e,r,i,o){t=+t,n=+n,e=+e,o=!!o;var s=e*Math.cos(r),a=e*Math.sin(r),u=t+s,l=n+a,f=1^o,c=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);this._x1===null?this._+="M"+u+","+l:(Math.abs(this._x1-u)>nt||Math.abs(this._y1-l)>nt)&&(this._+="L"+u+","+l),e&&(c<0&&(c=c%Cn+Cn),c>oa?this._+="A"+e+","+e+",0,1,"+f+","+(t-s)+","+(n-a)+"A"+e+","+e+",0,1,"+f+","+(this._x1=u)+","+(this._y1=l):c>nt&&(this._+="A"+e+","+e+",0,"+ +(c>=En)+","+f+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};function sa(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function rn(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function mt(t){return t=rn(Math.abs(t)),t?t[1]:NaN}function aa(t,n){return function(e,r){for(var i=e.length,o=[],s=0,a=t[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),o.push(e.substring(i-=a,i+a)),!((u+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(n)}}function ua(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var la=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function on(t){if(!(n=la.exec(t)))throw new Error("invalid format: "+t);var n;return new Xn({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}on.prototype=Xn.prototype;function Xn(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Xn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fa(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var tr;function ca(t,n){var e=rn(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(tr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+rn(t,Math.max(0,n+o-1))[0]}function ue(t,n){var e=rn(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var le={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:sa,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>ue(t*100,n),r:ue,s:ca,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fe(t){return t}var ce=Array.prototype.map,he=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function ha(t){var n=t.grouping===void 0||t.thousands===void 0?fe:aa(ce.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?fe:ua(ce.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"\u2212":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(c){c=on(c);var h=c.fill,d=c.align,g=c.sign,x=c.symbol,_=c.zero,b=c.width,p=c.comma,y=c.precision,w=c.trim,M=c.type;M==="n"?(p=!0,M="g"):le[M]||(y===void 0&&(y=12),w=!0,M="g"),(_||h==="0"&&d==="=")&&(_=!0,h="0",d="=");var T=x==="$"?e:x==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",N=x==="$"?r:/[%p]/.test(M)?s:"",R=le[M],z=/[defgprs%]/.test(M);y=y===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function H(v){var C=T,A=N,Y,W,tt;if(M==="c")A=R(v)+A,v="";else{v=+v;var G=v<0||1/v<0;if(v=isNaN(v)?u:R(Math.abs(v),y),w&&(v=fa(v)),G&&+v==0&&g!=="+"&&(G=!1),C=(G?g==="("?g:a:g==="-"||g==="("?"":g)+C,A=(M==="s"?he[8+tr/3]:"")+A+(G&&g==="("?")":""),z){for(Y=-1,W=v.length;++Y<W;)if(tt=v.charCodeAt(Y),48>tt||tt>57){A=(tt===46?i+v.slice(Y+1):v.slice(Y))+A,v=v.slice(0,Y);break}}}p&&!_&&(v=n(v,1/0));var U=C.length+v.length+A.length,S=U<b?new Array(b-U+1).join(h):"";switch(p&&_&&(v=n(S+v,S.length?b-A.length:1/0),S=""),d){case"<":v=C+v+A+S;break;case"=":v=C+S+v+A;break;case"^":v=S.slice(0,U=S.length>>1)+C+v+A+S.slice(U);break;default:v=S+C+v+A;break}return o(v)}return H.toString=function(){return c+""},H}function f(c,h){var d=l((c=on(c),c.type="f",c)),g=Math.max(-8,Math.min(8,Math.floor(mt(h)/3)))*3,x=Math.pow(10,-g),_=he[8+g/3];return function(b){return d(x*b)+_}}return{format:l,formatPrefix:f}}var Ot,nr,er;da({thousands:",",grouping:[3],currency:["$",""]});function da(t){return Ot=ha(t),nr=Ot.format,er=Ot.formatPrefix,Ot}function pa(t){return Math.max(0,-mt(Math.abs(t)))}function ga(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mt(n)/3)))*3-mt(Math.abs(t)))}function ma(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,mt(n)-mt(t))+1}function _a(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function ya(t){return function(){return t}}function va(t){return+t}var de=[0,1];function ft(t){return t}function Ln(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:ya(isNaN(n)?NaN:.5)}function wa(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function xa(t,n,e){var r=t[0],i=t[1],o=n[0],s=n[1];return i<r?(r=Ln(i,r),o=e(s,o)):(r=Ln(r,i),o=e(o,s)),function(a){return o(r(a))}}function ba(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<r;)i[s]=Ln(t[s],t[s+1]),o[s]=e(n[s],n[s+1]);return function(a){var u=Cr(t,a,1,r)-1;return o[u](i[u](a))}}function ka(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ma(){var t=de,n=de,e=Hn,r,i,o,s=ft,a,u,l;function f(){var h=Math.min(t.length,n.length);return s!==ft&&(s=wa(t[0],t[h-1])),a=h>2?ba:xa,u=l=null,c}function c(h){return h==null||isNaN(h=+h)?o:(u||(u=a(t.map(r),n,e)))(r(s(h)))}return c.invert=function(h){return s(i((l||(l=a(n,t.map(r),O)))(h)))},c.domain=function(h){return arguments.length?(t=Array.from(h,va),f()):t.slice()},c.range=function(h){return arguments.length?(n=Array.from(h),f()):n.slice()},c.rangeRound=function(h){return n=Array.from(h),e=Xo,f()},c.clamp=function(h){return arguments.length?(s=h?!0:ft,f()):s!==ft},c.interpolate=function(h){return arguments.length?(e=h,f()):e},c.unknown=function(h){return arguments.length?(o=h,c):o},function(h,d){return r=h,i=d,f()}}function Na(){return Ma()(ft,ft)}function Aa(t,n,e,r){var i=Lr(t,n,e),o;switch(r=on(r==null?",f":r),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=ga(i,s))&&(r.precision=o),er(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=ma(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=pa(i))&&(r.precision=o-(r.type==="%")*2);break}}return nr(r)}function Sa(t){var n=t.domain;return t.ticks=function(e){var r=n();return Tr(r[0],r[r.length-1],e==null?10:e)},t.tickFormat=function(e,r){var i=n();return Aa(i[0],i[i.length-1],e==null?10:e,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,s=r[i],a=r[o],u,l,f=10;for(a<s&&(l=s,s=a,a=l,l=i,i=o,o=l);f-- >0;){if(l=Ne(s,a,e),l===u)return r[i]=s,r[o]=a,n(r);if(l>0)s=Math.floor(s/l)*l,a=Math.ceil(a/l)*l;else if(l<0)s=Math.ceil(s*l)/l,a=Math.floor(a*l)/l;else break;u=l}return t},t}function Pn(){var t=Na();return t.copy=function(){return ka(t,Pn())},_a.apply(t,arguments),Sa(t)}function lt(t){return function(){return t}}function Ea(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function rr(t){this._context=t}rr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function Ca(t){return new rr(t)}function Ta(t){return t[0]}function La(t){return t[1]}function Pa(t,n){var e=lt(!0),r=null,i=Ca,o=null;t=typeof t=="function"?t:t===void 0?Ta:lt(t),n=typeof n=="function"?n:n===void 0?La:lt(n);function s(a){var u,l=(a=Ea(a)).length,f,c=!1,h;for(r==null&&(o=i(h=je())),u=0;u<=l;++u)!(u<l&&e(f=a[u],u,a))===c&&((c=!c)?o.lineStart():o.lineEnd()),c&&o.point(+t(f,u,a),+n(f,u,a));if(h)return o=null,h+""||null}return s.x=function(a){return arguments.length?(t=typeof a=="function"?a:lt(+a),s):t},s.y=function(a){return arguments.length?(n=typeof a=="function"?a:lt(+a),s):n},s.defined=function(a){return arguments.length?(e=typeof a=="function"?a:lt(!!a),s):e},s.curve=function(a){return arguments.length?(i=a,r!=null&&(o=i(r)),s):i},s.context=function(a){return arguments.length?(a==null?r=o=null:o=i(r=a),s):r},s}function bt(t,n,e){this.k=t,this.x=n,this.y=e}bt.prototype={constructor:bt,scale:function(t){return t===1?this:new bt(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new bt(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new bt(1,0,0);function $a(t){let n;return{c(){n=Q("g"),m(n,"class","axis svelte-16yi2kn"),m(n,"transform",t[1])},m(e,r){I(e,n,r),t[8](n)},p(e,[r]){r&2&&m(n,"transform",e[1])},i:X,o:X,d(e){e&&P(n),t[8](null)}}}function Ra(t,n,e){let{innerHeight:r}=n,{margin:i}=n,{position:o}=n,{scale:s}=n,{width:a}=n,{variable:u}=n,l,f;console.log(u);function c(h){Gt[h?"unshift":"push"](()=>{f=h,e(0,f)})}return t.$$set=h=>{"innerHeight"in h&&e(2,r=h.innerHeight),"margin"in h&&e(3,i=h.margin),"position"in h&&e(4,o=h.position),"scale"in h&&e(5,s=h.scale),"width"in h&&e(6,a=h.width),"variable"in h&&e(7,u=h.variable)},t.$$.update=()=>{if(t.$$.dirty&253){Zt(f).selectAll("*").remove();let h;switch(o){case"bottom":Number(a)>350?(h=Wn(s).tickFormat((d,g)=>["2011","2012","2013","2014","2015","2016","2017","2018","2019","2020"][g]),e(1,l=`translate(0, ${r})`)):(h=Wn(s).tickFormat((d,g)=>["","2012","","2014","","2016","","2018","","2020"][g]),e(1,l=`translate(0, ${r})`));break;case"left":u==="count"?(h=wn(s).ticks(3).tickSizeOuter(0),e(1,l=`translate(${i}, 0)`)):(h=wn(s).ticks(3).tickSizeOuter(0).tickFormat((d,g)=>["0","$50,000,000","$100,000,000","$150,000,000"][g]),e(1,l=`translate(${i}, 0)`))}Zt(f).call(h)}},[f,l,r,i,o,s,a,u,c]}class pe extends Tt{constructor(n){super(),Ct(this,n,Ra,$a,Et,{innerHeight:2,margin:3,position:4,scale:5,width:6,variable:7})}}function Fa(t){let n;return{c(){n=Q("g"),m(n,"class","grid svelte-4ymr8e"),m(n,"transform",t[1])},m(e,r){I(e,n,r),t[6](n)},p(e,[r]){r&2&&m(n,"transform",e[1])},i:X,o:X,d(e){e&&P(n),t[6](null)}}}function Ia(t,n,e){let{margin:r}=n,{position:i}=n,{scale:o}=n,{width:s}=n,a,u;function l(f){Gt[f?"unshift":"push"](()=>{u=f,e(0,u)})}return t.$$set=f=>{"margin"in f&&e(2,r=f.margin),"position"in f&&e(3,i=f.position),"scale"in f&&e(4,o=f.scale),"width"in f&&e(5,s=f.width)},t.$$.update=()=>{if(t.$$.dirty&61){Zt(u).selectAll("*").remove();let f;switch(i){case"left":f=wn(o).ticks(4).tickSizeOuter(0).tickFormat("").tickSize(-Number(s)),e(1,a=`translate(${r}, 0)`)}Zt(u).call(f)}},[u,a,r,i,o,s,l]}class za extends Tt{constructor(n){super(),Ct(this,n,Ia,Fa,Et,{margin:2,position:3,scale:4,width:5})}}function ge(t,n,e){const r=t.slice();return r[1]=n[e],r[18]=e,r}function me(t){let n,e,r,i,o,s;function a(...u){return t[13](t[1],...u)}return{c(){n=Q("circle"),i=Z(`
				/>`),m(n,"cx",e=t[4](t[1].year)),m(n,"cy",r=t[3](t[1][t[0]])),m(n,"r","5"),m(n,"class","svelte-1hjblyg")},m(u,l){I(u,n,l),I(u,i,l),o||(s=[Wt(n,"mouseover",a),Wt(n,"mouseout",t[14])],o=!0)},p(u,l){t=u,l&18&&e!==(e=t[4](t[1].year))&&m(n,"cx",e),l&11&&r!==(r=t[3](t[1][t[0]]))&&m(n,"cy",r)},d(u){u&&P(n),u&&P(i),o=!1,St(s)}}}function _e(t){let n;function e(o,s){return o[0]==="count"?Oa:Ha}let r=e(t),i=r(t);return{c(){i.c(),n=xe()},m(o,s){i.m(o,s),I(o,n,s)},p(o,s){r===(r=e(o))&&i?i.p(o,s):(i.d(1),i=r(o),i&&(i.c(),i.m(n.parentNode,n)))},d(o){i.d(o),o&&P(n)}}}function Ha(t){let n,e,r=t[6].set_fine_amount.toLocaleString()+"",i;return{c(){n=E("div"),e=Z("$"),i=Z(r),m(n,"id","tooltip"),j(n,"left",t[7]+"px"),j(n,"top",t[8]-25+"px"),m(n,"class","svelte-1hjblyg")},m(o,s){I(o,n,s),k(n,e),k(n,i)},p(o,s){s&64&&r!==(r=o[6].set_fine_amount.toLocaleString()+"")&&be(i,r),s&128&&j(n,"left",o[7]+"px"),s&256&&j(n,"top",o[8]-25+"px")},d(o){o&&P(n)}}}function Oa(t){let n,e=t[6].count.toLocaleString()+"",r;return{c(){n=E("div"),r=Z(e),m(n,"id","tooltip"),j(n,"left",t[7]+"px"),j(n,"top",t[8]-25+"px"),m(n,"class","svelte-1hjblyg")},m(i,o){I(i,n,o),k(n,r)},p(i,o){o&64&&e!==(e=i[6].count.toLocaleString()+"")&&be(r,e),o&128&&j(n,"left",i[7]+"px"),o&256&&j(n,"top",i[8]-25+"px")},d(i){i&&P(n)}}}function qa(t){let n,e,r,i,o,s,a,u,l,f,c,h,d,g;i=new pe({props:{innerHeight:t[11],margin:t[10],scale:t[4],position:"bottom",width:t[2],variable:t[0]}}),o=new pe({props:{innerHeight:t[11],margin:t[10],scale:t[3],position:"left",width:"9999",variable:t[0]}}),s=new za({props:{margin:t[10],scale:t[3],position:"left",width:t[5]}});let x=t[1],_=[];for(let p=0;p<x.length;p+=1)_[p]=me(ge(t,x,p));let b=t[6]!=null&&_e(t);return{c(){n=E("div"),e=Q("svg"),r=Q("g"),ht(i.$$.fragment),ht(o.$$.fragment),ht(s.$$.fragment),a=Q("text"),u=Q("path");for(let p=0;p<_.length;p+=1)_[p].c();l=Q("text"),h=F(),b&&b.c(),d=xe(),m(a,"transform",`translate(${-50},${t[11]/2}) rotate(-90)`),m(a,"class","svelte-1hjblyg"),m(u,"d",t[9]),m(u,"class","svelte-1hjblyg"),m(l,"x",f=t[5]/2),m(l,"y",t[11]+35),m(l,"class","svelte-1hjblyg"),m(r,"transform",`translate(${t[10].left},${t[10].top})`),m(e,"width",t[2]),m(e,"height",ir),m(e,"class","svg-content"),m(n,"id","container"),m(n,"class","svg-container svelte-1hjblyg"),Ut(()=>t[15].call(n))},m(p,y){I(p,n,y),k(n,e),k(e,r),it(i,r,null),it(o,r,null),it(s,r,null),k(r,a),k(r,u);for(let w=0;w<_.length;w+=1)_[w].m(r,null);k(r,l),c=hr(n,t[15].bind(n)),I(p,h,y),b&&b.m(p,y),I(p,d,y),g=!0},p(p,[y]){const w={};y&16&&(w.scale=p[4]),y&4&&(w.width=p[2]),y&1&&(w.variable=p[0]),i.$set(w);const M={};y&8&&(M.scale=p[3]),y&1&&(M.variable=p[0]),o.$set(M);const T={};if(y&8&&(T.scale=p[3]),y&32&&(T.width=p[5]),s.$set(T),(!g||y&512)&&m(u,"d",p[9]),y&4187){x=p[1];let N;for(N=0;N<x.length;N+=1){const R=ge(p,x,N);_[N]?_[N].p(R,y):(_[N]=me(R),_[N].c(),_[N].m(r,l))}for(;N<_.length;N+=1)_[N].d(1);_.length=x.length}(!g||y&32&&f!==(f=p[5]/2))&&m(l,"x",f),(!g||y&4)&&m(e,"width",p[2]),p[6]!=null?b?b.p(p,y):(b=_e(p),b.c(),b.m(d.parentNode,d)):b&&(b.d(1),b=null)},i(p){g||(rt(i.$$.fragment,p),rt(o.$$.fragment,p),rt(s.$$.fragment,p),g=!0)},o(p){ct(i.$$.fragment,p),ct(o.$$.fragment,p),ct(s.$$.fragment,p),g=!1},d(p){p&&P(n),ot(i),ot(o),ot(s),lr(_,p),c(),p&&P(h),b&&b.d(p),p&&P(d)}}}const ir=150;function Da(t,n,e){let r,i,o,s,{data:a}=n,{variable:u}=n;const l={top:15,bottom:25,left:80,right:20};let f;const c=ir-l.top-l.bottom;var h=u==="count"?3e6:15e7;let d,g,x;const _=function(w){e(7,g=w.clientX),e(8,x=w.clientY)},b=(w,M)=>{e(6,d=w),_(M)},p=()=>{e(6,d=void 0)};function y(){f=this.offsetWidth,e(2,f)}return t.$$set=w=>{"data"in w&&e(1,a=w.data),"variable"in w&&e(0,u=w.variable)},t.$$.update=()=>{t.$$.dirty&4&&e(5,r=f-l.left-l.right),t.$$.dirty&32&&e(4,i=Pn().domain([2011,2020]).range([0,r])),t.$$.dirty&27&&e(9,s=Pa().x(w=>i(w.year)).y(w=>o(w[u]))(a))},e(3,o=Pn().domain([0,h]).range([c,0])),[u,a,f,o,i,r,d,g,x,s,l,c,_,b,p,y]}class ye extends Tt{constructor(n){super(),Ct(this,n,Da,qa,Et,{data:1,variable:0})}}var ve=[{year:2011,count:2805492,set_fine_amount:114226595},{year:2012,count:2746154,set_fine_amount:111485565},{year:2013,count:2611575,set_fine_amount:106483340},{year:2014,count:2484983,set_fine_amount:108987340},{year:2015,count:2168493,set_fine_amount:99872770},{year:2016,count:2254761,set_fine_amount:109675985},{year:2017,count:2144225,set_fine_amount:106199960},{year:2018,count:2044288,set_fine_amount:100206695},{year:2019,count:2213939,set_fine_amount:108424170},{year:2020,count:1403663,set_fine_amount:70555350}];function Xa(t){let n,e,r,i,o,s,a,u,l,f,c,h,d,g,x,_,b,p,y,w,M,T,N,R,z,H,v,C,A,Y,W,tt,G,U;return e=new kr({}),v=new ye({props:{data:ve,variable:"count"}}),W=new ye({props:{data:ve,variable:"set_fine_amount"}}),{c(){n=E("main"),ht(e.$$.fragment),r=F(),i=E("div"),i.innerHTML=`<br/><br/> 
		<h1 class="svelte-1kby4lp">Mapping Parking Tickets in Toronto</h1> 
		<p class="svelte-1kby4lp">Over <span id="bold" class="svelte-1kby4lp">22.8 million</span> parking tickets were issued
			in the City of Toronto in the decade spanning
			<span id="bold" class="svelte-1kby4lp">2011 to 2020</span>, representing over
			<span id="bold" class="svelte-1kby4lp">1 billion</span>
			dollars in fines. This map shows almost all
			of these parking tickets.</p>`,o=F(),s=E("div"),a=E("img"),l=F(),f=E("div"),c=E("img"),d=F(),g=E("p"),g.textContent="Number of parking tickets per 100m",x=F(),_=E("div"),b=E("p"),p=Z("Click "),y=E("a"),w=Z("here"),M=Z(` for a high-resolution version of this
			map`),T=F(),N=E("p"),N.textContent=`The spatial distribution of parking tickets represents a combination
			of the supply and demand for curbside space and patterns of
			enforcement.`,R=F(),z=E("p"),z.textContent=`Interestingly, there has been an overall decline in the number of
			tickets issued per year:`,H=F(),ht(v.$$.fragment),C=F(),A=E("p"),A.textContent=`But the total revenue has remained more stable (not accounting for
			inflation), except for 2020.`,Y=F(),ht(W.$$.fragment),tt=F(),G=E("div"),G.innerHTML=`<p id="footnote" class="svelte-1kby4lp"><b>Methods &amp; Data:</b><br/><br/>
			Data on the locations of
			<a href="https://open.toronto.ca/dataset/parking-tickets/" class="svelte-1kby4lp">parking tickets</a>
			are from the City of Toronto. We joined them to the City&#39;s
			<a href="https://open.toronto.ca/dataset/toronto-centreline-tcl/" class="svelte-1kby4lp">Centreline</a>
			data representing streets in order to make this map. Both were available
			as open data. The data on parking tickets only indicate addresses, not
			XY coordinates. Some of the parking tickets (~5%) could not be linked
			to streets due to missing address numbers or incorrect spellings. Code
			for this linking as well as visualization on this page were created by
			<a href="https://jamaps.github.io" class="svelte-1kby4lp">Jeff Allen</a> and are on
			<a href="https://github.com/schoolofcities/parking-tickets-toronto" class="svelte-1kby4lp">GitHub</a>.</p>`,m(i,"class","content svelte-1kby4lp"),pn(a.src,u=yr)||m(a,"src",u),m(a,"alt","Toronto Parking Ticket Map"),m(a,"class","svelte-1kby4lp"),m(s,"id","map"),m(s,"class","svelte-1kby4lp"),pn(c.src,h=wr)||m(c,"src",h),m(c,"alt","Legend"),m(c,"class","svelte-1kby4lp"),m(g,"class","svelte-1kby4lp"),m(f,"id","legend"),m(f,"class","svelte-1kby4lp"),m(y,"href",vr),m(y,"class","svelte-1kby4lp"),m(b,"class","svelte-1kby4lp"),m(N,"class","svelte-1kby4lp"),m(z,"class","svelte-1kby4lp"),m(A,"class","svelte-1kby4lp"),m(_,"class","content svelte-1kby4lp"),m(G,"class","info svelte-1kby4lp"),m(n,"class","svelte-1kby4lp")},m(S,or){I(S,n,or),it(e,n,null),k(n,r),k(n,i),k(n,o),k(n,s),k(s,a),k(n,l),k(n,f),k(f,c),k(f,d),k(f,g),k(n,x),k(n,_),k(_,b),k(b,p),k(b,y),k(y,w),k(b,M),k(_,T),k(_,N),k(_,R),k(_,z),k(_,H),it(v,_,null),k(_,C),k(_,A),k(_,Y),it(W,_,null),k(n,tt),k(n,G),U=!0},p:X,i(S){U||(rt(e.$$.fragment,S),rt(v.$$.fragment,S),rt(W.$$.fragment,S),U=!0)},o(S){ct(e.$$.fragment,S),ct(v.$$.fragment,S),ct(W.$$.fragment,S),U=!1},d(S){S&&P(n),ot(e),ot(v),ot(W)}}}class Va extends Tt{constructor(n){super(),Ct(this,n,null,Xa,Et,{})}}new Va({target:document.getElementById("app")});
